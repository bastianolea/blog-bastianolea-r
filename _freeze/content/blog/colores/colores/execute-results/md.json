{
  "hash": "21e0dd553a0cb0143032ba4e952ede45",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Creación y personalización de colores y paletas en R\nauthor: Bastián Olea Herrera\ndate: '2025-03-06'\nfreeze: true\nformat:\n  hugo-md:\n    output-file: \"index\"\n    output-ext: \"md\"\n    fig-height: 2\nslug: []\ncategories: []\ntags:\n  - visualización de datos\n  - ggplot2\nexecute:\n  message: false\nexcerpt: \"El uso del color es clave para comunicar, y el ecosistema de R tiene varios trucos convenientes para ayudarnos a usar el color de mejores formas. En este post reúno varios consejos y trucos para trabajar con colores: desde previsualizarlos, mezclarlos, combinarlos y usarlos como paletas en gráficos.\"\n---\n\n\nEl uso del color es clave para comunicar, y el ecosistema de R tiene varios trucos convenientes para ayudarnos a usar el color de mejores formas. \n\nEn R, los colores se escriben como código, y a grandes rasgos pueden ser colores con **nombre** (por ejemplo, `\"purple\"`), colores **hexadecimales** (escritos como códigos de al menos 6 dígitos, como `#FFFFFF`), o como parte de funciones que producen **paletas** de colores.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(shades)\nlibrary(scales)\n```\n:::\n\n\n## Previsualizar colores\n\nA lo largo de este post usaremos la función `swatch()` del paquete `{shades}`, que genera un gráfico que presenta el color o la paleta de colores a partir de un vector de colores, lo que nos ayudará a visualizar nuestros colores más fácil. Una alternativa es la función `show_col()` de `{scales}`, que hace lo mismo. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolores <- c(\"#EAD2FA\", \"#9069C0\", \"#6E3A98\")\n```\n:::\n\n\n{{< columnas >}}\n\n{{< columna >}}\n\n::: {.cell}\n\n```{.r .cell-code}\nshades::swatch(colores)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-3-1.png){width=1120}\n:::\n:::\n\n\n{{< columna >}}\n\n::: {.cell}\n\n```{.r .cell-code}\nscales::show_col(colores)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-4-1.png){width=1120}\n:::\n:::\n\n\n{{< fin_columnas >}}\n\n\n\n\n## Crear colores\nLa forma más básica de elegir un color en R es por su _nombre_. En R existen 657 colores con nombre. En la siguiente imagen puedes ver los principales:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-5-1.png){width=2240}\n:::\n:::\n\n\nPara usarlos, simplemente usa su nombre:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolores <- c(\"indianred\", \"steelblue\", \"grey60\")\nswatch(colores)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-6-1.png){width=768}\n:::\n:::\n\n\nCasi todos estos colores pueden ser modificados agregando un número del 1 al 4 al final del nombre; por ejemplo, `mediumorchid` puede hacerse levemente más claro o más oscuro:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nescala <- c(\"mediumorchid\", \"mediumorchid1\", \"mediumorchid2\", \"mediumorchid3\", \"mediumorchid4\")\nswatch(escala)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-7-1.png){width=768}\n:::\n:::\n\nLos grises (`gray`) tienen la particularidad de que puedes ponerles un número entre 10 y 99 para ajustar su brillo:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nescala <- c(\"gray10\", \"gray30\", \"gray50\", \"gray70\", \"gray90\")\nswatch(escala)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-8-1.png){width=768}\n:::\n:::\n\n\n\nTambién puedes escribir un color definiendo su tonalidad (_hue_), saturación (_saturation_) y brillo (_value_) con `hsv()`, entendiendo que el matiz es la posición del color en la escala de todos los colores, que va del 0 al 1, empezando y terminando con el rojo:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor <- hsv(h = 0, s = 1, v = 1)\nswatch(color)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-9-1.png){width=768}\n:::\n:::\n\n\nPara guiarse, la siguiente gráfica muestra la tonalidad de colores entre `0` y `1`,\n\n::: {.cell}\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-10-1.png){width=768}\n:::\n:::\n\n\nSiguiendo el gráfico anterior, vemos que el tono `0.8` corresponde al color morado, así que podemos crearlo con `hsv()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor <- hsv(0.85, 1, 1)\nswatch(color)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-11-1.png){width=768}\n:::\n:::\n\n\nLuego podemos modificar la saturación y brillo del color con los otros dos argumentos de `hsv()`:\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor <- hsv(0.82, 0.5, 0.4)\nswatch(color)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-12-1.png){width=768}\n:::\n:::\n\n\n\n\n## Extender paletas de colores\n\nSi tienes un vector de colores y necesitas alargarlo para tener más colores basados en la paleta original, puedes hacerlo con la función `colorRampPalette()`. Esta función crea otra _función_ a partir de los colores, a la que luego le das el número de colores que necesites obtener a partir de la paleta original:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# paleta de 5 colores\npaleta <- c(\"#f4b43f\", \"#ec6a2d\", \"#cc3b7b\", \"#705ce6\", \"#668cf6\")\n\nswatch(paleta)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-13-1.png){width=768}\n:::\n\n```{.r .cell-code}\n# extender la paleta de 5 colores a 12 colores\ncolorRampPalette(paleta)(12) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-13-2.png){width=768}\n:::\n:::\n\n\nTambién podemos usar esta función para crear con facilidad una paleta secuencial entre dos o más colores:\n\n::: {.cell}\n\n```{.r .cell-code}\ncolores <- c(\"#df65b2\", \"#fae55f\")\n\n# extender la paleta a 8 colores\ncolorRampPalette(colores)(8) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-14-1.png){width=768}\n:::\n:::\n\n\n\n## Paletas de colores\nVarios paquetes de R contienen sus propias paletas de colores prediseñadas. Uno de los conjuntos de paletas principales en visualización de datos, sobre todo para mapas, son las de [Color Brewer](https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3), a las que puedes acceder con el paquete `{RColorBrewer}`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nRColorBrewer::display.brewer.all()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-15-1.png){width=864}\n:::\n:::\n\n\nCuando elijas una de las paletas, puedes usarla [en cualquier gráfico de `{ggplot2}`](/blog/r_introduccion/tutorial_visualizacion_ggplot/) con la función `scale_color_brewer()` o `scale_fill_brewer()`, según corresponda:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\niris |> \n  ggplot() +\n  aes(x = Sepal.Length, y = Sepal.Width, color = Species) +\n  geom_point(size = 4, alpha = 0.7) +\n  scale_color_brewer(palette = \"PuRd\") +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-16-1.png){width=768}\n:::\n:::\n\n\nCon el paquete `{colorspace}` también podemos ver otras paletas disponibles:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(colorspace)\n\ncolorspace::hcl_palettes(plot = TRUE)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-17-1.png){width=1152}\n:::\n:::\n\n\nUsar estas paletas en `{ggplot2}` es tan fácil como agregar la función de escala apropiada para definir los colores del gráfico:\n\n\n::: {.cell}\n\n```{.r .cell-code}\niris |> \n  ggplot() +\n  aes(Petal.Width, Sepal.Width, color = Sepal.Length) +\n  geom_point(size = 4, alpha = 0.7) +\n  colorspace::scale_color_continuous_sequential(palette = \"Sunset\") +\n  scale_y_continuous(expand = expansion(c(0, 0.1))) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-18-1.png){width=768}\n:::\n:::\n\n\nEncuentro una lista que compila todas las paletas de colores de la comunidad de R [en este repositorio.](https://github.com/EmilHvitfeldt/r-color-palettes)\n\n\n### Paletas secuenciales\n\nLas paletas secuenciales consiste en un degradado entre dos o más colores. Suelen usarse para representar una variable continua o numérica, cuyo valor va cambiando de forma cuantitativa.\n\nLa función `sequential_hcl()` del paquete {colorspace} permite crear paletas secuenciales\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::sequential_hcl(8, h = 300) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-19-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::sequential_hcl(8, h = c(300, 100)) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-19-2.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::sequential_hcl(5, h = 260,\n                           c = c(45, 25), l = c(25, 85), power = .9) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-19-3.png){width=768}\n:::\n:::\n\n\nTambién se pueden obtener vectores de colores a partir de las paletas existentes que vienen con el paquete {colorspace}:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::sequential_hcl(5, palette = \"Red-Blue\") |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-20-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::sequential_hcl(5, palette = \"Purple-Orange\") |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-20-2.png){width=768}\n:::\n:::\n\n\n\n### Paletas cualitativas\n\nComo su nombre ética, en las paletas cualitativas los colores van saltando para maximizar la diferencia entre ellos. Se utilizan para variables cualitativas, categóricas o discretas, donde cada elemento de una secuencia es independiente de los demás, y el objetivo del uso del color es poder distinguirlos. \n\nLa función `rainbow_hcl()` de {colorspace} entrega una típica paleta de arcoíris, pero con la posibilidad de modificar sus atributos de color en sus argumentos, tales como las tonalidades (_hue_) de inicio o final, la intensidad (_chroma_) de los tonos\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::rainbow_hcl(7, c = 70) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-21-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::rainbow_hcl(7, c = 100, start = 190, end = 380) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-21-2.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::rainbow_hcl(6, c = 60, l = 30, start = 230, end = 370) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-21-3.png){width=768}\n:::\n:::\n\nÉste tipo de paletas usualmente reúne colores en una escala tipo arcoíris, o bien reúne colores temáticos, distintos entre ellos, pero armónicos entre sí.\n\nTambién pueden usarse los nombres de las paredes preexistentes para generar una secuencia cualitativa con ellos.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::qualitative_hcl(6, palette = \"Cold\", c = 80) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-22-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::qualitative_hcl(6, palette = \"Warm\", c = 80) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-22-2.png){width=768}\n:::\n:::\n\n\n\n### Paletas divergentes\n\nLas paletas divergentes se utilizan cuando una variable expresa a dos polos, una una misma magnitud donde los extremos son separados por una brecha central.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::diverging_hcl(n = 5, h = c(200, 300)) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-23-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::diverging_hcl(n = 7, h = c(700, 180)) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-23-2.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::diverging_hcl(n = 7, h = c(700, 180), c = 130, alpha = .7) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-23-3.png){width=768}\n:::\n:::\n\n\n\n\n## Modificar colores\n\nLas funciones del paquete `{shades}` nos permitan obtener información detallada sobre cada uno de los colores, y usar esta misma información para modificarlos con mucho detalle.\n\nPor ejemplo, definamos un color, y luego obtengamos el valor de su tonalidad. Recordemos que la tonalidad de los colores se expresan como grados entre 0° y 360°.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(shades)\n\ncolor <- \"#f65b74\"\n\nswatch(color)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-24-1.png){width=768}\n:::\n\n```{.r .cell-code}\nhue(color)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 350.3226\n```\n\n\n:::\n:::\n\n\nObtenemos que, para el color definido, el valor de su tonalidad es 350. Podemos usar esta información para modificar levemente el mismo color y así obtener una variable del mismo color levemente más anaranjada.\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(c(color, hue(color, 370)))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-25-1.png){width=768}\n:::\n:::\n\n\nPodemos obtener mismos resultados utilizando el _delta_ de la tonalidad del color; es decir, sumándole restándole una cantidad de grados a el valor de la tonalidad del color mismo:\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(c(color, hue(color, delta(50))))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-26-1.png){width=768}\n:::\n:::\n\nAl usar la función `delta()`, lo que hacemos es pedirle que cambie la tonalidad del color en 50°, volviéndose en un tono amarillo.\n\nPodemos obtener un resultado similar usando `col_shift()` del paquete `{scales}`:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\nshow_col(c(color, col_shift(color, 20)))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-27-1.png){width=768}\n:::\n:::\n\n\nEl **brillo** (_brighness_) va de cero a uno, mientras que la claridad (_lightness_) va de cero a 100.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor |> brightness(0.7) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-28-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolor |> lightness(delta(20)) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-28-2.png){width=768}\n:::\n:::\n\n\nCon `{scales}`, la función `col_lighter()` realiza el mismo propósito:\n\n::: {.cell}\n\n```{.r .cell-code}\ncol_lighter(color, 20) |> show_col()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-29-1.png){width=768}\n:::\n:::\n\n\n\nPor su parte, la **saturación** aumenta la intensidad del color.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor |> saturation(delta(30)) |> swatch()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-30-1.png){width=768}\n:::\n:::\n\n\nPodemos utilizar la función `delta()` para crear una sencilla paleta de colores a partir de un mismo color, aumentando y disminuyendo su intensidad (_chroma_):\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(\n  c(color |> chroma(delta(30)), \n    color,\n    color |> chroma(delta(-30)))\n)\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-31-1.png){width=768}\n:::\n:::\n\n\nEn `{scales}`, la función es `col_saturate()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncol_saturate(color, -50) |> show_col()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-32-1.png){width=768}\n:::\n:::\n\n\nPodemos combinar estas técnicas para crear una paleta de colores más compleja, construida toda a partir de un solo color al cual se le va aumentando o disminuyendo sus valores de claridad e intensidad. El beneficio de hacerlo de esta manera es que luego basta con cambiar el color principal para obtener una paleta de iguales características, pero basada en una tonalidad distinta.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor_principal = \"#4D4484\"\n\ncolor_fondo = color_principal |> lightness(13) |> chroma(20)\ncolor_detalle = color_principal |> lightness(20) |> chroma(40)\ncolor_destacado = color_principal |> lightness(50) |> chroma(65)\ncolor_texto = color_principal |> lightness(80)\n\nswatch(c(color_principal,\n         color_fondo,\n         color_detalle,\n         color_destacado,\n         color_texto))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-33-1.png){width=768}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor_principal = \"#3170ac\"\n\ncolor_fondo = color_principal |> lightness(13) |> chroma(20)\ncolor_detalle = color_principal |> lightness(20) |> chroma(40)\ncolor_destacado = color_principal |> lightness(50) |> chroma(65)\ncolor_texto = color_principal |> lightness(80)\n\nswatch(c(color_principal,\n         color_fondo,\n         color_detalle,\n         color_destacado,\n         color_texto))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-34-1.png){width=768}\n:::\n:::\n\n\nNotar que el código es igual, y sólo se cambió el valor del `color_principal`. Esta estrategia es muy útil si se están produciendo visualizaciones o aplicaciones que ocupan una paleta de colores monocroma.\n\n\n## Mezclar colores\nLas funciones `submix()` y `addmix()` del paquete {shades} facilitan el mezclado de colores sustraje ctivo y aditivo, respectivamente. A partir de dos colores, entrega la mezcla de ellos, abriendo muchas posibilidades para la experimentación y creación de nuevos colores:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(c(\"#70f1d5\",\n         submix(\"#70f1d5\", \"#fae55f\"),\n         \"#fae55f\"))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-35-1.png){width=768}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(c(\"#3377f7\",\n         addmix(\"#3377f7\", \"#ec4e3c\"),\n         \"#ec4e3c\"))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-36-1.png){width=768}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nswatch(c(\"#f9ce45\",\n         submix(\"#f9ce45\", \"#77d671\", amount = 0.5),\n         \"#77d671\"))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-37-1.png){width=768}\n:::\n:::\n\n\nEl paquete `{scales}` también provee una función para mezclar colores. Se puede usar esta función para tomar una paleta de colores y volverla más coherente al aplicarle una pequeña fracción de otro color, en este caso naranja:\n\n::: {.cell}\n\n```{.r .cell-code}\ncol_mix(a = c(\"#77d671\", \"#70f1d5\", \"#fae55f\", \"#ff479c\"),\n        b = \"orange2\", \n        amount = 0.2) |> show_col()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-38-1.png){width=768}\n:::\n:::\n\n\n\n## Usar paletas de colores en {ggplot2}\nMuchas de estos paquetes incorporan funciones de escalas de colores (`scale_color_x()`, `scale_fill_x()`) para aplicar una paleta de color fácilmente a un gráfico creado {ggplot2}.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n\niris |> \n  ggplot() +\n  geom_bar(aes(Petal.Width, fill = Species)) +\n  colorspace::scale_fill_discrete_qualitative(palette = \"Dark 3\") +\n  scale_y_continuous(expand = expansion(c(0, 0.1))) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-39-1.png){width=768}\n:::\n\n```{.r .cell-code}\niris |> \n  ggplot() +\n  geom_point(aes(Sepal.Width, Sepal.Length, color = Petal.Width, size = Petal.Length), alpha = .8) +\n  colorspace::scale_color_continuous_sequential(palette = \"Sunset\", na.value = \"white\") +\n  theme_classic() +\n  guides(size = guide_legend(override.aes = list(color = \"#784FA1\")),\n         color = guide_colorsteps()) +\n  theme(legend.title = element_blank(),\n        axis.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-39-2.png){width=768}\n:::\n\n```{.r .cell-code}\niris |> \n  ggplot() +\n  geom_point(aes(Petal.Length, Sepal.Width, color = Petal.Width, size = Sepal.Length), alpha = .8) +\n  viridis::scale_colour_viridis(\"viridis\", na.value = \"white\") +\n  theme_classic() +\n  guides(size = guide_legend(override.aes = list(color = \"#88D181\")),\n         color = guide_colorsteps()) +\n  theme(legend.title = element_blank(),\n        axis.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-39-3.png){width=768}\n:::\n:::\n\n\nAlgunas de las funciones para aplicar paletas de colores tienen funcionalidades extras. Por ejemplo, las funciones de `{colorspace}` permiten modificar sus paletas en términos de la saturación (_chroma_) y el brillo del color (_luminance_), entregándote más libertad al momento de definir una apariencia específica:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrafico <- iris |> \n  ggplot() +\n  geom_point(aes(Sepal.Width, Sepal.Length, color = Petal.Width), size = 3, alpha = .8) +\n  theme_classic() +\n  guides(color = guide_colorsteps()) +\n  theme(legend.title = element_blank(),\n        axis.title = element_blank())\n\ngrafico +\n  colorspace::scale_color_continuous_sequential(\n    palette = \"TealGrn\", \n    c1 = 50, # intensidad del color\n    l1 = 60) # brillo del color\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-40-1.png){width=768}\n:::\n\n```{.r .cell-code}\ngrafico +\n  colorspace::scale_color_continuous_sequential(\n    palette = \"TealGrn\", \n    c1 = 20, # intensidad del color\n    l1 = 30) # brillo del color\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-40-2.png){width=768}\n:::\n:::\n\n\n\n\n\n{{< aviso \"Si quieres aprender visualización de datos con `{ggplot2}`, puedes revisar [este tutorial sobre visualización de datos desde cero!](/blog/r_introduccion/tutorial_visualizacion_ggplot/)\" >}}\n\n## Avanzado\n\n`{colorspace}` incluye funciones para poder visualizar secuencias de colores en proyecciones del espacio de color HCL (_hue, chroma, luminance_), lo que nos permite contextualizar las paletas en un espacio perceptual del color basado en estos tres parámetros.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolorspace::hclplot(sequential_hcl(7, h = 260, c = 80, l = c(35, 95), power = 1.5))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-41-1.png){width=768}\n:::\n\n```{.r .cell-code}\ncolorspace::hclplot(sequential_hcl(7, h = c(260, 220), c = c(50, 75, 0), l = c(30, 95), power = 1))\n```\n\n::: {.cell-output-display}\n![](colores.markdown_strict_files/figure-markdown_strict/unnamed-chunk-41-2.png){width=768}\n:::\n:::\n\n\n----\n\n## Fuentes y recursos\n\n- https://github.com/EmilHvitfeldt/r-color-palettes\n- https://r-graph-gallery.com/ggplot2-color.html\n- https://www.datanovia.com/en/blog/top-r-color-palettes-to-know-for-great-data-visualization/\n- https://jbengler.github.io/tidyplots/articles/Color-schemes.html\n\n{{< cafecito >}}",
    "supporting": [
      "colores.markdown_strict_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}
{
  "hash": "0cb1f15085663cf070d1c4bf036fedeb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Tutorial: introducción a {dplyr} con datos de población'\nauthor: Bastián Olea Herrera\ndate: '2024-11-08'\ndraft: false\nfreeze: true\nweight: 14\nformat: hugo-md\nslug: []\ncategories:\n  - Tutoriales\ntags:\n  - dplyr\nexcerpt: \"Tutorial de introducción al paquete `{dplyr}` para la exploración y análisis de datos con R. Está dirigido a principiantes. En este tutorial veremos cómo explorar un conjunto de datos sobre población.\"\n---\n\nEste post es una introducción al paquete `{dplyr}` para la exploración y análisis de datos con R. Está dirigido a principiantes de R. Si es primera vez que usas R, te recomiendo revisar primero [este breve tutorial inicial de R.](/blog/r_introduccion/r_basico/).\n\n_En este tutorial veremos:_\n- carga de datos de Excel\n- seleccionar columnas\n- ordenar tablas de datos\n- seleccionar filas de una tabla de datos\n- filtrar datos\n\nLos datos usados en este tutorial son las [Proyecciones de población para 2024 de Chile](https://www.ine.gob.cl/estadisticas/sociales/demografia-y-vitales/proyecciones-de-poblacion), calculadas por el Instituto Nacional de Estadísticas (INE). La obtención, procesamiento y visualización de estos datos puede encontrarse [en este repositorio,](https://github.com/bastianolea/censo_proyecciones_poblacion) junto a una [aplicación web desarrollada en R para visualizar los datos](https://github.com/bastianolea/censo_proyecciones).\n\n\n## Instalación de paquetes\n\nLos paquetes son conjuntos de funciones, programas, datos y documentación que sirven para potenciar R. Para poder usarlos, primero hay que instalarlos en nuestro computador usando la función `install.packages()`. Luego de instalarlos, simplemente los cargamos usando `library()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# es necesario instalarlos una sola vez\ninstall.packages(\"dplyr\")\ninstall.packages(\"readxl\")\n```\n:::\n\n\nLuego cargamos los paquetes:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr) # manipulación de datos\nlibrary(readxl) # carga de archivos Excel\n```\n:::\n\n\n`{dplyr}` es un paquete parte del Tidyverse, que se usa para manipular datos a partir de funciones que emulan instrucciones sencillas, como _seleccionar, filtrar,_ etc.\n\n\n## Cargar datos\n\nAntes que nada, debemos **descargar** el archivo que usaremos para el tutorial: \n\n\n{{< boton \"Descargar datos en Excel\" \"https://raw.githubusercontent.com/bastianolea/blog-r/refs/heads/master/content/blog/r_introduccion/tutorial_dplyr_censo/censo_proyeccion_2024.xlsx\" \"fas fa-file-arrow-down\">}}\n\nDescargamos el archivo, y lo guardamos en una carpeta. Esta carpeta debe ser nuestro [proyecto de RStudio](/blog/r_introduccion/proyectos/), o bien, [creamos un nuevo proyecto de RStudio apuntando a esa carpeta](/blog/r_introduccion/proyectos/#crear-un-proyecto), para decirle a R que trabajaremos ahí.\n\nImportamos los datos que usaremos con la funcion `read_excel()`. Si el archivo que queremos cargar está dentro de nuestro [proyecto de RStudio](/blog/r_introduccion/proyectos/), entonces solamente necesitamos poner el nombre del archivo entre comillas, y si no, indicar la subcarpeta del proyecto en donde esté guardado, o si no estamos trabajando en un proyecto, indicar la ruta completa del archivo. \n\nAsignamos el resultado a un objeto, y así tenemos nuestros datos de Excel cargados en R:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso <- read_excel(\"censo_proyeccion_2024.xlsx\") # cargar\n\ncenso # ver los datos de dataframe o tabla\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 7\n   cut_region region      cut_provincia provincia   cut_comuna comuna  población\n        <dbl> <chr>               <dbl> <chr>            <dbl> <chr>       <dbl>\n 1          1 Tarapacá               11 Iquique           1101 Iquique    231962\n 2          1 Tarapacá               11 Iquique           1107 Alto H…    143294\n 3          1 Tarapacá               14 Tamarugal         1401 Pozo A…     18713\n 4          1 Tarapacá               14 Tamarugal         1402 Camiña       1374\n 5          1 Tarapacá               14 Tamarugal         1403 Colcha…      1558\n 6          1 Tarapacá               14 Tamarugal         1404 Huara        3095\n 7          1 Tarapacá               14 Tamarugal         1405 Pica         6291\n 8          2 Antofagasta            21 Antofagasta       2101 Antofa…    444276\n 9          2 Antofagasta            21 Antofagasta       2102 Mejill…     15877\n10          2 Antofagasta            21 Antofagasta       2103 Sierra…      1800\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\nPara ver más filas del dataframe, usamos la función `print()` con el argumento `n`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(censo, n = 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 7\n   cut_region region      cut_provincia provincia   cut_comuna comuna  población\n        <dbl> <chr>               <dbl> <chr>            <dbl> <chr>       <dbl>\n 1          1 Tarapacá               11 Iquique           1101 Iquique    231962\n 2          1 Tarapacá               11 Iquique           1107 Alto H…    143294\n 3          1 Tarapacá               14 Tamarugal         1401 Pozo A…     18713\n 4          1 Tarapacá               14 Tamarugal         1402 Camiña       1374\n 5          1 Tarapacá               14 Tamarugal         1403 Colcha…      1558\n 6          1 Tarapacá               14 Tamarugal         1404 Huara        3095\n 7          1 Tarapacá               14 Tamarugal         1405 Pica         6291\n 8          2 Antofagasta            21 Antofagasta       2101 Antofa…    444276\n 9          2 Antofagasta            21 Antofagasta       2102 Mejill…     15877\n10          2 Antofagasta            21 Antofagasta       2103 Sierra…      1800\n11          2 Antofagasta            21 Antofagasta       2104 Taltal      13967\n12          2 Antofagasta            22 El Loa            2201 Calama     196152\n13          2 Antofagasta            22 El Loa            2202 Ollagüe       269\n14          2 Antofagasta            22 El Loa            2203 San Pe…     11030\n15          2 Antofagasta            23 Tocopilla         2301 Tocopi…     28354\n16          2 Antofagasta            23 Tocopilla         2302 María …      6507\n17          3 Atacama                31 Copiapó           3101 Copiapó    176100\n18          3 Atacama                31 Copiapó           3102 Caldera     19964\n19          3 Atacama                31 Copiapó           3103 Tierra…     14431\n20          3 Atacama                32 Chañaral          3201 Chañar…     13017\n# ℹ 326 more rows\n```\n\n\n:::\n:::\n\n\nAhora que tenemos nuestros datos cargados como un objeto en nuestro entorno de R, podemos empezar a manipularlo y explorarlo usando `{dplyr}`.\n\n## Seleccionar columnas\nLa función `select()` selecciona columnas del dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> # comando + shift + M\n  select(comuna, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 2\n   comuna        población\n   <chr>             <dbl>\n 1 Iquique          231962\n 2 Alto Hospicio    143294\n 3 Pozo Almonte      18713\n 4 Camiña             1374\n 5 Colchane           1558\n 6 Huara              3095\n 7 Pica               6291\n 8 Antofagasta      444276\n 9 Mejillones        15877\n10 Sierra Gorda       1800\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\nEl operador `|>` es un conector, y significa que _a este objeto le hago esto otro;_ es decir, se lee como si dijera \"luego\" o \"entonces\". En este caso: _a `censo` le selecciono `comuna` y `población`._\n\nPodemos seleccionar negativamente; es decir, excluir ciertas columnas\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  select(-cut_provincia, -cut_comuna, -cut_region)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 4\n   region      provincia   comuna        población\n   <chr>       <chr>       <chr>             <dbl>\n 1 Tarapacá    Iquique     Iquique          231962\n 2 Tarapacá    Iquique     Alto Hospicio    143294\n 3 Tarapacá    Tamarugal   Pozo Almonte      18713\n 4 Tarapacá    Tamarugal   Camiña             1374\n 5 Tarapacá    Tamarugal   Colchane           1558\n 6 Tarapacá    Tamarugal   Huara              3095\n 7 Tarapacá    Tamarugal   Pica               6291\n 8 Antofagasta Antofagasta Antofagasta      444276\n 9 Antofagasta Antofagasta Mejillones        15877\n10 Antofagasta Antofagasta Sierra Gorda       1800\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\nTambién podemos seleccionar columnas en base a sus nombres parciales:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  select(-contains(\"cut\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 4\n   region      provincia   comuna        población\n   <chr>       <chr>       <chr>             <dbl>\n 1 Tarapacá    Iquique     Iquique          231962\n 2 Tarapacá    Iquique     Alto Hospicio    143294\n 3 Tarapacá    Tamarugal   Pozo Almonte      18713\n 4 Tarapacá    Tamarugal   Camiña             1374\n 5 Tarapacá    Tamarugal   Colchane           1558\n 6 Tarapacá    Tamarugal   Huara              3095\n 7 Tarapacá    Tamarugal   Pica               6291\n 8 Antofagasta Antofagasta Antofagasta      444276\n 9 Antofagasta Antofagasta Mejillones        15877\n10 Antofagasta Antofagasta Sierra Gorda       1800\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\nSelección de columnas por el numero de una columna (su posición):\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  select(1:3, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 4\n   cut_region region      cut_provincia población\n        <dbl> <chr>               <dbl>     <dbl>\n 1          1 Tarapacá               11    231962\n 2          1 Tarapacá               11    143294\n 3          1 Tarapacá               14     18713\n 4          1 Tarapacá               14      1374\n 5          1 Tarapacá               14      1558\n 6          1 Tarapacá               14      3095\n 7          1 Tarapacá               14      6291\n 8          2 Antofagasta            21    444276\n 9          2 Antofagasta            21     15877\n10          2 Antofagasta            21      1800\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\n\n## Ordenar filas\nUsamos la función `arrange()` para ordenar las filas de nuestros datos de acuerdo a otra variable:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |>\n  arrange(población) |>\n  select(comuna, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 2\n   comuna        población\n   <chr>             <dbl>\n 1 Antártica           151\n 2 Río Verde           205\n 3 Laguna Blanca       248\n 4 Ollagüe             269\n 5 Timaukel            276\n 6 Tortel              585\n 7 San Gregorio        651\n 8 Primavera           674\n 9 O'Higgins           675\n10 General Lagos       801\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\nOrdenar de mayor a menor:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  arrange(desc(población)) |> \n  select(region, comuna, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 3\n   region                    comuna       población\n   <chr>                     <chr>            <dbl>\n 1 Metropolitana de Santiago Puente Alto     667904\n 2 Metropolitana de Santiago Maipú           586812\n 3 Metropolitana de Santiago Santiago        544388\n 4 Antofagasta               Antofagasta     444276\n 5 Metropolitana de Santiago La Florida      407297\n 6 Valparaíso                Viña del Mar    371490\n 7 Metropolitana de Santiago San Bernardo    348640\n 8 Metropolitana de Santiago Las Condes      343632\n 9 Valparaíso                Valparaíso      320816\n10 La Araucanía              Temuco          309696\n# ℹ 336 more rows\n```\n\n\n:::\n:::\n\n\n\nOrdenar por dos variables a la vez\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  arrange(region, desc(población)) |> \n  select(region, comuna, población) |> \n  print(n = 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 346 × 3\n   region             comuna               población\n   <chr>              <chr>                    <dbl>\n 1 Antofagasta        Antofagasta             444276\n 2 Antofagasta        Calama                  196152\n 3 Antofagasta        Tocopilla                28354\n 4 Antofagasta        Mejillones               15877\n 5 Antofagasta        Taltal                   13967\n 6 Antofagasta        San Pedro de Atacama     11030\n 7 Antofagasta        María Elena               6507\n 8 Antofagasta        Sierra Gorda              1800\n 9 Antofagasta        Ollagüe                    269\n10 Arica y Parinacota Arica                   257163\n11 Arica y Parinacota Putre                     2569\n12 Arica y Parinacota Camarones                 1246\n13 Arica y Parinacota General Lagos              801\n14 Atacama            Copiapó                 176100\n15 Atacama            Vallenar                 57360\n16 Atacama            Caldera                  19964\n17 Atacama            Tierra Amarilla          14431\n18 Atacama            Diego de Almagro         13909\n19 Atacama            Chañaral                 13017\n20 Atacama            Huasco                   11590\n# ℹ 326 more rows\n```\n\n\n:::\n:::\n\n\n\n## Filtrar datos \nCon la función `filter()` podemos filtrar nuestro dataframe a partir de una comparación, dejando solamente las filas del dataframe que cumplan con la comparación.\n\nPor ejemplo, dejar sólo las filas donde la comuna sea \"Providencia\":\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> filter(comuna == \"Providencia\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  cut_region region          cut_provincia provincia cut_comuna comuna población\n       <dbl> <chr>                   <dbl> <chr>          <dbl> <chr>      <dbl>\n1         13 Metropolitana …           131 Santiago       13123 Provi…    164009\n```\n\n\n:::\n:::\n\n\nExcluir las filas donde la columna sea \"Alto Hospicio\":\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> filter(comuna != \"Alto Hospicio\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 345 × 7\n   cut_region region      cut_provincia provincia   cut_comuna comuna  población\n        <dbl> <chr>               <dbl> <chr>            <dbl> <chr>       <dbl>\n 1          1 Tarapacá               11 Iquique           1101 Iquique    231962\n 2          1 Tarapacá               14 Tamarugal         1401 Pozo A…     18713\n 3          1 Tarapacá               14 Tamarugal         1402 Camiña       1374\n 4          1 Tarapacá               14 Tamarugal         1403 Colcha…      1558\n 5          1 Tarapacá               14 Tamarugal         1404 Huara        3095\n 6          1 Tarapacá               14 Tamarugal         1405 Pica         6291\n 7          2 Antofagasta            21 Antofagasta       2101 Antofa…    444276\n 8          2 Antofagasta            21 Antofagasta       2102 Mejill…     15877\n 9          2 Antofagasta            21 Antofagasta       2103 Sierra…      1800\n10          2 Antofagasta            21 Antofagasta       2104 Taltal      13967\n# ℹ 335 more rows\n```\n\n\n:::\n:::\n\n\nDejar sólo las observaciones donde la población sea mayor a un valor:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> filter(población > 300000)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 7\n   cut_region region         cut_provincia provincia cut_comuna comuna población\n        <dbl> <chr>                  <dbl> <chr>          <dbl> <chr>      <dbl>\n 1          2 Antofagasta               21 Antofaga…       2101 Antof…    444276\n 2          5 Valparaíso                51 Valparaí…       5101 Valpa…    320816\n 3          5 Valparaíso                51 Valparaí…       5109 Viña …    371490\n 4          9 La Araucanía              91 Cautín          9101 Temuco    309696\n 5         13 Metropolitana…           131 Santiago       13101 Santi…    544388\n 6         13 Metropolitana…           131 Santiago       13110 La Fl…    407297\n 7         13 Metropolitana…           131 Santiago       13114 Las C…    343632\n 8         13 Metropolitana…           131 Santiago       13119 Maipú     586812\n 9         13 Metropolitana…           132 Cordille…      13201 Puent…    667904\n10         13 Metropolitana…           134 Maipo          13401 San B…    348640\n```\n\n\n:::\n:::\n\n\nPoblación menor a 1000, sólo dejar comuna y población, y ordenar de menor a mayor:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  filter(población < 1000) |> \n  select(comuna, población) |> \n  arrange(población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 11 × 2\n   comuna        población\n   <chr>             <dbl>\n 1 Antártica           151\n 2 Río Verde           205\n 3 Laguna Blanca       248\n 4 Ollagüe             269\n 5 Timaukel            276\n 6 Tortel              585\n 7 San Gregorio        651\n 8 Primavera           674\n 9 O'Higgins           675\n10 General Lagos       801\n11 Lago Verde          914\n```\n\n\n:::\n:::\n\n\nPodemos hacer filtros usando funciones que operen sobre las columnas, por ejemplo, para filtrar las filas donde la población sea igual al mínimo de población:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  filter(población == min(población)) |> \n  select(region, comuna, provincia, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 4\n  region                               comuna    provincia         población\n  <chr>                                <chr>     <chr>                 <dbl>\n1 Magallanes y de la Antártica Chilena Antártica Antártica Chilena       151\n```\n\n\n:::\n:::\n\n\nUn caso más útil sería filtrar los casos donde la población sea mayor o igual al promedio de población:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  filter(población >= mean(población)) |> \n  select(region, comuna, provincia, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 84 × 4\n   region      comuna        provincia   población\n   <chr>       <chr>         <chr>           <dbl>\n 1 Tarapacá    Iquique       Iquique        231962\n 2 Tarapacá    Alto Hospicio Iquique        143294\n 3 Antofagasta Antofagasta   Antofagasta    444276\n 4 Antofagasta Calama        El Loa         196152\n 5 Atacama     Copiapó       Copiapó        176100\n 6 Coquimbo    La Serena     Elqui          267400\n 7 Coquimbo    Coquimbo      Elqui          275644\n 8 Coquimbo    Ovalle        Limarí         124401\n 9 Valparaíso  Valparaíso    Valparaíso     320816\n10 Valparaíso  Viña del Mar  Valparaíso     371490\n# ℹ 74 more rows\n```\n\n\n:::\n:::\n\n\nTambién es posible filtrar usando objetos que creamos con anterioridad:\n\n::: {.cell}\n\n```{.r .cell-code}\nmin_pob <- 25000\nmax_pob <- 30000\n\ncenso |> \n  filter(población > min_pob,\n         población < max_pob) |> \n  select(población, comuna, provincia, region)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 16 × 4\n   población comuna     provincia   region                                   \n       <dbl> <chr>      <chr>       <chr>                                    \n 1     28354 Tocopilla  Tocopilla   Antofagasta                              \n 2     29916 Salamanca  Choapa      Coquimbo                                 \n 3     27898 La Cruz    Quillota    Valparaíso                               \n 4     27065 Cartagena  San Antonio Valparaíso                               \n 5     27286 Llaillay   San Felipe  Valparaíso                               \n 6     27749 Las Cabras Cachapoal   Libertador General Bernardo O'Higgins    \n 7     28552 Mostazal   Cachapoal   Libertador General Bernardo O'Higgins    \n 8     26746 Hualqui    Concepción  Biobío                                   \n 9     27152 Lebu       Arauco      Biobío                                   \n10     28028 Nacimiento Bíobío      Biobío                                   \n11     25515 Carahue    Cautín      La Araucanía                             \n12     25488 Freire     Cautín      La Araucanía                             \n13     26617 Pitrufquen Cautín      La Araucanía                             \n14     26558 Collipulli Malleco     La Araucanía                             \n15     25218 Aysén      Aysén       Aysén del General Carlos Ibáñez del Campo\n16     29067 Coihueco   Punilla     Ñuble                                    \n```\n\n\n:::\n:::\n\n\nDel mismo modo, podemos filtrar usando la cifra del promedio de población:\n\n::: {.cell}\n\n```{.r .cell-code}\npromedio <- mean(censo$población)\n\ncenso |> \n  filter(población > promedio)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 84 × 7\n   cut_region region      cut_provincia provincia   cut_comuna comuna  población\n        <dbl> <chr>               <dbl> <chr>            <dbl> <chr>       <dbl>\n 1          1 Tarapacá               11 Iquique           1101 Iquique    231962\n 2          1 Tarapacá               11 Iquique           1107 Alto H…    143294\n 3          2 Antofagasta            21 Antofagasta       2101 Antofa…    444276\n 4          2 Antofagasta            22 El Loa            2201 Calama     196152\n 5          3 Atacama                31 Copiapó           3101 Copiapó    176100\n 6          4 Coquimbo               41 Elqui             4101 La Ser…    267400\n 7          4 Coquimbo               41 Elqui             4102 Coquim…    275644\n 8          4 Coquimbo               43 Limarí            4301 Ovalle     124401\n 9          5 Valparaíso             51 Valparaíso        5101 Valpar…    320816\n10          5 Valparaíso             51 Valparaíso        5109 Viña d…    371490\n# ℹ 74 more rows\n```\n\n\n:::\n:::\n\n\n\n\n\n## Seleccionar filas\nUsamos `slice()` para seleccionar filas específicas del dataframe:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  slice(200:220) # filas del 200 al 220\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 21 × 7\n   cut_region region       cut_provincia provincia  cut_comuna comuna  población\n        <dbl> <chr>                <dbl> <chr>           <dbl> <chr>       <dbl>\n 1          9 La Araucanía            92 Malleco          9205 Lonqui…     11109\n 2          9 La Araucanía            92 Malleco          9206 Los Sa…      7468\n 3          9 La Araucanía            92 Malleco          9207 Lumaco       9916\n 4          9 La Araucanía            92 Malleco          9208 Purén       12103\n 5          9 La Araucanía            92 Malleco          9209 Renaico     11002\n 6          9 La Araucanía            92 Malleco          9210 Traigu…     19260\n 7          9 La Araucanía            92 Malleco          9211 Victor…     35554\n 8         10 Los Lagos              101 Llanquihue      10101 Puerto…    280955\n 9         10 Los Lagos              101 Llanquihue      10102 Calbuco     37626\n10         10 Los Lagos              101 Llanquihue      10103 Cochamó      3947\n# ℹ 11 more rows\n```\n\n\n:::\n:::\n\n\nTambién puede servir para seleccionar la fila que tenga el mayor o menos valor en una columna:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  slice_max(población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  cut_region region          cut_provincia provincia cut_comuna comuna población\n       <dbl> <chr>                   <dbl> <chr>          <dbl> <chr>      <dbl>\n1         13 Metropolitana …           132 Cordille…      13201 Puent…    667904\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  slice_min(población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  cut_region region          cut_provincia provincia cut_comuna comuna población\n       <dbl> <chr>                   <dbl> <chr>          <dbl> <chr>      <dbl>\n1         12 Magallanes y d…           122 Antártic…      12202 Antár…       151\n```\n\n\n:::\n:::\n\nIncluso nos puede servir para seleccionar una cantidad de filas elegidas al azar:\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  slice_sample(n = 5) |> \n  select(comuna)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 1\n  comuna       \n  <chr>        \n1 Panquehue    \n2 Independencia\n3 Melipilla    \n4 Peñalolén    \n5 Chillán Viejo\n```\n\n\n:::\n:::\n\n\n## Selección de filas por grupos\nHaciendo uso de la función `group_by()` podemos realizar operaciones en base a grupos. Esto significa que si agrupamos por región, y luego usamos `slice_max()` para obtener las observaciones con mayor población, el filtro de `slice_max()` se realizará una vez por cada región. Entonces, en vez de solamente obtener la comuna de mayor población del país, obtendremos la comuna con mayor población para cada región.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncenso |> \n  group_by(region) |> \n  slice_max(población) |> \n  select(region, comuna, población)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 16 × 3\n# Groups:   region [16]\n   region                                    comuna       población\n   <chr>                                     <chr>            <dbl>\n 1 Antofagasta                               Antofagasta     444276\n 2 Arica y Parinacota                        Arica           257163\n 3 Atacama                                   Copiapó         176100\n 4 Aysén del General Carlos Ibáñez del Campo Coyhaique        62046\n 5 Biobío                                    Concepción      239776\n 6 Coquimbo                                  Coquimbo        275644\n 7 La Araucanía                              Temuco          309696\n 8 Libertador General Bernardo O'Higgins     Rancagua        274407\n 9 Los Lagos                                 Puerto Montt    280955\n10 Los Ríos                                  Valdivia        182086\n11 Magallanes y de la Antártica Chilena      Punta Arenas    145713\n12 Maule                                     Talca           242344\n13 Metropolitana de Santiago                 Puente Alto     667904\n14 Tarapacá                                  Iquique         231962\n15 Valparaíso                                Viña del Mar    371490\n16 Ñuble                                     Chillán         204091\n```\n\n\n:::\n:::\n\n\nCon esto concluye este tutorial inicial para manipular datos con el paquete `{dplyr}`. En siguientes tutoriales iremos usando funciones más complejas y avanzadas! 🫣\n\n\n----\n\n\nSi este tutorial te sirvió, por favor considera hacerme una donación! Cualquier monto me ayuda al menos a poder tomarme un cafecito 🥺\n\n\n{{< cafecito >}}\n\n{{< cursos >}}",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}
<!DOCTYPE html>
<html lang="es-ES" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.136.5">
<title>An√°lisis y visualizaci√≥n de correlaciones en R | Basti√°n Olea</title>


<meta property="twitter:site" content="@bastimapache">
<meta property="twitter:creator" content="@bastimapache">







  
    
  
<meta name="description" content="El an√°lisis de correlaci√≥n es una t√©cnica estad√≠stica de an√°lisis exploratorio que nos permite identificar si existen relaciones lineales entre distintas variables. En este tutorial aprenderemos a realizar correlaciones entre m√∫ltiples variables, interpretarlas, y visualizarlas de varias maneras distintas.">


<meta property="og:site_name" content="Basti√°n Olea">
<meta property="og:title" content="An√°lisis y visualizaci√≥n de correlaciones en R | Basti√°n Olea">
<meta property="og:description" content="El an√°lisis de correlaci√≥n es una t√©cnica estad√≠stica de an√°lisis exploratorio que nos permite identificar si existen relaciones lineales entre distintas variables. En este tutorial aprenderemos a realizar correlaciones entre m√∫ltiples variables, interpretarlas, y visualizarlas de varias maneras distintas." />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://bastianoleah.netlify.app/blog/correlaciones/" />
<meta property="og:locale" content="es-ES">




    
        <meta property="og:image" content="https://bastianoleah.netlify.app/blog/correlaciones/correlacion-featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://bastianoleah.netlify.app/blog/correlaciones/correlacion-featured.png" >
    
    
  
  <meta itemprop="name" content="An√°lisis y visualizaci√≥n de correlaciones en R">
  <meta itemprop="description" content="El an√°lisis de correlaci√≥n es una t√©cnica estad√≠stica que nos permite identificar si existen relaciones lineales entre distintas variables.
Lo que hace una correlaci√≥n es indicarnos si dos variables tienen una relaci√≥n entre s√≠, en el sentido de que el aumento o disminuci√≥n de una de las variables ocurra en concordancia con la otra variable, ya sea una correlaci√≥n positiva (si una variable aumenta, la otra tambi√©n) o correlaci√≥n negativa (si una variable aumenta, la otra disminuye).">
  <meta itemprop="datePublished" content="2025-07-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-07-09T00:00:00+00:00">
  <meta itemprop="wordCount" content="4188">
  <meta itemprop="image" content="https://bastianoleah.netlify.app/blog/correlaciones/correlacion-featured.png">
  <meta itemprop="keywords" content="Estad√≠stica,Ggplot2,Gr√°ficos,Visualizaci√≥n de datos">
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="false" type="image/x-icon">
  <link rel="icon" href="false" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.9dae2888bc53e1aef239ba1add77b8a61bb249ad5c068c5464836ceb4111eb2c.css" integrity="sha256-na4oiLxT4a7yOboa3Xe4phuySa1cBoxUZINs60ER6yw=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.422a2363d11e9d6836a9931682c00abf3c5a2cb6d5460f3485cb54696b258be4.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://bastianoleah.netlify.app/" title="Home">
      <img src="/img/logo.png" class="dib db-l h2 w-auto" alt="Basti√°n Olea">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Basti√°n Olea: Blog de R">Blog R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/shiny_apps/" title="Basti√°n Olea: Apps">Apps</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/datos_sociales/" title="Basti√°n Olea: Datos">Datos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/clases/" title="Basti√°n Olea: Clases">Clases</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/tags/" title="Basti√°n Olea: Blog">Temas</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/categories/tutoriales/" title="Basti√°n Olea: Tutoriales">Tutoriales</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/r_introduccion/" title="Basti√°n Olea: Tutoriales">Intro a R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/r_introduccion/recursos_r/" title="Basti√°n Olea: Recursos">Recursos R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="Basti√°n Olea: Sobre mi">Yo</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/contacto/" title="Basti√°n Olea: Contacto">Contacto</a>
      
      
      
      <div class="dib v-mid", style = "padding: 4px; margin-top: 4px;">
        <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener">
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener">
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.last.fm/user/bastimapache" title="lastfm" target="_blank" rel="me noopener">
      <i class="fab fa-lastfm fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contacto/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

      </div>
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">An√°lisis y visualizaci√≥n de correlaciones en R</h1>
        
        
        <p class="f7 db mv0 ttu">9/7/2025</p>
        
        
        
  <dl class="f6 lh-copy">
    <em><dd class="fw5 ml0"> <a href="https://bastianoleah.netlify.app/tags/estad%C3%ADstica"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      estad√≠stica</a>  <a href="https://bastianoleah.netlify.app/tags/ggplot2"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      ggplot2</a>  <a href="https://bastianoleah.netlify.app/tags/gr%C3%A1ficos"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      gr√°ficos</a>  <a href="https://bastianoleah.netlify.app/tags/visualizaci%C3%B3n-de-datos"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      visualizaci√≥n de datos</a> </dd></em>
  </dl>
 
        
      

      </header>
      <section class="post-body pt5 pb4">
        <p>El an√°lisis de correlaci√≥n es una t√©cnica estad√≠stica que nos permite <strong>identificar si existen relaciones lineales entre distintas variables.</strong></p>
<p>Lo que hace una correlaci√≥n es indicarnos si dos variables tienen una relaci√≥n entre s√≠, en el sentido de que el aumento o disminuci√≥n de una de las variables ocurra en concordancia con la otra variable, ya sea una <strong>correlaci√≥n positiva</strong> (si una variable aumenta, la otra tambi√©n) o <strong>correlaci√≥n negativa</strong> (si una variable aumenta, la otra disminuye).</p>
<p>Un ejemplo de correlaci√≥n positiva ser√≠a: mientras m√°s solcito, m√°s calor. Una correlaci√≥n negativa ser√≠a: a mayor fr√≠o, menos ganas de levantarse üò¥</p>
<p>En R podemos realizar an√°lisis de correlaci√≥n en conjuntos de datos enteros, y de este modo podemos encontrar todas las correlaciones que existen entre las variables de los datos. Esto se lograr√≠a tomando todas las variables y cruz√°ndolas todas con todas, para luego identificar cu√°les se correlacionan, en qu√© direcci√≥n y con qu√© intensidad.</p>




<h2 id="cargar-datos">Cargar datos
  <a href="#cargar-datos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Para hacer m√°s interesante el tutorial, vamos a cargar dos conjuntos de datos sociales, obtenidos de mi 
<a href="https://bastianolea.github.io/datos_sociales/" target="_blank" rel="noopener">repositorio de datos sociales p√∫blicos</a>.</p>
<p>En esta oportunidad cargaremos un conjunto de datos del 
<a href="https://github.com/bastianolea/sinim_info_municipal" target="_blank" rel="noopener">Sistema de Informaci√≥n Municipal (Sinim)</a>, que es una base de datos sobre los municipios chilenos mantenida anualmente por la 
<a href="https://datos.sinim.gov.cl" target="_blank" rel="noopener">Subsecretar√≠a de Desarrollo Regional y Administrativo (Subdere)</a>, y el conjunto de datos del 
<a href="https://github.com/bastianolea/siedu_indicadores_urbanos/" target="_blank" rel="noopener">Sistema de Indicadores y Est√°ndares de Desarrollo Urbano</a>, conjunto desarrollado por el 
<a href="https://www.ine.gob.cl/herramientas/portal-de-mapas/siedu" target="_blank" rel="noopener">Instituto Nacional de Estad√≠sticas de Chile</a> que agrupa estad√≠sticas Sobre medio ambiente, planificaci√≥n de ciudades, desarrollo sostenible, acceso a servicios b√°sicos, y movilidad.</p>
<p>Gracias al 
<a href="https://bastianolea.github.io/datos_sociales/" target="_blank" rel="noopener">repositorio de datos sociales</a>, tenemos enlaces directos a conjuntos de datos sociales listos para usar, y cargarlos a tu sesi√≥n de R es tan f√°cil como cargar el dato directamente desde internet:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">arrow</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># cargar datos sinim</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">sinim</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">arrow</span><span style="color:#908caa">::</span><span style="color:#ea9a97">read_parquet</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;https://github.com/bastianolea/sinim_datos_comunales/raw/main/datos/sinim_2019-2023.parquet&#34;</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># cargar datos de siedu</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">siedu</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">arrow</span><span style="color:#908caa">::</span><span style="color:#ea9a97">read_parquet</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;https://github.com/bastianolea/siedu_indicadores_urbanos/raw/main/datos/siedu_indicadores_desarrollo_urbano.parquet&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div>



<h2 id="limpieza-de-datos">Limpieza de datos
  <a href="#limpieza-de-datos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Antes que nada, vamos a cargar <code>{dplyr}</code> para el manejo y la limpieza de los datos.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">dplyr</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Ech√©mosle un vistazo a los datos con <code>glimpse()</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">glimpse</span><span style="color:#908caa">(</span><span style="color:#ea9a97">sinim</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code>Rows: 842,510
Columns: 11
$ municipio     &lt;chr&gt; &quot;IQUIQUE&quot;, &quot;ALTO HOSPICIO&quot;, &quot;POZO ALMONTE&quot;, &quot;CAMI√ëA&quot;, &quot;C‚Ä¶
$ cut_comuna    &lt;chr&gt; &quot;01101&quot;, &quot;01107&quot;, &quot;01401&quot;, &quot;01402&quot;, &quot;01403&quot;, &quot;01404&quot;, &quot;0‚Ä¶
$ a√±o_id        &lt;int&gt; 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, ‚Ä¶
$ a√±o           &lt;int&gt; 2019, 2019, 2019, 2019, 2019, 2019, 2019, 2019, 2019, 20‚Ä¶
$ variable_id   &lt;chr&gt; &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, &quot;879&quot;, ‚Ä¶
$ variable      &lt;chr&gt; &quot;Ingresos Propios Permanentes (IPP)&quot;, &quot;Ingresos Propios ‚Ä¶
$ variable_desc &lt;chr&gt; &quot;Indicador Bep Ingresos (variable sistema antiguo)&quot;, &quot;In‚Ä¶
$ area          &lt;chr&gt; &quot;01.  ADMINISTRACION Y FINANZAS MUNICIPALES&quot;, &quot;01.  ADMI‚Ä¶
$ subarea       &lt;chr&gt; &quot;A. INGRESOS MUNICIPALES (M$)&quot;, &quot;A. INGRESOS MUNICIPALES‚Ä¶
$ unidad        &lt;chr&gt; &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M$&quot;, &quot;M‚Ä¶
$ valor         &lt;dbl&gt; 34745945, 4107522, 3776040, 108439, 160661, 1067476, 333‚Ä¶
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">glimpse</span><span style="color:#908caa">(</span><span style="color:#ea9a97">siedu</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code>Rows: 6,701
Columns: 12
$ codigo_comuna    &lt;dbl&gt; 1107, 1107, 1107, 1107, 1107, 1107, 1107, 1107, 1107,‚Ä¶
$ codigo_region    &lt;chr&gt; &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;, &quot;01&quot;,‚Ä¶
$ codigo_provincia &lt;chr&gt; &quot;011&quot;, &quot;011&quot;, &quot;011&quot;, &quot;011&quot;, &quot;011&quot;, &quot;011&quot;, &quot;011&quot;, &quot;011‚Ä¶
$ nombre_region    &lt;chr&gt; &quot;Tarapac√°&quot;, &quot;Tarapac√°&quot;, &quot;Tarapac√°&quot;, &quot;Tarapac√°&quot;, &quot;Tara‚Ä¶
$ nombre_provincia &lt;chr&gt; &quot;Iquique&quot;, &quot;Iquique&quot;, &quot;Iquique&quot;, &quot;Iquique&quot;, &quot;Iquique&quot;‚Ä¶
$ nombre_comuna    &lt;chr&gt; &quot;Alto Hospicio&quot;, &quot;Alto Hospicio&quot;, &quot;Alto Hospicio&quot;, &quot;A‚Ä¶
$ id               &lt;chr&gt; &quot;BPU_8&quot;, &quot;BPU_17&quot;, &quot;EA_34&quot;, &quot;EA_22a&quot;, &quot;EA_22&quot;, &quot;EA_33‚Ä¶
$ a√±o              &lt;dbl&gt; 2018, 2019, 2019, 2021, 2021, 2022, 2018, 2018, 2018,‚Ä¶
$ variable         &lt;chr&gt; &quot;Cantidad de jornadas diarias completas de trabajo de‚Ä¶
$ valor            &lt;dbl&gt; 32.750000, 0.580000, 1.220618, 168.223082, 484.296058‚Ä¶
$ medida           &lt;chr&gt; &quot;Jornadas diarias / 10.000 habs&quot;, &quot;Relaci√≥n (N√∫mero d‚Ä¶
$ estandar         &lt;chr&gt; &quot;Sin est√°ndar&quot;, &quot;Sin est√°ndar&quot;, &quot;Hasta 1 kilogramo / ‚Ä¶
</code></pre>
<p>Notamos que ambos conjuntos de datos vienen en el 
<a href="https://r4ds.had.co.nz/tidy-data.html#longer" target="_blank" rel="noopener">formato <em>largo</em></a>, d√≥nde tenemos una columna con los nombres de las variables o indicadores, y otra columna con los valores correspondientes. As√≠ tenemos una tabla con menor cantidad de columnas,
donde cada fila es una observaci√≥n que corresponde a una comuna del pa√≠s, en un a√±o espec√≠fico, para una de las variables del conjunto de datos, con su valor correspondiente.</p>
<p>Haremos tres cosas con los datos:</p>
<ol>
<li>Primero haremos una selecci√≥n de variables interesantes de cada conjunto de datos.</li>
<li>Luego, como ambos conjuntos de datos poseen mediciones de distintos a√±os en cada una de sus indicadores o estad√≠sticos, realizaremos una agrupaci√≥n por comuna y variable para dejar las mediciones m√°s recientes en cada indicador y en cada comuna.</li>
<li>Finalmente, dejaremos s√≥lo las columnas que nos interesan</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># filtrar variables</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">sinim_2</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">sinim</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">variable</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;Ingresos Propios Permanentes per C√°pita (IPPP)&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Disponibilidad Presupuestaria Municipal por Habitante (M$)&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Inversi√≥n Municipal&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Participaci√≥n de Ingresos por Transferencias en el Ingreso Total&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Porcentaje de Ejecuci√≥n Presupuestaria Devengada Municipal&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Porcentaje de Puntajes PSU Igual o Superior a 450 Puntos en Establecimientos Municipales de Educaci√≥n&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Metros Cuadrados (M2) de Areas Verdes con Mantenimiento por Habitante&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Porcentaje de mujeres funcionarias municipales&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Densidad de Poblaci√≥n por Km2&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Poblaci√≥n Comunal, Estimada por el INE&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH)&#34;</span><span style="color:#908caa">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># dejar s√≥lo la medici√≥n m√°s reciente de cada variable en cada comuna</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">sinim_3</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">sinim_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">group_by</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">variable</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">slice_max</span><span style="color:#908caa">(</span><span style="color:#ea9a97">a√±o</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ungroup</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cut_comuna</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">as.numeric</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">))</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># seleccionar columnas</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">sinim_4</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">sinim_3</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">variable</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">valor</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># filtrar variables</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">siedu_2</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">siedu</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">variable</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Consumo de energ√≠a el√©ctrica per c√°pita residencial&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Tiempo de viaje en hora punta ma√±ana&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Superficie de √°reas verdes p√∫blicas por habitante&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;N√∫mero de microbasurales por cada 10.000 habitantes&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Poblaci√≥n estimada de migrantes internacionales por comuna&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Porcentaje de viviendas en situaci√≥n de hacinamiento&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Tasa de v√≠ctimas de delitos violentos por casos policiales cada 10.000 habitantes&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f6c177">&#34;Tasa de conexiones residenciales fijas de internet por cada 100 habitantes&#34;</span><span style="color:#908caa">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># dejar s√≥lo la medici√≥n m√°s reciente de cada variable en cada comuna</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">siedu_3</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">siedu_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">group_by</span><span style="color:#908caa">(</span><span style="color:#ea9a97">codigo_comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">variable</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">slice_max</span><span style="color:#908caa">(</span><span style="color:#ea9a97">a√±o</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ungroup</span><span style="color:#908caa">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># seleccionar columnas</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">siedu_4</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">siedu_3</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cut_comuna</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">codigo_comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">variable</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">valor</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Veamos c√≥mo van quedando los datos:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">sinim_4</span>
</span></span></code></pre></div><pre><code># A tibble: 3,806 √ó 3
   cut_comuna variable                                                     valor
        &lt;dbl&gt; &lt;chr&gt;                                                        &lt;dbl&gt;
 1       1101 Densidad de Poblaci√≥n por Km2                               1.02e2
 2       1101 Disponibilidad Presupuestaria Municipal por Habitante (M$)  4.27e2
 3       1101 Ingresos Propios Permanentes per C√°pita (IPPP)              1.92e2
 4       1101 Inversi√≥n Municipal                                         2.57e6
 5       1101 Participaci√≥n de Ingresos por Transferencias en el Ingreso‚Ä¶ 4.38e1
 6       1101 Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total 6.4 e0
 7       1101 Poblaci√≥n Comunal, Estimada por el INE                      2.31e5
 8       1101 Porcentaje de Ejecuci√≥n Presupuestaria Devengada Municipal  7.58e1
 9       1101 Porcentaje de Hogares de 0-40% de Ingresos respecto del To‚Ä¶ 4.44e1
10       1101 Porcentaje de Puntajes PSU Igual o Superior a 450 Puntos e‚Ä¶ 7.61e1
# ‚Ñπ 3,796 more rows
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">siedu_4</span>
</span></span></code></pre></div><pre><code># A tibble: 891 √ó 3
   cut_comuna variable                                                     valor
        &lt;dbl&gt; &lt;chr&gt;                                                        &lt;dbl&gt;
 1       1101 Consumo de energ√≠a el√©ctrica per c√°pita residencial         7.09e2
 2       1101 N√∫mero de microbasurales por cada 10.000 habitantes         1.21e1
 3       1101 Poblaci√≥n estimada de migrantes internacionales por comuna  4.46e4
 4       1101 Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidi‚Ä¶ 1.97e1
 5       1101 Porcentaje de viviendas en situaci√≥n de hacinamiento        9.92e0
 6       1101 Superficie de √°reas verdes p√∫blicas por habitante           2.13e0
 7       1101 Tasa de conexiones residenciales fijas de internet por cad‚Ä¶ 2.14e1
 8       1101 Tasa de v√≠ctimas de delitos violentos por casos policiales‚Ä¶ 1.46e2
 9       1101 Tiempo de viaje en hora punta ma√±ana                        3   e1
10       1107 Consumo de energ√≠a el√©ctrica per c√°pita residencial         4.84e2
# ‚Ñπ 881 more rows
</code></pre>




<h3 id="unir-datos">Unir datos
  <a href="#unir-datos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Vamos a combinar estos dos conjuntos de datos para tener una mezcla de variables de temas socioecon√≥micos que ser√≠a interesante correlacionar. Como hicimos que ambos conjuntos de datos est√©n ordenados bajo la misma l√≥gica, para unirlos s√≥lo necesitamos agregar las filas de un conjunto al otro.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">bind_rows</span><span style="color:#908caa">(</span><span style="color:#ea9a97">sinim_4</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">siedu_4</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Ahora que los datos est√°n unidos, contamos con 20 variables para correlacionar.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">distinct</span><span style="color:#908caa">(</span><span style="color:#ea9a97">variable</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">print</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">=</span><span style="color:#3e8fb0">Inf</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 20 √ó 1
   variable                                                                     
   &lt;chr&gt;                                                                        
 1 Densidad de Poblaci√≥n por Km2                                                
 2 Disponibilidad Presupuestaria Municipal por Habitante (M$)                   
 3 Ingresos Propios Permanentes per C√°pita (IPPP)                               
 4 Inversi√≥n Municipal                                                          
 5 Participaci√≥n de Ingresos por Transferencias en el Ingreso Total             
 6 Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total                  
 7 Poblaci√≥n Comunal, Estimada por el INE                                       
 8 Porcentaje de Ejecuci√≥n Presupuestaria Devengada Municipal                   
 9 Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH) 
10 Porcentaje de Puntajes PSU Igual o Superior a 450 Puntos en Establecimientos‚Ä¶
11 Porcentaje de mujeres funcionarias municipales                               
12 Consumo de energ√≠a el√©ctrica per c√°pita residencial                          
13 N√∫mero de microbasurales por cada 10.000 habitantes                          
14 Poblaci√≥n estimada de migrantes internacionales por comuna                   
15 Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional          
16 Porcentaje de viviendas en situaci√≥n de hacinamiento                         
17 Superficie de √°reas verdes p√∫blicas por habitante                            
18 Tasa de conexiones residenciales fijas de internet por cada 100 habitantes   
19 Tasa de v√≠ctimas de delitos violentos por casos policiales cada 10.000 habit‚Ä¶
20 Tiempo de viaje en hora punta ma√±ana                                         
</code></pre>




<h3 id="pivotar-datos-a-ancho">Pivotar datos a ancho
  <a href="#pivotar-datos-a-ancho"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>El √∫ltimo paso antes del an√°lisis de correlaci√≥n es 
<a href="https://r4ds.hadley.nz/data-tidy.html#widening-data" target="_blank" rel="noopener">pivotar la estructura de los datos al formato ancho.</a>, porque las funciones que realizan correlaciones en R esperan que los datos vengan de esta forma.</p>
<p>Si bien en el formato largo tenemos una columna con el nombre de las variables y otra columna con el valor de cada variable, siendo cada fila una observaci√≥n, en el <strong>formato ancho</strong> cada columna corresponde a una variable, mientras que cada fila corresponde a una observaci√≥n.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tidyr</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">datos_ancho</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># pivotar a ancho</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">pivot_wider</span><span style="color:#908caa">(</span><span style="color:#ea9a97">id_cols</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># columna que identifica las observaciones</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ea9a97">values_from</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">valor</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># columna con los valores</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ea9a97">names_from</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">variable</span> <span style="color:#6e6a86"># columna con los nombres de columna</span>
</span></span><span style="display:flex;"><span>              <span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Se consultamos los nombres de las columnas, confirmamos que ahora cada variable se encuentra una columna individual:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">names</span><span style="color:#908caa">(</span><span style="color:#ea9a97">datos_ancho</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code> [1] &quot;cut_comuna&quot;                                                                                           
 [2] &quot;Densidad de Poblaci√≥n por Km2&quot;                                                                        
 [3] &quot;Disponibilidad Presupuestaria Municipal por Habitante (M$)&quot;                                           
 [4] &quot;Ingresos Propios Permanentes per C√°pita (IPPP)&quot;                                                       
 [5] &quot;Inversi√≥n Municipal&quot;                                                                                  
 [6] &quot;Participaci√≥n de Ingresos por Transferencias en el Ingreso Total&quot;                                     
 [7] &quot;Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total&quot;                                          
 [8] &quot;Poblaci√≥n Comunal, Estimada por el INE&quot;                                                               
 [9] &quot;Porcentaje de Ejecuci√≥n Presupuestaria Devengada Municipal&quot;                                           
[10] &quot;Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH)&quot;                         
[11] &quot;Porcentaje de Puntajes PSU Igual o Superior a 450 Puntos en Establecimientos Municipales de Educaci√≥n&quot;
[12] &quot;Porcentaje de mujeres funcionarias municipales&quot;                                                       
[13] &quot;Consumo de energ√≠a el√©ctrica per c√°pita residencial&quot;                                                  
[14] &quot;N√∫mero de microbasurales por cada 10.000 habitantes&quot;                                                  
[15] &quot;Poblaci√≥n estimada de migrantes internacionales por comuna&quot;                                           
[16] &quot;Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional&quot;                                  
[17] &quot;Porcentaje de viviendas en situaci√≥n de hacinamiento&quot;                                                 
[18] &quot;Superficie de √°reas verdes p√∫blicas por habitante&quot;                                                    
[19] &quot;Tasa de conexiones residenciales fijas de internet por cada 100 habitantes&quot;                           
[20] &quot;Tasa de v√≠ctimas de delitos violentos por casos policiales cada 10.000 habitantes&quot;                    
[21] &quot;Tiempo de viaje en hora punta ma√±ana&quot;                                                                 
</code></pre>




<h2 id="correlaci√≥n">Correlaci√≥n
  <a href="#correlaci%c3%b3n"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>El paquete 
<a href="https://corrr.tidymodels.org" target="_blank" rel="noopener"><code>{corrr}</code></a>, parte del framework 
<a href="https://www.tidymodels.org" target="_blank" rel="noopener">tidymodels</a>, nos facilita realizar una correlaci√≥n cuyo resultado viene en una tabla ordenada con tan s√≥lo una funci√≥n: <code>correlate()</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">corrr</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">datos_ancho</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#908caa">-</span><span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">correlate</span><span style="color:#908caa">()</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span>
</span></span></code></pre></div><pre><code># A tibble: 20 √ó 21
   term                                   Densidad de Poblaci√≥‚Ä¶¬π Disponibilidad Presu‚Ä¶¬≤ Ingresos Propios Per‚Ä¶¬≥ `Inversi√≥n Municipal` Participaci√≥n de Ing‚Ä¶‚Å¥ Participaci√≥n del Fo‚Ä¶‚Åµ Poblaci√≥n Comunal, E‚Ä¶‚Å∂ Porcentaje de Ejecuc‚Ä¶‚Å∑ Porcentaje de Hogare‚Ä¶‚Å∏ Porcentaje de Puntaj‚Ä¶‚Åπ Porcentaje de mujere‚Ä¶Àü Consumo de energ√≠a e‚Ä¶Àü N√∫mero de microbasur‚Ä¶Àü Poblaci√≥n estimada d‚Ä¶Àü Porcentaje de la pob‚Ä¶Àü Porcentaje de vivien‚Ä¶Àü Superficie de √°reas ‚Ä¶Àü Tasa de conexiones r‚Ä¶Àü Tasa de v√≠ctimas de ‚Ä¶Àü Tiempo de viaje en h‚Ä¶Àü
   &lt;chr&gt;                                                   &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                 &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;
 1 Densidad de Poblaci√≥n por Km2                         NA                     -0.0969                -0.0445               0.222                  0.0415                 -0.255                  0.480                0.192                   -0.311                  0.0238               -0.0105                0.0691                  -0.119                  0.516                -0.0295                  0.379                -0.112                   0.248                  0.657                  0.213 
 2 Disponibilidad Presupuestaria Municip‚Ä¶                -0.0969                NA                      0.782               -0.0794                 0.110                   0.0764                -0.190               -0.217                   -0.327                 -0.0743               -0.0905                0.681                   -0.0329                -0.0473               -0.247                  -0.371                 0.404                   0.148                 -0.0675                -0.232 
 3 Ingresos Propios Permanentes per C√°pi‚Ä¶                -0.0445                 0.782                 NA                    0.0366                 0.0233                 -0.224                 -0.0802              -0.117                   -0.359                 -0.106                -0.0711                0.762                   -0.0139                 0.0200               -0.308                  -0.391                 0.512                   0.214                 -0.0761                -0.286 
 4 Inversi√≥n Municipal                                    0.222                 -0.0794                 0.0366              NA                      0.00615                -0.290                  0.555                0.0647                  -0.317                  0.153                -0.0946                0.222                   -0.113                  0.142                -0.409                  -0.297                 0.162                   0.375                  0.0877                -0.0957
 5 Participaci√≥n de Ingresos por Transfe‚Ä¶                 0.0415                 0.110                  0.0233               0.00615               NA                      -0.331                  0.0326              -0.0573                  -0.0969                 0.0340                0.00478              -0.134                   -0.0293                -0.150                 0.00375                 0.0973               -0.188                   0.0971                 0.238                  0.0176
 6 Participaci√≥n del Fondo Com√∫n Municip‚Ä¶                -0.255                  0.0764                -0.224               -0.290                 -0.331                  NA                     -0.400               -0.263                    0.511                 -0.1000               -0.0315               -0.543                   -0.0714                -0.220                 0.406                   0.273                -0.336                  -0.370                 -0.222                  0.238 
 7 Poblaci√≥n Comunal, Estimada por el INE                 0.480                 -0.190                 -0.0802               0.555                  0.0326                 -0.400                 NA                    0.213                   -0.416                  0.110                -0.0592               -0.0770                  -0.0972                 0.404                -0.298                  -0.0503               -0.0699                  0.421                  0.313                 -0.0764
 8 Porcentaje de Ejecuci√≥n Presupuestari‚Ä¶                 0.192                 -0.217                 -0.117                0.0647                -0.0573                 -0.263                  0.213               NA                       -0.0976                 0.0992                0.00160               0.000366                 0.0701                -0.0124               -0.0596                  0.0518                0.00593                 0.0264                 0.149                  0.182 
 9 Porcentaje de Hogares de 0-40% de Ing‚Ä¶                -0.311                 -0.327                 -0.359               -0.317                 -0.0969                  0.511                 -0.416               -0.0976                  NA                     -0.143                -0.0263               -0.487                    0.121                 -0.279                 0.733                   0.462                -0.260                  -0.664                 -0.195                  0.257 
10 Porcentaje de Puntajes PSU Igual o Su‚Ä¶                 0.0238                -0.0743                -0.106                0.153                  0.0340                 -0.1000                 0.110                0.0992                  -0.143                 NA                    -0.0230                0.277                   -0.0532                 0.230                -0.572                  -0.316                 0.0845                  0.412                  0.0600                -0.235 
11 Porcentaje de mujeres funcionarias mu‚Ä¶                -0.0105                -0.0905                -0.0711              -0.0946                 0.00478                -0.0315                -0.0592               0.00160                 -0.0263                -0.0230               NA                    -0.0355                   0.0486                -0.130                 0.206                   0.0925               -0.142                  -0.0206                -0.0459                 0.210 
12 Consumo de energ√≠a el√©ctrica per c√°pi‚Ä¶                 0.0691                 0.681                  0.762                0.222                 -0.134                  -0.543                 -0.0770               0.000366                -0.487                  0.277                -0.0355               NA                        0.0685                 0.0691               -0.346                  -0.482                 0.450                   0.342                 -0.0319                -0.155 
13 N√∫mero de microbasurales por cada 10.‚Ä¶                -0.119                 -0.0329                -0.0139              -0.113                 -0.0293                 -0.0714                -0.0972               0.0701                   0.121                 -0.0532                0.0486                0.0685                  NA                     -0.0890                0.0742                  0.0720               -0.120                  -0.251                 -0.0503                -0.191 
14 Poblaci√≥n estimada de migrantes inter‚Ä¶                 0.516                 -0.0473                 0.0200               0.142                 -0.150                  -0.220                  0.404               -0.0124                  -0.279                  0.230                -0.130                 0.0691                  -0.0890                NA                    -0.230                   0.246                -0.145                   0.0871                 0.523                 -0.119 
15 Porcentaje de la poblaci√≥n en situaci‚Ä¶                -0.0295                -0.247                 -0.308               -0.409                  0.00375                 0.406                 -0.298               -0.0596                   0.733                 -0.572                 0.206                -0.346                    0.0742                -0.230                NA                       0.628                -0.169                  -0.681                  0.0239                 0.301 
16 Porcentaje de viviendas en situaci√≥n ‚Ä¶                 0.379                 -0.371                 -0.391               -0.297                  0.0973                  0.273                 -0.0503               0.0518                   0.462                 -0.316                 0.0925               -0.482                    0.0720                 0.246                 0.628                  NA                    -0.235                  -0.505                  0.454                  0.266 
17 Superficie de √°reas verdes p√∫blicas p‚Ä¶                -0.112                  0.404                  0.512                0.162                 -0.188                  -0.336                 -0.0699               0.00593                 -0.260                  0.0845               -0.142                 0.450                   -0.120                 -0.145                -0.169                  -0.235                NA                       0.135                 -0.0458                -0.241 
18 Tasa de conexiones residenciales fija‚Ä¶                 0.248                  0.148                  0.214                0.375                  0.0971                 -0.370                  0.421                0.0264                  -0.664                  0.412                -0.0206                0.342                   -0.251                  0.0871               -0.681                  -0.505                 0.135                  NA                      0.172                 -0.338 
19 Tasa de v√≠ctimas de delitos violentos‚Ä¶                 0.657                 -0.0675                -0.0761               0.0877                 0.238                  -0.222                  0.313                0.149                   -0.195                  0.0600               -0.0459               -0.0319                  -0.0503                 0.523                 0.0239                  0.454                -0.0458                  0.172                 NA                     -0.0366
20 Tiempo de viaje en hora punta ma√±ana                   0.213                 -0.232                 -0.286               -0.0957                 0.0176                  0.238                 -0.0764               0.182                    0.257                 -0.235                 0.210                -0.155                   -0.191                 -0.119                 0.301                   0.266                -0.241                  -0.338                 -0.0366                NA     
# ‚Ñπ abbreviated names: ¬π‚Äã`Densidad de Poblaci√≥n por Km2`, ¬≤‚Äã`Disponibilidad Presupuestaria Municipal por Habitante (M$)`, ¬≥‚Äã`Ingresos Propios Permanentes per C√°pita (IPPP)`, ‚Å¥‚Äã`Participaci√≥n de Ingresos por Transferencias en el Ingreso Total`, ‚Åµ‚Äã`Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total`, ‚Å∂‚Äã`Poblaci√≥n Comunal, Estimada por el INE`, ‚Å∑‚Äã`Porcentaje de Ejecuci√≥n Presupuestaria Devengada Municipal`, ‚Å∏‚Äã`Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH)`,
#   ‚Åπ‚Äã`Porcentaje de Puntajes PSU Igual o Superior a 450 Puntos en Establecimientos Municipales de Educaci√≥n`, Àü‚Äã`Porcentaje de mujeres funcionarias municipales`, Àü‚Äã`Consumo de energ√≠a el√©ctrica per c√°pita residencial`, Àü‚Äã`N√∫mero de microbasurales por cada 10.000 habitantes`, Àü‚Äã`Poblaci√≥n estimada de migrantes internacionales por comuna`, Àü‚Äã`Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional`, Àü‚Äã`Porcentaje de viviendas en situaci√≥n de hacinamiento`,
#   Àü‚Äã`Superficie de √°reas verdes p√∫blicas por habitante`, Àü‚Äã`Tasa de conexiones residenciales fijas de internet por cada 100 habitantes`, Àü‚Äã`Tasa de v√≠ctimas de delitos violentos por casos policiales cada 10.000 habitantes`, Àü‚Äã`Tiempo de viaje en hora punta ma√±ana`
</code></pre>
<p>En la tabla anterior (muy rudimentaria a√∫n) podemos ver el cruce entre todas las variables. La tabla se lee partiendo por una fila, que representa una de las variables, y cada vez que esta fila se intercepta con una columna, el valor representa el cruce de la variable de la fila con la variable de la columna.</p>
<p>Como estamos cruzando todas con todas las variables, obviamente cada variable tambi√©n se cruza consigo misma, lo cual resulta en un <code>NA</code>.</p>
<p>Como el resultado es muy grande, y la cantidad de columnas muy alta, <code>{corrr}</code> ofrece la funci√≥n <code>stretch()</code> para convertir f√°cilmente el resultado a un formato largo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">stretch</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code># A tibble: 400 √ó 3
   x                             y                                                  r
   &lt;chr&gt;                         &lt;chr&gt;                                          &lt;dbl&gt;
 1 Densidad de Poblaci√≥n por Km2 Densidad de Poblaci√≥n por Km2                NA     
 2 Densidad de Poblaci√≥n por Km2 Disponibilidad Presupuestaria Municipal por‚Ä¶ -0.0969
 3 Densidad de Poblaci√≥n por Km2 Ingresos Propios Permanentes per C√°pita (IP‚Ä¶ -0.0445
 4 Densidad de Poblaci√≥n por Km2 Inversi√≥n Municipal                           0.222 
 5 Densidad de Poblaci√≥n por Km2 Participaci√≥n de Ingresos por Transferencia‚Ä¶  0.0415
 6 Densidad de Poblaci√≥n por Km2 Participaci√≥n del Fondo Com√∫n Municipal en ‚Ä¶ -0.255 
 7 Densidad de Poblaci√≥n por Km2 Poblaci√≥n Comunal, Estimada por el INE        0.480 
 8 Densidad de Poblaci√≥n por Km2 Porcentaje de Ejecuci√≥n Presupuestaria Deve‚Ä¶  0.192 
 9 Densidad de Poblaci√≥n por Km2 Porcentaje de Hogares de 0-40% de Ingresos ‚Ä¶ -0.311 
10 Densidad de Poblaci√≥n por Km2 Porcentaje de Puntajes PSU Igual o Superior‚Ä¶  0.0238
# ‚Ñπ 390 more rows
</code></pre>
<p>Esto nos puede servir para encontrar las correlaciones con una de las variables en particular; por ejemplo, encontrar la correlaci√≥n de las variables con el tiempo de viaje en hora punta por las ma√±anas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">stretch</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">x</span> <span style="color:#908caa">==</span> <span style="color:#f6c177">&#34;Tiempo de viaje en hora punta ma√±ana&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">y</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">r</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">head</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code># A tibble: 6 √ó 2
  y                                                                      r
  &lt;chr&gt;                                                              &lt;dbl&gt;
1 Densidad de Poblaci√≥n por Km2                                     0.213 
2 Disponibilidad Presupuestaria Municipal por Habitante (M$)       -0.232 
3 Ingresos Propios Permanentes per C√°pita (IPPP)                   -0.286 
4 Inversi√≥n Municipal                                              -0.0957
5 Participaci√≥n de Ingresos por Transferencias en el Ingreso Total  0.0176
6 Participaci√≥n del Fondo Com√∫n Municipal en el Ingreso Total       0.238 
</code></pre>




<h3 id="interpretaci√≥n-de-correlaciones">Interpretaci√≥n de correlaciones
  <a href="#interpretaci%c3%b3n-de-correlaciones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>La columna <code>r</code> nos indica el valor de la correlaci√≥n de la variable filtrada con todo el resto de las variables.</p>
<p>Como las correlaciones pueden ser positivas o negativas, el valor de la correlaci√≥n (<code>r</code>) puede ser positivo o negativo. Los valores de correlaci√≥n van del 0 al 1 (o del 0 al -1), donde una correlaci√≥n igual a 0 significa que no existe correlaci√≥n, y una correlaci√≥n igual a 1 significa que la correlaci√≥n es total. Usualmente, una correlaci√≥n mayor a 0,3 se considera moderada, y mayor a 0,5 se considera fuerte, pero las interpretaciones De estos valores son m√∫ltiples.</p>
<p>Ordenemos las variables por su intensidad de correlaci√≥n con el tiempo de viaje:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">stretch</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">x</span> <span style="color:#908caa">==</span> <span style="color:#f6c177">&#34;Tiempo de viaje en hora punta ma√±ana&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">y</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">r</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">abs</span><span style="color:#908caa">(</span><span style="color:#ea9a97">r</span><span style="color:#908caa">)))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">head</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code># A tibble: 6 √ó 2
  y                                                                                 r
  &lt;chr&gt;                                                                         &lt;dbl&gt;
1 Tasa de conexiones residenciales fijas de internet por cada 100 habitantes   -0.338
2 Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional           0.301
3 Ingresos Propios Permanentes per C√°pita (IPPP)                               -0.286
4 Porcentaje de viviendas en situaci√≥n de hacinamiento                          0.266
5 Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH)  0.257
6 Superficie de √°reas verdes p√∫blicas por habitante                            -0.241
</code></pre>
<p>En las primeras 3 filas podemos ver <strong>correlaciones negativas fuertes</strong>: las comunas del pa√≠s donde los <em>tiempos de viaje de viaje en hora punta por la ma√±ana</em> son mayores, tambi√©n son comunas donde los <em>puntajes en la prueba de selecci√≥n universitaria (PSU)</em> son menores, y menores son los <em>recursos municipales por habitante</em>. Dicho de otro modo, a menores recursos municipales por habitantes, mayor tiempo de viaje en hora punta por la ma√±ana.</p>
<p>En las filas 4 y 5 vemos unas <strong>correlaciones positivas moderadas</strong>: los tiempos de viaje en horario punta por las ma√±anas tambi√©n son m√°s altos en las comunas donde existen m√°s <em>hogares con ingresos bajos</em> (seg√∫n el Registro Social de Hogares), y donde los <em>municipios dependen m√°s del financiamiento del Fondo Com√∫n Municipal</em>.</p>




<h3 id="b√∫squeda-de-correlaciones">B√∫squeda de correlaciones
  <a href="#b%c3%basqueda-de-correlaciones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>C√≥mo tenemos todos los valores de correlaci√≥n en una misma columna gracias a <code>stretch()</code>, podemos filtrar los valores para encontrar solamente con relaciones fuertes. Podemos lograr esto filtrando valores mayores a 0,5 o menores a -0,5, o filtrando valores mayores a el valor absoluto de 0,5 (<code>abs(0.5)</code>). Luego ordenamos los valores de mayor a menor, usando el valor absoluto de <code>r</code> (el valor en positivo).</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">stretch</span><span style="color:#908caa">(</span><span style="color:#ea9a97">remove.dups</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">T</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">r</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">0.5</span> <span style="color:#908caa">|</span> <span style="color:#ea9a97">r</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">-0.5</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">abs</span><span style="color:#908caa">(</span><span style="color:#ea9a97">r</span><span style="color:#908caa">)))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">head</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code># A tibble: 6 √ó 3
  x                                                                            y                                                                               r
  &lt;chr&gt;                                                                        &lt;chr&gt;                                                                       &lt;dbl&gt;
1 Disponibilidad Presupuestaria Municipal por Habitante (M$)                   Ingresos Propios Permanentes per C√°pita (IPPP)                              0.782
2 Ingresos Propios Permanentes per C√°pita (IPPP)                               Consumo de energ√≠a el√©ctrica per c√°pita residencial                         0.762
3 Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH) Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional         0.733
4 Porcentaje de la poblaci√≥n en situaci√≥n de pobreza multidimensional          Tasa de conexiones residenciales fijas de internet por cada 100 habitantes -0.681
5 Disponibilidad Presupuestaria Municipal por Habitante (M$)                   Consumo de energ√≠a el√©ctrica per c√°pita residencial                         0.681
6 Porcentaje de Hogares de 0-40% de Ingresos respecto del Total Regional (RSH) Tasa de conexiones residenciales fijas de internet por cada 100 habitantes -0.664
</code></pre>
<p>Evidentemente, las correlaciones m√°s fuertes son entre variables similares: los hogares de menores ingresos correlacionan con la poblaci√≥n en situaci√≥n de pobreza, la disponibilidad de presupuesto municipal por habitante se correlaciona con los ingresos municipales perc√°pita, y otras obviedades. Habr√≠a que afinar la selecci√≥n de variables para remover aquellas que representan a un mismo fen√≥meno social subyacente.</p>




<h2 id="visualizaci√≥n">Visualizaci√≥n
  <a href="#visualizaci%c3%b3n"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Otra gracia de <code>{corrr}</code> es que facilita visualizar las correlaciones por medio de un gr√°fico con la funci√≥n <code>rplot()</code>, que produce un gr√°fico <code>{ggplot2}</code> con nuestra matriz de correlaci√≥n.</p>
<p>En teor√≠a, visualizar una correlaci√≥n ser√≠a as√≠ de f√°cil:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">correlate</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">rplot</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><p>Como nuestra matriz de correlaci√≥n tiene muchas variables, tendremos que agregar algunos ajustes para que se vea bien.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">ggplot2</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">correlaci√≥n</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">rearrange</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> <span style="color:#6e6a86"># ordenar por intensidad</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">rplot</span><span style="color:#908caa">(</span><span style="color:#ea9a97">print_cor</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">T</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># agregar valores encima</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ea9a97">legend</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">F</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span> <span style="color:#6e6a86"># sin leyenda</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># cortar los nombres de variable</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_y_discrete</span><span style="color:#908caa">(</span><span style="color:#ea9a97">labels</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">scales</span><span style="color:#908caa">::</span><span style="color:#ea9a97">label_wrap</span><span style="color:#908caa">(</span><span style="color:#f6c177">70</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_x_discrete</span><span style="color:#908caa">(</span><span style="color:#ea9a97">labels</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">scales</span><span style="color:#908caa">::</span><span style="color:#ea9a97">label_wrap</span><span style="color:#908caa">(</span><span style="color:#f6c177">70</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># variables inferiores inclinadas</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme</span><span style="color:#908caa">(</span><span style="color:#ea9a97">axis.text.x</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">angle</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">40</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hjust</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">1</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ea9a97">axis.text</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">lineheight</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.9</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;black&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-20-1.jpeg"></p>
<p>Con esta visualizaci√≥n, podemos ver el color y el tama√±o de los c√≠rculos para encontrar r√°pidamente los cruces entre variables que est√°n correlacionados.</p>
<p>A la r√°pida, podemos ver que arriba a la izquierda la variable de consumo de energ√≠a el√©ctrica se correlaciona con los recursos municipales, y abajo la izquierda podemos ver qu√© el porcentaje de hogares en los tramos menores de ingresos se correlaciona con menos conexiones a Internet y menos consumo el√©ctrico. Tambi√©n al centro del gr√°fico podemos ver una alta correlaci√≥n entre la <em>tasa de v√≠ctimas de delitos violentos</em> y la <em>densidad poblacional</em>.</p>




<h3 id="alternativas">Alternativas
  <a href="#alternativas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>El paquete 
<a href="https://github.com/kassambara/ggcorrplot" target="_blank" rel="noopener"><code>{ggcorrplot}</code></a> es muy usado para obener gr√°ficos de correlaciones, y tiene opciones que permiten personalizar la forma de visualizarlas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">ggcorrplot</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">corr</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">round</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cor</span><span style="color:#908caa">(</span><span style="color:#ea9a97">mtcars</span><span style="color:#908caa">),</span> <span style="color:#f6c177">1</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">ggcorrplot</span><span style="color:#908caa">(</span><span style="color:#ea9a97">corr</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-21-1.jpeg"></p>
<p>Tambi√©n permite presentar con c√≠rculos:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">ggcorrplot</span><span style="color:#908caa">(</span><span style="color:#ea9a97">corr</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">method</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;circle&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-22-1.jpeg"></p>
<p>Y tiene la opci√≥n de entregar una matriz de correlaci√≥n de los valores <em>p</em> para excluir las correlaciones con coeficientes que no sean estad√≠sticamente significativos:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">ggcorrplot</span><span style="color:#908caa">(</span><span style="color:#ea9a97">corr</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#ea9a97">hc.order</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#ea9a97">type</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;lower&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>           <span style="color:#ea9a97">p.mat</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">cor_pmat</span><span style="color:#908caa">(</span><span style="color:#ea9a97">mtcars</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-23-1.jpeg"></p>
<p>Otra funci√≥n de R que permite realizar correlaciones y visualizarlas de inmediato es <code>ggcor()</code> del paquete 
<a href="https://ggobi.github.io/ggally/index.html" target="_blank" rel="noopener"><code>{GGally}</code></a>, que entrega varios tipos de gr√°ficos estad√≠sticos para an√°lisis exploratorios de datos.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_ancho</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#908caa">-</span><span style="color:#ea9a97">cut_comuna</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">GGally</span><span style="color:#908caa">::</span><span style="color:#ea9a97">ggcorr</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hjust</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">1</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">nbreaks</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">5</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">layout.exp</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">10</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#ea9a97">label</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-24-1.jpeg"></p>
<p>El resultado es menos atractivo, pero si es bastante m√°s legible.</p>




<h3 id="manualmente">Manualmente
  <a href="#manualmente"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Finalmente, y como no pod√≠a faltar, tambi√©n podemos crear un gr√°fico de la matriz de correlaci√≥n desde cero con <code>{ggplot2}</code>. Esto no es tan complejo gracias a que <code>correlate()</code> y <code>stretch()</code> entregan los resultados bien ordenaditos.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_ancho</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">correlate</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">rearrange</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">stretch</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># gr√°fico</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ggplot</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">x</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">y</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">fill</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">r</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_tile</span><span style="color:#908caa">(</span><span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">linewidth</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.6</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span> <span style="color:#6e6a86"># geometr√≠a de cuadros o mosaicos</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">label</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">round</span><span style="color:#908caa">(</span><span style="color:#ea9a97">r</span><span style="color:#908caa">,</span> <span style="color:#f6c177">1</span><span style="color:#908caa">)),</span> <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;black&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">size</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">3</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span> <span style="color:#6e6a86"># texto</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># escala de color de los cuadros</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_fill_gradient2</span><span style="color:#908caa">(</span><span style="color:#ea9a97">high</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;indianred2&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">mid</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">low</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;skyblue1&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">na.value</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># formato de las escalas de los ejes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_y_discrete</span><span style="color:#908caa">(</span><span style="color:#ea9a97">labels</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">scales</span><span style="color:#908caa">::</span><span style="color:#ea9a97">label_wrap</span><span style="color:#908caa">(</span><span style="color:#f6c177">50</span><span style="color:#908caa">),</span> <span style="color:#ea9a97">expand</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">0</span><span style="color:#908caa">,</span> <span style="color:#f6c177">0</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_x_discrete</span><span style="color:#908caa">(</span><span style="color:#ea9a97">labels</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">scales</span><span style="color:#908caa">::</span><span style="color:#ea9a97">label_wrap</span><span style="color:#908caa">(</span><span style="color:#f6c177">60</span><span style="color:#908caa">),</span> <span style="color:#ea9a97">expand</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">0</span><span style="color:#908caa">,</span> <span style="color:#f6c177">0</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># ajustes de tema</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme_minimal</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme</span><span style="color:#908caa">(</span><span style="color:#ea9a97">axis.text</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">lineheight</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.9</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;black&#34;</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ea9a97">axis.text.x</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">angle</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">40</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hjust</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">1</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ea9a97">axis.title</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_blank</span><span style="color:#908caa">(),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ea9a97">legend.key.width</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">unit</span><span style="color:#908caa">(</span><span style="color:#f6c177">2</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;mm&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-25-1.jpeg"></p>
<p>Tambi√©n podemos aprovechar el vuelo para hacer una bonita obra de arte con nuestras correlaciones:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_ancho</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">correlate</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">rearrange</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">stretch</span><span style="color:#908caa">()</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ggplot</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">x</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">y</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">fill</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">r</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_tile</span><span style="color:#908caa">(</span><span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">linewidth</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.6</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_fill_gradient2</span><span style="color:#908caa">(</span><span style="color:#ea9a97">high</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#865BAB&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">mid</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">low</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#AB5B90&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">na.value</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;white&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">guides</span><span style="color:#908caa">(</span><span style="color:#ea9a97">fill</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">guide_none</span><span style="color:#908caa">())</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme_void</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">coord_fixed</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><p><img src="/blog/correlaciones/index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-26-1.jpeg"></p>
<p>Como siempre, <code>{ggplot2}</code> es una herramienta extremadamente vers√°til para visualizar cualquier tipo de informaci√≥n. Puedes 
<a href="https://bastianolea.rbind.io/blog/r_introduccion/tutorial_visualizacion_ggplot/" target="_blank" rel="noopener">aprender a crear visualizaciones de datos desde cero en R siguiendo este tutorial de <code>{ggplot2}</code>.</a></p>
<hr>
<p>Si te gust√≥ este contenido, puedes ayudarme don√°ndome un cafecito si presionas el siguiente bot√≥n. Te lo agradecer√≠a mucho y me anima a seguir compartiendo!</p>
<p><div style = "height: 18px;">
</div>
<div>
  <div style="display: flex;
  justify-content: center;
  align-items: center;">
    <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="bastimapache" data-color="#FFDD00" data-emoji="‚òï"  data-font="Cookie" data-text="Reg√°lame un cafecito" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" ></script>
  </div>
</p>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Fecha de publicaci√≥n:</dt>
    <dd class="fw5 ml0">July 9, 2025</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Extensi√≥n:</dt>
    <dd class="fw5 ml0">20 minute read, 4188 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categor√≠as:</dt>
    <dd class="fw5 ml0"> <a href="https://bastianoleah.netlify.app/categories/tutoriales">Tutoriales</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://bastianoleah.netlify.app/tags/estad%C3%ADstica">estad√≠stica</a>  <a href="https://bastianoleah.netlify.app/tags/ggplot2">ggplot2</a>  <a href="https://bastianoleah.netlify.app/tags/gr%C3%A1ficos">gr√°ficos</a>  <a href="https://bastianoleah.netlify.app/tags/visualizaci%C3%B3n-de-datos">visualizaci√≥n de datos</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Ver tambi√©n:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/ggiraph/">Convierte gr√°ficos {ggplot2} en visualizaciones interactivas con {ggiraph}</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/mapas_sf/">Mapas y visualizaci√≥n de datos geoespaciales en R con {sf}</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/tutorial_mapa_chile_subdere/">Crea un mapa de Chile desde datos geoespaciales oficiales en R</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://bastianoleah.netlify.app/blog/ggrepel/">&larr; Etiquetas de texto que se repelen entre s√≠ con {ggrepel}</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://bastianoleah.netlify.app/blog/ggview/">Controla las dimensiones de tus gr√°ficos con {ggview} &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
</div>

    
  </section>
</main>

        
          <script id="partials/analytics.html" 
  data-goatcounter="https://bastimapache.goatcounter.com/count"
  async src="//gc.zgo.at/count.js"></script>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2025 Basti√°n Olea Herrera, Chile
      <span class="middot-divider"></span>
      Hecho con <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Ap√©ro</a></span>.
      <br />
      
Basado en <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span>, de <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener">
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener">
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.last.fm/user/bastimapache" title="lastfm" target="_blank" rel="me noopener">
      <i class="fab fa-lastfm fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contacto/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/about/" title="Basti√°n Olea: Sobre mi">Sobre mi</a>
      
      <a class="dib pv1 ph2 link" href="/contacto/" title="Basti√°n Olea: Contacto">Contacto</a>
      
      <a class="dib pv1 ph2 link" href="/license/" title="Basti√°n Olea: Licencia">Licencia</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>

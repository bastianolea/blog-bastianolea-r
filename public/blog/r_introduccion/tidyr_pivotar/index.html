<!DOCTYPE html>
<html lang="es-ES" dir="ltr"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=3717&amp;path=livereload" data-no-instant defer></script>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.152.2">
<title>Transformación de datos entre formato _ancho_ y _largo_ con {tidyr} | Bastián Olea</title>


<meta property="twitter:site" content="@bastimapache">
<meta property="twitter:creator" content="@bastimapache">







  
    
  
<meta name="description" content="Los datos pueden existir en distintos formatos o estructuras, y el poder transformar los datos entre distintas estructuras es una habilidad clave. En este tutorial aprenderemos a usar las funciones `pivot_longer()` y `pivot_wider()` del paquete `{tidyr}` para cambiar entre formatos de datos _ancho_ (_wide_) y _largo_ (_long_).">


<meta property="og:site_name" content="Bastián Olea">
<meta property="og:title" content="Transformación de datos entre formato _ancho_ y _largo_ con {tidyr} | Bastián Olea">
<meta property="og:description" content="Los datos pueden existir en distintos formatos o estructuras, y el poder transformar los datos entre distintas estructuras es una habilidad clave. En este tutorial aprenderemos a usar las funciones `pivot_longer()` y `pivot_wider()` del paquete `{tidyr}` para cambiar entre formatos de datos _ancho_ (_wide_) y _largo_ (_long_)." />
<meta property="og:type" content="page" />
<meta property="og:url" content="http://localhost:3717/blog/r_introduccion/tidyr_pivotar/" />
<meta property="og:locale" content="es-ES">




    
        <meta property="og:image" content="http://localhost:3717/blog/r_introduccion/tidyr_pivotar/featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="http://localhost:3717/blog/r_introduccion/tidyr_pivotar/featured.png" >
    
    
  
  <meta itemprop="name" content="Transformación de datos entre formato _ancho_ y _largo_ con {tidyr}">
  <meta itemprop="description" content="Los datos pueden existir en distintos formatos o estructuras, y el poder transformar los datos entre distintas estructuras es una habilidad clave.
En este tutorial aprenderemos a usar las funciones pivot_longer() y pivot_wider() del paquete {tidyr} para cambiar entre formatos de datos ancho (wide) y largo (long).
Índice Formatos de datos Datos en formato ancho Datos en formato largo Transformación de formatos Desde ancho hacia largo Desde largo hacia ancho ¿Cuándo usar cada formato? Formatos de datos No existe una forma estandarizada de estructurar los datos. La estructura o formato que tengan los datos va a depender de muchas cosas: de dónde provienen los datos, para que se van a usar los datos, etc. Dependiendo de estas distintas necesidades los datos se pueden estructurar distintos.">
  <meta itemprop="datePublished" content="2025-11-29T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-11-29T00:00:00+00:00">
  <meta itemprop="wordCount" content="2408">
  <meta itemprop="image" content="http://localhost:3717/blog/r_introduccion/tidyr_pivotar/featured.png">
  <meta itemprop="keywords" content="Dplyr,Tidyr,Procesamiento de datos,Datos,Básico">
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="false" type="image/x-icon">
  <link rel="icon" href="false" type="image/x-icon">
  
  
  <link rel="stylesheet" href="../../../style.main.min.8f721815d150079638fe25bf9714e71c67b8ddf7e9435d32764c3175c3e06556.css" integrity="sha256-j3IYFdFQB5Y4/iW/lxTnHGe43ffpQ10ydkwxdcPgZVY=" media="screen">
  
  
  <script src="../../../panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="../../../main.min.858230d8d39b17ec435a8cd8991902766cb7afe0621875ffe5fcdf376474ca6e.js" type="text/javascript"></script>
  
  
  <link rel="stylesheet" href="../../../css/syntax.css">
  
  
  <link rel="preload" href="https://bastianoleah.shinyapps.io/buscador/" as="image">
</head>
<body>
      <div class="grid-container single-series">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="http://localhost:3717/" title="Home">
      <img src="../../../img/logo.png" class="dib db-l h2 w-auto" alt="Bastián Olea">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="../../../blog/" title="Bastián Olea: Blog de R">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/aprende_r/" title="Aprende R">Aprende R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/shiny_apps/" title="Apps">Apps</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/datos_sociales/" title="Datos">Datos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianoleah.shinyapps.io/buscador/" title="Buscador">Buscar</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="../../../clases/" title="Clases">Clases</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="../../../categories/tutoriales/" title="Tutoriales">Tutoriales</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="../../../blog/r_introduccion/recursos_r/" title="Recursos">Enlaces</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="../../../about/" title="Bastián Olea: Sobre mi">Yo</a>
      
      
      
      <div class="dib v-mid", style = "padding: 4px; margin-top: 4px;">
        <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bastianoleah.shinyapps.io/buscador/" title="search" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fas fa-search fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.last.fm/user/bastimapache" title="lastfm" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-lastfm fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="../../../contacto/" title="envelope" 
    style="margin-bottom: 6px !important;"> 
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

      </div>
      
    </div>
  </nav>
</header>

                       
<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 pl3-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Transformación de datos entre formato <em>ancho</em> y <em>largo</em> con {tidyr}</h1>
        
        
        <p class="f7 db mv0 ttu">29/11/2025</p>
        
         
        
  <dl class="f6 lh-copy">
    <em><dd class="fw5 ml0"> <a href="http://localhost:3717/tags/dplyr"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      dplyr</a>  <a href="http://localhost:3717/tags/tidyr"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      tidyr</a>  <a href="http://localhost:3717/tags/procesamiento-de-datos"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      procesamiento de datos</a>  <a href="http://localhost:3717/tags/datos"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      datos</a>  <a href="http://localhost:3717/tags/b%C3%A1sico"
    style="margin-right: 2px; 
                 color: #EAD2FA; 
                 font-style: normal;
                 text-decoration: none;
                 font-size: 10pt;
                 background-color: #9069C0; 
                 border-radius: 3px; 
                 padding: 2px 6px; ">
      básico</a> </dd></em>
  </dl>
 
        
      </header>
      <section class="post-body pt5 pb4">
        <p>Los datos pueden existir en distintos formatos o estructuras, y el poder <strong>transformar los datos entre distintas estructuras</strong> es una habilidad clave.</p>
<a href="featured.png" target="_blank">

  <img src="featured.png" style="border-radius: 5px; width: 80%; max-width: 700px; display: block; margin: auto; margin-bottom: 8px; margin-top: 8px;">
  
</a>
<p>En este tutorial aprenderemos a usar las funciones <code>pivot_longer()</code> y <code>pivot_wider()</code> del 
<a href="https://tidyr.tidyverse.org/" target="_blank" rel="noopener">paquete <code>{tidyr}</code></a> para cambiar entre formatos de datos <em>ancho</em> (<em>wide</em>) y <em>largo</em> (<em>long</em>).</p>
<div style = "margin-left: -16px;">
  
  <details closed id="PageTableOfContents">
    <summary>
      <h2 class="mv0 f5 fw7 ttu tracked dib" style = "margin-left: 6px; font-size: 120%;">Índice</h2>
      </summary>
    <div class="pl2 pr0 mh0" style = "font-size: 90%; margin-top: -8px; margin-left: 16px; margin-bottom: 32px;">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#formatos-de-datos">Formatos de datos</a>
      <ul>
        <li><a href="#datos-en-formato-ancho">Datos en formato ancho</a></li>
        <li><a href="#datos-en-formato-largo">Datos en formato largo</a></li>
      </ul>
    </li>
    <li><a href="#transformación-de-formatos">Transformación de formatos</a>
      <ul>
        <li><a href="#desde-ancho-hacia-largo">Desde ancho hacia largo</a></li>
        <li><a href="#desde-largo-hacia-ancho">Desde largo hacia ancho</a></li>
      </ul>
    </li>
    <li><a href="#cuándo-usar-cada-formato">¿Cuándo usar cada formato?</a></li>
  </ul>
</nav>
    </div>
  </details>
  
</div>




<h2 id="formatos-de-datos">Formatos de datos
  <a href="#formatos-de-datos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>No existe una forma estandarizada de estructurar los datos. La estructura o formato que tengan los datos va a depender de muchas cosas: de dónde provienen los datos, para que se van a usar los datos, etc. Dependiendo de estas distintas necesidades los datos se pueden estructurar distintos.</p>
<p>Dos de estos formatos o estructuras de datos son los datos anchos y largos.</p>




<h3 id="datos-en-formato-ancho">Datos en formato ancho
  <a href="#datos-en-formato-ancho"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>El <strong>formato ancho</strong> (<em>wide</em>) es cuando cada variable que describe las observaciones tiene su propia columna. Esto resulta en varias columnas, cada una describiendo un aspecto distinto de cada observación.</p>
<p><em>Por ejemplo:</em></p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: right">pobreza</th>
          <th style="text-align: right">esperanza</th>
          <th style="text-align: right">escolaridad</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: right">5</td>
          <td style="text-align: right">81.17</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: right">6</td>
          <td style="text-align: right">78.14</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: right">11</td>
          <td style="text-align: right">77.69</td>
          <td style="text-align: right">11.18</td>
      </tr>
      <tr>
          <td style="text-align: left">Costa Rica</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">80.80</td>
          <td style="text-align: right">8.84</td>
      </tr>
      <tr>
          <td style="text-align: left">Panamá</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">79.59</td>
          <td style="text-align: right">10.83</td>
      </tr>
      <tr>
          <td style="text-align: left">Bolivia</td>
          <td style="text-align: right">15</td>
          <td style="text-align: right">68.58</td>
          <td style="text-align: right">10.02</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Tabla con datos en formato ancho, con las variables distribuidas en columnas
  </div>
<p>Generalmente este formato se usa para presentar los datos, ya que es fácil de leer y comparar valores lado a lado.</p>




<h3 id="datos-en-formato-largo">Datos en formato largo
  <a href="#datos-en-formato-largo"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>El <strong>formato largo</strong> (<em>long</em>) es cuando las variables se encuentran en una sola columna, y los valores de las variables en otra columna, lo que significa que cada observación puede ocupar más de una fila.</p>
<p><em>Por ejemplo:</em></p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: left">variable</th>
          <th style="text-align: right">valor</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">5.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">81.17</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">6.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">78.14</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">11.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">77.69</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.18</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Tabla con datos en formato largo, con las variables distribuidas en filas
  </div>
<p>Se trata de un formato de datos más conveniente para procesar información, o para organizar estructuras de datos más complejas.</p>




<h2 id="transformación-de-formatos">Transformación de formatos
  <a href="#transformaci%c3%b3n-de-formatos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Ahora veremos cómo podemos pasar desde una estructura o formato de datos hacia la otra. Usaremos datos sobre países de América Latina, que fueron obtenidos desde tablas de Wikipedia usando 
<a href="../../../../blog/r_introduccion/web_scraping/">web scraping</a>. Revisa el 
<a href="https://gist.github.com/bastianolea/00d7da36e85b76de1abf9ca37014cfe4" target="_blank" rel="noopener">script del scraping aquí</a>.</p>




<h3 id="desde-ancho-hacia-largo">Desde ancho hacia largo
  <a href="#desde-ancho-hacia-largo"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Si tenemos nuestros datos cuyas variables están distribuidas en columnas, y queremos pasarlas hacia filas, necesitamos <em>pivotar</em> la tabla hacia lo largo.</p>
<a href="pivot_ancho_largo.png" target="_blank">

  <img src="pivot_ancho_largo.png" style="border-radius: 5px; width: 80%; max-width: 700px; display: block; margin: auto; margin-bottom: 8px; margin-top: 8px;">
  
</a>
<p>La función <code>pivot_longer()</code> toma las columnas que contienen las variables, y las <em>apila</em> en dos nuevas columnas: una con los <strong>nombres</strong> de las variables, y otra con sus <strong>valores</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">tidyr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
</span></span></code></pre></div><p>Veamos un ejemplo común. Cuando buscamos datos que muestran la evolución de una variable, en general los datos se estructuran con columnas que describen los valores de una variable separadas en columnas por mes o año.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo</span> <span class="o">&lt;-</span> <span class="nf">tribble</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">         <span class="o">~</span><span class="n">pais</span><span class="p">,</span> <span class="o">~</span><span class="s">&#34;2023&#34;</span><span class="p">,</span> <span class="o">~</span><span class="s">&#34;2022&#34;</span><span class="p">,</span> <span class="o">~</span><span class="s">&#34;2021&#34;</span><span class="p">,</span> <span class="o">~</span><span class="s">&#34;2019&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">       <span class="s">&#34;Chile&#34;</span><span class="p">,</span>   <span class="m">0.878</span><span class="p">,</span>   <span class="m">0.869</span><span class="p">,</span>   <span class="m">0.865</span><span class="p">,</span>   <span class="m">0.867</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;Argentina&#34;</span><span class="p">,</span>   <span class="m">0.865</span><span class="p">,</span>   <span class="m">0.858</span><span class="p">,</span>   <span class="m">0.847</span><span class="p">,</span>   <span class="m">0.861</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="s">&#34;Uruguay&#34;</span><span class="p">,</span>   <span class="m">0.862</span><span class="p">,</span>   <span class="m">0.852</span><span class="p">,</span>   <span class="m">0.837</span><span class="p">,</span>   <span class="m">0.830</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s">&#34;Panamá&#34;</span><span class="p">,</span>   <span class="m">0.839</span><span class="p">,</span>   <span class="m">0.835</span><span class="p">,</span>   <span class="m">0.819</span><span class="p">,</span>   <span class="m">0.824</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Costa Rica&#34;</span><span class="p">,</span>   <span class="m">0.833</span><span class="p">,</span>   <span class="m">0.823</span><span class="p">,</span>   <span class="m">0.817</span><span class="p">,</span>   <span class="m">0.821</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;Perú&#34;</span><span class="p">,</span>   <span class="m">0.794</span><span class="p">,</span>   <span class="m">0.790</span><span class="p">,</span>   <span class="m">0.764</span><span class="p">,</span>   <span class="m">0.784</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s">&#34;México&#34;</span><span class="p">,</span>   <span class="m">0.789</span><span class="p">,</span>   <span class="m">0.783</span><span class="p">,</span>   <span class="m">0.761</span><span class="p">,</span>   <span class="m">0.788</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Colombia&#34;</span><span class="p">,</span>   <span class="m">0.788</span><span class="p">,</span>   <span class="m">0.782</span><span class="p">,</span>   <span class="m">0.762</span><span class="p">,</span>   <span class="m">0.777</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s">&#34;Brasil&#34;</span><span class="p">,</span>   <span class="m">0.786</span><span class="p">,</span>   <span class="m">0.780</span><span class="p">,</span>   <span class="m">0.768</span><span class="p">,</span>   <span class="m">0.776</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="s">&#34;Ecuador&#34;</span><span class="p">,</span>   <span class="m">0.777</span><span class="p">,</span>   <span class="m">0.773</span><span class="p">,</span>   <span class="m">0.753</span><span class="p">,</span>   <span class="m">0.765</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Ejecuta este código para cargar los datos en tu sesión de R
  </div>
<p>Esta tabla contiene datos del 
<a href="https://es.wikipedia.org/wiki/Anexo:Pa%c3%adses_de_Am%c3%a9rica_Latina_por_%c3%adndice_de_desarrollo_humano" target="_blank" rel="noopener">índice de desarrollo humano</a> para 10 países de la Latinoamérica:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: right">2023</th>
          <th style="text-align: right">2022</th>
          <th style="text-align: right">2021</th>
          <th style="text-align: right">2019</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: right">0.878</td>
          <td style="text-align: right">0.869</td>
          <td style="text-align: right">0.865</td>
          <td style="text-align: right">0.867</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: right">0.865</td>
          <td style="text-align: right">0.858</td>
          <td style="text-align: right">0.847</td>
          <td style="text-align: right">0.861</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: right">0.862</td>
          <td style="text-align: right">0.852</td>
          <td style="text-align: right">0.837</td>
          <td style="text-align: right">0.830</td>
      </tr>
      <tr>
          <td style="text-align: left">Panamá</td>
          <td style="text-align: right">0.839</td>
          <td style="text-align: right">0.835</td>
          <td style="text-align: right">0.819</td>
          <td style="text-align: right">0.824</td>
      </tr>
      <tr>
          <td style="text-align: left">Costa Rica</td>
          <td style="text-align: right">0.833</td>
          <td style="text-align: right">0.823</td>
          <td style="text-align: right">0.817</td>
          <td style="text-align: right">0.821</td>
      </tr>
      <tr>
          <td style="text-align: left">Perú</td>
          <td style="text-align: right">0.794</td>
          <td style="text-align: right">0.790</td>
          <td style="text-align: right">0.764</td>
          <td style="text-align: right">0.784</td>
      </tr>
      <tr>
          <td style="text-align: left">México</td>
          <td style="text-align: right">0.789</td>
          <td style="text-align: right">0.783</td>
          <td style="text-align: right">0.761</td>
          <td style="text-align: right">0.788</td>
      </tr>
      <tr>
          <td style="text-align: left">Colombia</td>
          <td style="text-align: right">0.788</td>
          <td style="text-align: right">0.782</td>
          <td style="text-align: right">0.762</td>
          <td style="text-align: right">0.777</td>
      </tr>
      <tr>
          <td style="text-align: left">Brasil</td>
          <td style="text-align: right">0.786</td>
          <td style="text-align: right">0.780</td>
          <td style="text-align: right">0.768</td>
          <td style="text-align: right">0.776</td>
      </tr>
      <tr>
          <td style="text-align: left">Ecuador</td>
          <td style="text-align: right">0.777</td>
          <td style="text-align: right">0.773</td>
          <td style="text-align: right">0.753</td>
          <td style="text-align: right">0.765</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Tabla de datos en formato ancho
  </div>
<p>Tener los datos así puede ser útil para mirarlos y presentarlos, pero se vuelve difícil trabajar con ellos, por ejemplo, para calcular la variación entre cada año, o para graficar la evolución del índice de desarrollo humano a través del tiempo.</p>
<p>Para convertirlos en formato largo usamos <code>pivot_longer()</code> indicando las columnas que queremos <em>pivotar</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_largo</span> <span class="o">&lt;-</span> <span class="n">desarrollo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;2023&#34;</span><span class="p">,</span> <span class="s">&#34;2022&#34;</span><span class="p">,</span> <span class="s">&#34;2021&#34;</span><span class="p">,</span> <span class="s">&#34;2019&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;año&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;índice&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Pivotar una tabla al formato largo
  </div>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: left">año</th>
          <th style="text-align: right">índice</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2023</td>
          <td style="text-align: right">0.878</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2022</td>
          <td style="text-align: right">0.869</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2021</td>
          <td style="text-align: right">0.865</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2019</td>
          <td style="text-align: right">0.867</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2023</td>
          <td style="text-align: right">0.865</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2022</td>
          <td style="text-align: right">0.858</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2021</td>
          <td style="text-align: right">0.847</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2019</td>
          <td style="text-align: right">0.861</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Datos en formato largo
  </div>
<p>Ahora cada país abarca varias filas, porque ahora las filas son también los años. Es decir, pasamos a tener una fila por cada país, tener una fila por cada año de cada país. De este modo, ahora todas las cifras se encuentran en una sola columna.</p>
<p><em>¿Qué hicimos?</em></p>
<p>Con <code>cols = c(&quot;2023&quot;, &quot;2022&quot;, &quot;2021&quot;, &quot;2019&quot;)</code> especificamos las <strong>columnas</strong> que queremos <em>alargar</em>.</p>
<p>Con los argumentos <code>names_to</code> y <code>values_to</code> definimos el nombre de las nuevas columnas con los <strong>nombres</strong> y los <strong>valores</strong> de las columnas originales. Podemos dejar estos últimos dos argumentos vacíos para que se usen los nombres por defecto (<code>name</code> y <code>value</code>).</p>


<details>
  <summary>
    <strong>Ejemplos:</strong> <em>¿Para qué nos sirve ésto?</em>
  </summary>
    <div style="padding: 16px; border: solid 2px #A885C6AA; border-radius: 6px; 
    background-color: #A885C630;
    margin-top: 8px; padding-top: 0px; padding-bottom: 0px;">
    <p>Ahora podemos filtrar por año fácilmente:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span><span class="n">año</span> <span class="o">==</span> <span class="s">&#34;2023&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre><code># A tibble: 10 × 3
   pais       año   índice
   &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;
 1 Chile      2023   0.878
 2 Argentina  2023   0.865
 3 Uruguay    2023   0.862
 4 Panamá     2023   0.839
 5 Costa Rica 2023   0.833
 6 Perú       2023   0.794
 7 México     2023   0.789
 8 Colombia   2023   0.788
 9 Brasil     2023   0.786
10 Ecuador    2023   0.777
</code></pre>
<p>Podemos encontrar datos donde el índice cumpla algún criterio:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span>í<span class="n">ndice</span> <span class="o">&gt;</span> <span class="m">0.86</span> <span class="o">&amp;</span> í<span class="n">ndice</span> <span class="o">&lt;</span> <span class="m">0.87</span><span class="p">)</span>
</span></span></code></pre></div><pre><code># A tibble: 6 × 3
  pais      año   índice
  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;
1 Chile     2022   0.869
2 Chile     2021   0.865
3 Chile     2019   0.867
4 Argentina 2023   0.865
5 Argentina 2019   0.861
6 Uruguay   2023   0.862
</code></pre>
<p>O podemos calcular la variación entre años:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span><span class="n">pais</span> <span class="o">==</span> <span class="s">&#34;Chile&#34;</span><span class="p">)</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">arrange</span><span class="p">(</span><span class="n">año</span><span class="p">)</span> <span class="o">|&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">mutate</span><span class="p">(</span><span class="n">variación</span> <span class="o">=</span> í<span class="n">ndice</span> <span class="o">-</span> <span class="nf">lag</span><span class="p">(</span>í<span class="n">ndice</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">         <span class="n">aumento</span> <span class="o">=</span> <span class="nf">if_else</span><span class="p">(</span><span class="n">variación</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s">&#34;Sí&#34;</span><span class="p">,</span> <span class="s">&#34;No&#34;</span><span class="p">))</span>
</span></span></code></pre></div><pre><code># A tibble: 4 × 5
  pais  año   índice variación aumento
  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  
1 Chile 2019   0.867  NA       &lt;NA&gt;   
2 Chile 2021   0.865  -0.00200 No     
3 Chile 2022   0.869   0.00400 Sí     
4 Chile 2023   0.878   0.00900 Sí     
</code></pre>
<p>Y lo mejor es que ahora resulta mucho más fácil poder hacer el gráficos con estos datos, dado que la información necesaria se encuentra agrupada en sólo dos columnas:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">thematic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">thematic_on</span><span class="p">(</span><span class="n">fg</span> <span class="o">=</span> <span class="s">&#34;#553A74&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">bg</span> <span class="o">=</span> <span class="s">&#34;#EAD2FA&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">desarrollo_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span><span class="n">pais</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;Chile&#34;</span><span class="p">,</span> <span class="s">&#34;Argentina&#34;</span><span class="p">,</span> <span class="s">&#34;Brasil&#34;</span><span class="p">,</span> <span class="s">&#34;Perú&#34;</span><span class="p">))</span> <span class="o">|&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">ggplot</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">año</span><span class="p">,</span> í<span class="n">ndice</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">pais</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="n">pais</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_line</span><span class="p">(</span><span class="n">linewidth</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">labs</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Índice de desarrollo humano&#34;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#34;País&#34;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span></span></code></pre></div><img src="tidyr_pivotar.markdown_strict_files/figure-markdown_strict/unnamed-chunk-12-1.png" width="768" />

    </div>
</details>
<hr>
<p>Veamos otro ejemplo: una tabla con tres variables distintas, que nos muestran datos de países latinoamericanos sobre 
<a href="https://es.wikipedia.org/wiki/Anexo:Pa%c3%adses_por_porcentaje_de_pobreza_en_Latinoam%c3%a9rica" target="_blank" rel="noopener">pobreza</a> y 
<a href="https://es.wikipedia.org/wiki/Anexo:Pa%c3%adses_de_Am%c3%a9rica_Latina_por_%c3%adndice_de_desarrollo_humano" target="_blank" rel="noopener">desarrollo</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pobreza</span> <span class="o">&lt;-</span> <span class="nf">tribble</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                   <span class="o">~</span><span class="n">pais</span><span class="p">,</span> <span class="o">~</span><span class="n">pobreza</span><span class="p">,</span> <span class="o">~</span><span class="n">esperanza</span><span class="p">,</span> <span class="o">~</span><span class="n">escolaridad</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                 <span class="s">&#34;Chile&#34;</span><span class="p">,</span>        <span class="m">5</span><span class="p">,</span>      <span class="m">81.17</span><span class="p">,</span>        <span class="m">11.29</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="s">&#34;Uruguay&#34;</span><span class="p">,</span>        <span class="m">6</span><span class="p">,</span>      <span class="m">78.14</span><span class="p">,</span>        <span class="m">10.54</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">             <span class="s">&#34;Argentina&#34;</span><span class="p">,</span>       <span class="m">11</span><span class="p">,</span>      <span class="m">77.69</span><span class="p">,</span>        <span class="m">11.18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s">&#34;Costa Rica&#34;</span><span class="p">,</span>       <span class="m">13</span><span class="p">,</span>       <span class="m">80.8</span><span class="p">,</span>         <span class="m">8.84</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s">&#34;Panamá&#34;</span><span class="p">,</span>       <span class="m">13</span><span class="p">,</span>      <span class="m">79.59</span><span class="p">,</span>        <span class="m">10.83</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="s">&#34;Bolivia&#34;</span><span class="p">,</span>       <span class="m">15</span><span class="p">,</span>      <span class="m">68.58</span><span class="p">,</span>        <span class="m">10.02</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="s">&#34;Paraguay&#34;</span><span class="p">,</span>       <span class="m">20</span><span class="p">,</span>      <span class="m">73.84</span><span class="p">,</span>         <span class="m">8.93</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s">&#34;México&#34;</span><span class="p">,</span>       <span class="m">22</span><span class="p">,</span>      <span class="m">75.07</span><span class="p">,</span>         <span class="m">9.35</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s">&#34;Brasil&#34;</span><span class="p">,</span>       <span class="m">24</span><span class="p">,</span>      <span class="m">75.85</span><span class="p">,</span>         <span class="m">8.43</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="s">&#34;El Salvador&#34;</span><span class="p">,</span>       <span class="m">28</span><span class="p">,</span>       <span class="m">72.1</span><span class="p">,</span>          <span class="m">7.3</span>
</span></span><span class="line"><span class="cl">           <span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Ejecuta este código para cargar los datos en tu sesión de R
  </div>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: right">pobreza</th>
          <th style="text-align: right">esperanza</th>
          <th style="text-align: right">escolaridad</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: right">5</td>
          <td style="text-align: right">81.17</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: right">6</td>
          <td style="text-align: right">78.14</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: right">11</td>
          <td style="text-align: right">77.69</td>
          <td style="text-align: right">11.18</td>
      </tr>
      <tr>
          <td style="text-align: left">Costa Rica</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">80.80</td>
          <td style="text-align: right">8.84</td>
      </tr>
      <tr>
          <td style="text-align: left">Panamá</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">79.59</td>
          <td style="text-align: right">10.83</td>
      </tr>
      <tr>
          <td style="text-align: left">Bolivia</td>
          <td style="text-align: right">15</td>
          <td style="text-align: right">68.58</td>
          <td style="text-align: right">10.02</td>
      </tr>
      <tr>
          <td style="text-align: left">Paraguay</td>
          <td style="text-align: right">20</td>
          <td style="text-align: right">73.84</td>
          <td style="text-align: right">8.93</td>
      </tr>
      <tr>
          <td style="text-align: left">México</td>
          <td style="text-align: right">22</td>
          <td style="text-align: right">75.07</td>
          <td style="text-align: right">9.35</td>
      </tr>
      <tr>
          <td style="text-align: left">Brasil</td>
          <td style="text-align: right">24</td>
          <td style="text-align: right">75.85</td>
          <td style="text-align: right">8.43</td>
      </tr>
      <tr>
          <td style="text-align: left">El Salvador</td>
          <td style="text-align: right">28</td>
          <td style="text-align: right">72.10</td>
          <td style="text-align: right">7.30</td>
      </tr>
  </tbody>
</table>
<p>En las <strong>filas</strong> tenemos las observaciones (países), y en las <strong>columnas</strong> tenemos tres variables distintas: pobreza (medida por el Banco Mundial como porcentaje de la población que recibe menos de US$6,85 al día), esperanza de vida, y escolaridad promedio.</p>
<p>Si convertimos esta tabla hacia el formato largo, vamos a tener la información estructurada de forma que cada variable ocupe una fila distinta:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pobreza_largo</span> <span class="o">&lt;-</span> <span class="n">pobreza</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">pobreza</span><span class="p">,</span> <span class="n">esperanza</span><span class="p">,</span> <span class="n">escolaridad</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;variable&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;valor&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Pivotar una tabla al formato largo
  </div>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: left">variable</th>
          <th style="text-align: right">valor</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">5.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">81.17</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">6.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">78.14</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">11.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">77.69</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.18</td>
      </tr>
  </tbody>
</table>
<p>Ahora cada país ocupa tres filas, una por cada variable. Esto nos permite filtrar y analizar los datos de forma más flexible.</p>


<details>
  <summary>
    <strong>Ejemplos:</strong> <em>¿Para qué nos sirve ésto?</em>
  </summary>
    <div style="padding: 16px; border: solid 2px #A885C6AA; border-radius: 6px; 
    background-color: #A885C630;
    margin-top: 8px; padding-top: 0px; padding-bottom: 0px;">
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pobreza_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span><span class="n">variable</span> <span class="o">==</span> <span class="s">&#34;escolaridad&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre><code># A tibble: 10 × 3
   pais        variable    valor
   &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
 1 Chile       escolaridad 11.3 
 2 Uruguay     escolaridad 10.5 
 3 Argentina   escolaridad 11.2 
 4 Costa Rica  escolaridad  8.84
 5 Panamá      escolaridad 10.8 
 6 Bolivia     escolaridad 10.0 
 7 Paraguay    escolaridad  8.93
 8 México      escolaridad  9.35
 9 Brasil      escolaridad  8.43
10 El Salvador escolaridad  7.3 
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">thematic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">thematic_on</span><span class="p">(</span><span class="n">fg</span> <span class="o">=</span> <span class="s">&#34;#553A74&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">bg</span> <span class="o">=</span> <span class="s">&#34;#EAD2FA&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pobreza_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">mutate</span><span class="p">(</span><span class="n">variable</span> <span class="o">=</span> <span class="nf">case_match</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;pobreza&#34;</span> <span class="o">~</span> <span class="s">&#34;Pobreza (%)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;esperanza&#34;</span> <span class="o">~</span> <span class="s">&#34;Esperanza de vida&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;escolaridad&#34;</span> <span class="o">~</span> <span class="s">&#34;Escolaridad promedio&#34;</span><span class="p">))</span> <span class="o">|&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">ggplot</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="n">pais</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">valor</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="n">variable</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_col</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">variable</span><span class="p">,</span> <span class="n">scales</span> <span class="o">=</span> <span class="s">&#34;free_x&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">guides</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="nf">guide_none</span><span class="p">())</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="kc">NULL</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span></span></code></pre></div><img src="tidyr_pivotar.markdown_strict_files/figure-markdown_strict/unnamed-chunk-18-1.png" width="768" />

    </div>
</details>




<h4 id="selección-de-columnas">Selección de columnas
  <a href="#selecci%c3%b3n-de-columnas"></a>
</h4>
<p>Cuando tenemos muchas columnas para pivotar, es mejor usar técnicas o funciones que las abarquen todas en vez de escribirlas manualmente.</p>




<h5 id="seleccionar-todas-excepto-algunas">Seleccionar todas excepto algunas
  <a href="#seleccionar-todas-excepto-algunas"></a>
</h5>
<p>Podemos usar el operador <code>-</code> para seleccionar todas las columnas excepto las que especifiquemos:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pobreza</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="o">-</span><span class="n">pais</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;variable&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;valor&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Esto es equivalente a escribir <code>cols = c(pobreza, esperanza, escolaridad)</code>, pero mucho más corto cuando tenemos muchas columnas.</p>




<h5 id="seleccionar-por-posición">Seleccionar por posición
  <a href="#seleccionar-por-posici%c3%b3n"></a>
</h5>
<p>También podemos seleccionar columnas por su posición numérica:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="m">2</span><span class="o">:</span><span class="nf">last_col</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;año&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;índice&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Esto selecciona desde la segunda columna hasta la última (<code>last_col()</code>); es decir, los cuatro años de la tabla).</p>




<h5 id="seleccionar-con-funciones-auxiliares">Seleccionar con funciones auxiliares
  <a href="#seleccionar-con-funciones-auxiliares"></a>
</h5>
<p>Se pueden usar todas las funciones de <code>{tidyselect}</code> para seleccionar columnas según su texto, formato, y más:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># seleccionar columnas que empiezan con cierto texto</span>
</span></span><span class="line"><span class="cl"><span class="n">desarrollo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="nf">starts_with</span><span class="p">(</span><span class="s">&#34;20&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;año&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;índice&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># seleccionar columnas que son numéricas</span>
</span></span><span class="line"><span class="cl"><span class="n">desarrollo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="nf">where</span><span class="p">(</span><span class="n">is.numeric</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">               <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;año&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">               <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;índice&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre><code># A tibble: 40 × 3
   pais      año   índice
   &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;
 1 Chile     2023   0.878
 2 Chile     2022   0.869
 3 Chile     2021   0.865
 4 Chile     2019   0.867
 5 Argentina 2023   0.865
 6 Argentina 2022   0.858
 7 Argentina 2021   0.847
 8 Argentina 2019   0.861
 9 Uruguay   2023   0.862
10 Uruguay   2022   0.852
# ℹ 30 more rows
</code></pre>
<hr>




<h3 id="desde-largo-hacia-ancho">Desde largo hacia ancho
  <a href="#desde-largo-hacia-ancho"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p><code>pivot_wider()</code> hace la operación inversa a <code>pivot_longer()</code>: toma valores que están apilados en filas y los distribuye en múltiples columnas nuevas.</p>
<p>Es decir que pasamos de datos donde las variables de cada observación se encuentran en varias filas, a una tabla donde cada observación usará una fila y las variables estarán en <strong>varias columnas</strong>.</p>
<a href="pivot_largo_ancho.png" target="_blank">

  <img src="pivot_largo_ancho.png" style="border-radius: 5px; width: 80%; max-width: 700px; display: block; margin: auto; margin-bottom: 8px; margin-top: 8px;">
  
</a>
<p>Partamos desde la tabla <code>pobreza_largo</code> que creamos anteriormente:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: left">variable</th>
          <th style="text-align: right">valor</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">5.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">81.17</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">6.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">78.14</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">pobreza</td>
          <td style="text-align: right">11.00</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">esperanza</td>
          <td style="text-align: right">77.69</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">escolaridad</td>
          <td style="text-align: right">11.18</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Tabla con datos en formato largo
  </div>
<p>Para volver a convertirla al formato ancho usamos <code>pivot_wider()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pobreza_ancho</span> <span class="o">&lt;-</span> <span class="n">pobreza_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_wider</span><span class="p">(</span><span class="n">names_from</span> <span class="o">=</span> <span class="n">variable</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="n">values_from</span> <span class="o">=</span> <span class="n">valor</span><span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Pivotar una tabla al formato ancho
  </div>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: right">pobreza</th>
          <th style="text-align: right">esperanza</th>
          <th style="text-align: right">escolaridad</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: right">5</td>
          <td style="text-align: right">81.17</td>
          <td style="text-align: right">11.29</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: right">6</td>
          <td style="text-align: right">78.14</td>
          <td style="text-align: right">10.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: right">11</td>
          <td style="text-align: right">77.69</td>
          <td style="text-align: right">11.18</td>
      </tr>
      <tr>
          <td style="text-align: left">Costa Rica</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">80.80</td>
          <td style="text-align: right">8.84</td>
      </tr>
      <tr>
          <td style="text-align: left">Panamá</td>
          <td style="text-align: right">13</td>
          <td style="text-align: right">79.59</td>
          <td style="text-align: right">10.83</td>
      </tr>
      <tr>
          <td style="text-align: left">Bolivia</td>
          <td style="text-align: right">15</td>
          <td style="text-align: right">68.58</td>
          <td style="text-align: right">10.02</td>
      </tr>
      <tr>
          <td style="text-align: left">Paraguay</td>
          <td style="text-align: right">20</td>
          <td style="text-align: right">73.84</td>
          <td style="text-align: right">8.93</td>
      </tr>
      <tr>
          <td style="text-align: left">México</td>
          <td style="text-align: right">22</td>
          <td style="text-align: right">75.07</td>
          <td style="text-align: right">9.35</td>
      </tr>
      <tr>
          <td style="text-align: left">Brasil</td>
          <td style="text-align: right">24</td>
          <td style="text-align: right">75.85</td>
          <td style="text-align: right">8.43</td>
      </tr>
      <tr>
          <td style="text-align: left">El Salvador</td>
          <td style="text-align: right">28</td>
          <td style="text-align: right">72.10</td>
          <td style="text-align: right">7.30</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Datos pivotados al formato ancho
  </div>
<p>Ahora cada variable tiene su propia columna nuevamente.</p>
<p><em>¿Qué hicimos?</em></p>
<p>Con <code>names_from</code> indicamos desde cuál variable sacaremos los <strong>nombres</strong> de las nuevas columnas que queremos crear.</p>
<p>Con <code>values_from</code> indicamos desde cuál columna sacaremos los <strong>valores</strong> que rellenarán las celdas de esas nuevas columnas.</p>
<hr>
<p>Veamos otro ejemplo usando la tabla <code>desarrollo_largo</code>:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: left">año</th>
          <th style="text-align: right">índice</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2023</td>
          <td style="text-align: right">0.878</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2022</td>
          <td style="text-align: right">0.869</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2021</td>
          <td style="text-align: right">0.865</td>
      </tr>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: left">2019</td>
          <td style="text-align: right">0.867</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2023</td>
          <td style="text-align: right">0.865</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2022</td>
          <td style="text-align: right">0.858</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2021</td>
          <td style="text-align: right">0.847</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: left">2019</td>
          <td style="text-align: right">0.861</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Tabla con datos en formato largo
  </div>
<p>Podemos convertirla de vuelta al formato ancho para tener cada año como una columna separada:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_ancho</span> <span class="o">&lt;-</span> <span class="n">desarrollo_largo</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_wider</span><span class="p">(</span><span class="n">names_from</span> <span class="o">=</span> <span class="n">año</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="n">values_from</span> <span class="o">=</span> í<span class="n">ndice</span><span class="p">)</span>
</span></span></code></pre></div><div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Pivotar a formato ancho
  </div>
<table>
  <thead>
      <tr>
          <th style="text-align: left">pais</th>
          <th style="text-align: right">2023</th>
          <th style="text-align: right">2022</th>
          <th style="text-align: right">2021</th>
          <th style="text-align: right">2019</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Chile</td>
          <td style="text-align: right">0.878</td>
          <td style="text-align: right">0.869</td>
          <td style="text-align: right">0.865</td>
          <td style="text-align: right">0.867</td>
      </tr>
      <tr>
          <td style="text-align: left">Argentina</td>
          <td style="text-align: right">0.865</td>
          <td style="text-align: right">0.858</td>
          <td style="text-align: right">0.847</td>
          <td style="text-align: right">0.861</td>
      </tr>
      <tr>
          <td style="text-align: left">Uruguay</td>
          <td style="text-align: right">0.862</td>
          <td style="text-align: right">0.852</td>
          <td style="text-align: right">0.837</td>
          <td style="text-align: right">0.830</td>
      </tr>
      <tr>
          <td style="text-align: left">Panamá</td>
          <td style="text-align: right">0.839</td>
          <td style="text-align: right">0.835</td>
          <td style="text-align: right">0.819</td>
          <td style="text-align: right">0.824</td>
      </tr>
      <tr>
          <td style="text-align: left">Costa Rica</td>
          <td style="text-align: right">0.833</td>
          <td style="text-align: right">0.823</td>
          <td style="text-align: right">0.817</td>
          <td style="text-align: right">0.821</td>
      </tr>
      <tr>
          <td style="text-align: left">Perú</td>
          <td style="text-align: right">0.794</td>
          <td style="text-align: right">0.790</td>
          <td style="text-align: right">0.764</td>
          <td style="text-align: right">0.784</td>
      </tr>
      <tr>
          <td style="text-align: left">México</td>
          <td style="text-align: right">0.789</td>
          <td style="text-align: right">0.783</td>
          <td style="text-align: right">0.761</td>
          <td style="text-align: right">0.788</td>
      </tr>
      <tr>
          <td style="text-align: left">Colombia</td>
          <td style="text-align: right">0.788</td>
          <td style="text-align: right">0.782</td>
          <td style="text-align: right">0.762</td>
          <td style="text-align: right">0.777</td>
      </tr>
      <tr>
          <td style="text-align: left">Brasil</td>
          <td style="text-align: right">0.786</td>
          <td style="text-align: right">0.780</td>
          <td style="text-align: right">0.768</td>
          <td style="text-align: right">0.776</td>
      </tr>
      <tr>
          <td style="text-align: left">Ecuador</td>
          <td style="text-align: right">0.777</td>
          <td style="text-align: right">0.773</td>
          <td style="text-align: right">0.753</td>
          <td style="text-align: right">0.765</td>
      </tr>
  </tbody>
</table>
<div style="max-width: 380px; margin:auto; text-align: center; font-size:80%; opacity:60%;">
  Datos pivotados a formato ancho
  </div>
<p>Ahora tenemos cada año como columna, lo que facilita comparar los valores entre años lado a lado.</p>


<details>
  <summary>
    <strong>Ejemplos:</strong> <em>¿Para qué nos sirve ésto?</em>
  </summary>
    <div style="padding: 16px; border: solid 2px #A885C6AA; border-radius: 6px; 
    background-color: #A885C630;
    margin-top: 8px; padding-top: 0px; padding-bottom: 0px;">
    <p>Con los datos en formato ancho podemos calcular fácilmente diferencias entre años específicos:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">desarrollo_ancho</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">mutate</span><span class="p">(</span><span class="n">cambio_2019_2023</span> <span class="o">=</span> <span class="n">`2023`</span> <span class="o">-</span> <span class="n">`2019`</span><span class="p">)</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">select</span><span class="p">(</span><span class="n">pais</span><span class="p">,</span> <span class="n">`2019`</span><span class="p">,</span> <span class="n">`2023`</span><span class="p">,</span> <span class="n">cambio_2019_2023</span><span class="p">)</span> <span class="o">|&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">arrange</span><span class="p">(</span><span class="nf">desc</span><span class="p">(</span><span class="n">cambio_2019_2023</span><span class="p">))</span>
</span></span></code></pre></div><pre><code># A tibble: 10 × 4
   pais       `2019` `2023` cambio_2019_2023
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;            &lt;dbl&gt;
 1 Uruguay     0.83   0.862          0.0320 
 2 Panamá      0.824  0.839          0.0150 
 3 Costa Rica  0.821  0.833          0.0120 
 4 Ecuador     0.765  0.777          0.0120 
 5 Chile       0.867  0.878          0.0110 
 6 Colombia    0.777  0.788          0.0110 
 7 Perú        0.784  0.794          0.0100 
 8 Brasil      0.776  0.786          0.0100 
 9 Argentina   0.861  0.865          0.00400
10 México      0.788  0.789          0.00100
</code></pre>
<p>Pero en general el formato ancho se usa para posteriormente guardar los datos en una tabla Excel y presentárselos a otras personas, o bien, 
<a href="../../../../blog/tutorial_gt/"><strong>generar tablas</strong> usando R</a> destinadas a su lectura en informes o reportes.</p>

    </div>
</details>




<h2 id="cuándo-usar-cada-formato">¿Cuándo usar cada formato?
  <a href="#cu%c3%a1ndo-usar-cada-formato"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>No existe un formato <em>correcto</em> qué pueda aplicarse a todas las tablas de datos. Esto debe depender de lo que necesites hacer.</p>
<p>En general, te vas a dar cuenta intuitivamente que el formato de tus datos te está haciendo más difícil hacer ciertas cosas, y en ese caso se recomienda transformar la estructura, ya sea temporalmente y luego deshacer la transformación, o permanentemente en función del tipo de datos que estás trabajando.</p>
<p><strong>Formato largo:</strong></p>
<ul>
<li>Cuando vayas a 
<a href="../../../../blog/r_introduccion/tutorial_visualizacion_ggplot/">hacer gráficos con <code>{ggplot2}</code></a></li>
<li>Cuando necesites agrupar y resumir datos con <code>group_by()</code> y <code>summarise()</code></li>
<li>Cuando quieras aplicar filtros sobre los valores de las variables</li>
</ul>
<p><strong>Formato ancho:</strong></p>
<ul>
<li>Cuando quieras 
<a href="https://bastianolea.rbind.io/blog/tutorial_gt/" target="_blank" rel="noopener">presentar tablas</a> para 
<a href="https://bastianolea.rbind.io/blog/quarto_reportes/" target="_blank" rel="noopener">reportes</a></li>
<li>Cuando necesites comparar valores lado a lado entre variables</li>
<li>Cuando vayas a exportar datos a Excel para su lectura o consulta</li>
<li>Cuando quieras calcular diferencias o razones entre columnas específicas</li>
<li>Cuando necesites hacer operaciones matemáticas simples entre variables</li>
</ul>
<hr>
<p>Saber transformar datos entre formato ancho y largo es una habilidad esencial para trabajar con datos en R. Dominar esta transformaciones de estructuras de datos te entrega mucha libertad al momento de manipular, limpiar, y trabajar con conjuntos de datos complejos.</p>
<p><div style = "height: 18px;">
</div>
<div>
  <div style="display: flex;
  justify-content: center;
  align-items: center;">
    <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="bastimapache" data-color="#FFDD00" data-emoji="☕"  data-font="Cookie" data-text="Regálame un cafecito" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" ></script>
  </div>


</p>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="http://localhost:3717/blog/r_introduccion/dplyr_summarize/">&larr; Calcular resúmenes de datos con `dplyr::summarize()`</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="http://localhost:3717/blog/r_introduccion/tutorial_dplyr_censo/">Tutorial: introducción a {dplyr} con datos de población &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
    
      <script src="https://utteranc.es/client.js"
              repo="bastianolea/blog-bastianolea-r"
              issue-term="pathname"
              theme="github-light"
              label="comments"
              crossorigin="anonymous"
              async
              type="text/javascript">
      </script>
    
  
</div>

    
  </section>
</main>

<aside class="page-sidebar" role="complementary">

   
                         
 



<div class="flex items-start sticky ph4 pb4">
  <div class="w-two-thirds w-50-l ph0">
    
    <h2 class="mt3 mb3 f5 fw7 ttu tracked"><a class="no-underline dim" href="../../../blog/r_introduccion/">Publicaciones de la serie</a></h2>
    <nav id="SeriesTableOfContents">
        <ul>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/instalar_r/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/instalar_r/">Primer paso: instalar R</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/por_que_r/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/por_que_r/">¿Por qué usar R?</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/r_basico/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/r_basico/">Introducción al lenguaje de programación R</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/r_intermedio/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/r_intermedio/">Herramientas básicas para programar con R</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/conectores/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/conectores/">Aprendiendo a usar conectores o <em>pipes</em></a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/proyectos/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/proyectos/">Organizar el trabajo en Proyectos de RStudio</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/dplyr_intro/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/dplyr_intro/">Introducción al manejo de datos con {dplyr}</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/dplyr_mutate/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/dplyr_mutate/">Crear variables nuevas con <code>dplyr::mutate()</code></a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/dplyr_summarize/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/dplyr_summarize/">Calcular resúmenes de datos con <code>dplyr::summarize()</code></a></li>
        
          
          <li class="active" hugo-nav="/blog/r_introduccion/tidyr_pivotar/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tidyr_pivotar/">Transformación de datos entre formato <em>ancho</em> y <em>largo</em> con {tidyr}</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_dplyr_censo/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_dplyr_censo/">Tutorial: introducción a {dplyr} con datos de población</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_dplyr_campamentos/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_dplyr_campamentos/">Tutorial: introducción a {dplyr} usando datos de campamentos</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_visualizacion_ggplot/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_visualizacion_ggplot/">Tutorial: visualización de datos con {ggplot2}</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_shiny_1/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_shiny_1/">Tutorial: introducción al desarrollo de apps con Shiny</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_shinyapps/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_shinyapps/">Tutorial: publicar una app Shiny en shinyapps.io</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/web_scraping/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/web_scraping/">Web scraping con R</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_github/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/tutorial_github/">Tutorial: crear un repositorio Git para tu proyecto de R y comparte tu código en GitHub</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/recursos_r/" style="line-height: 1.3; font-size: 95%; margin-left:-18px;"><a href="http://localhost:3717/blog/r_introduccion/recursos_r/">Recursos, blogs y otros sitios sobre R</a></li>
        
        </ul>
      </nav>
  </div>
  
  
  <details open id="PageTableOfContents">
    <summary><h2 class="mv0 f5 fw7 ttu tracked dib">Índice</h2></summary>
    <div class="pl2 pr0 mh0" style = "font-size: 95%;">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#formatos-de-datos">Formatos de datos</a>
      <ul>
        <li><a href="#datos-en-formato-ancho">Datos en formato ancho</a></li>
        <li><a href="#datos-en-formato-largo">Datos en formato largo</a></li>
      </ul>
    </li>
    <li><a href="#transformación-de-formatos">Transformación de formatos</a>
      <ul>
        <li><a href="#desde-ancho-hacia-largo">Desde ancho hacia largo</a></li>
        <li><a href="#desde-largo-hacia-ancho">Desde largo hacia ancho</a></li>
      </ul>
    </li>
    <li><a href="#cuándo-usar-cada-formato">¿Cuándo usar cada formato?</a></li>
  </ul>
</nav>
    </div>
  </details>
  
</div>


 
  
</aside>


        
          <script id="partials/analytics.html" 
  data-goatcounter="https://bastimapache.goatcounter.com/count"
  async src="//gc.zgo.at/count.js"></script>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2026 Bastián Olea Herrera, Chile
      <span class="middot-divider"></span>
      Hecho con <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source" style="color:#9069C0;">Hugo Apéro</a> 
      y <a href="https://pkgs.rstudio.com/blogdown/" style="color:#9069C0;">{blogdown}</a></span>.
      <br />
      
Basado en <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source" style="color:#9069C0;">Blogophonic</a></span>, de <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL" style="color:#9069C0;">Formspree</a>.

Sitio alojado en <a href="https://www.netlify.com" style="color:#9069C0;">Netlify</a></span>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bastianoleah.shinyapps.io/buscador/" title="search" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fas fa-search fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.last.fm/user/bastimapache" title="lastfm" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-lastfm fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener"
    style="margin-bottom: 6px !important;"> 
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="../../../contacto/" title="envelope" 
    style="margin-bottom: 6px !important;"> 
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="../../../about/" title="Bastián Olea: Sobre mi">Sobre mi</a>
      
      <a class="dib pv1 ph2 link" href="https://bastianoleah.shinyapps.io/buscador/" title="Buscador">Buscar</a>
      
      <a class="dib pv1 ph2 link" href="../../../contacto/" title="Bastián Olea: Contacto">Contacto</a>
      
      <a class="dib pv1 ph2 link" href="../../../tags/" title="Temas">Temas</a>
      
      <a class="dib pv1 ph2 link" href="../../../clases/" title="Clases">Clases</a>
      
      <a class="dib pv1 ph2 link" href="../../../code-of-conduct/" title="Bastián Olea: Código de conducta">Código de conducta</a>
      
      <a class="dib pv1 ph2 link" href="../../../license/" title="Bastián Olea: Licencia">Licencia</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>

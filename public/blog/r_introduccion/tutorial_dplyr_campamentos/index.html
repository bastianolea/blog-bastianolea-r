<!DOCTYPE html>
<html lang="es-ES" dir="ltr"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=4321&amp;path=livereload" data-no-instant defer></script>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.136.5">
<title>Tutorial: introducción a {dplyr} usando datos de campamentos | Blog</title>


<meta property="twitter:site" content="@bastimapache">
<meta property="twitter:creator" content="@bastimapache">







  
    
  
<meta name="description" content="Tutorial de introducción al paquete `{dplyr}` para la exploración y análisis de datos con R. Está dirigido a principiantes. En este tutorial veremos cómo explorar un conjunto de datos sociohabitacionales, y a crear nuevas variables.">


<meta property="og:site_name" content="Blog">
<meta property="og:title" content="Tutorial: introducción a {dplyr} usando datos de campamentos | Blog">
<meta property="og:description" content="Tutorial de introducción al paquete `{dplyr}` para la exploración y análisis de datos con R. Está dirigido a principiantes. En este tutorial veremos cómo explorar un conjunto de datos sociohabitacionales, y a crear nuevas variables." />
<meta property="og:type" content="page" />
<meta property="og:url" content="http://localhost:4321/blog/r_introduccion/tutorial_dplyr_campamentos/" />
<meta property="og:locale" content="es-ES">




    
        <meta property="og:image" content="http://localhost:4321/blog/r_introduccion/sidebar-featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="http://localhost:4321/blog/r_introduccion/sidebar-featured.png" >
    
    
  
  <meta itemprop="name" content="Tutorial: introducción a {dplyr} usando datos de campamentos">
  <meta itemprop="description" content="Este post es una introducción al paquete {dplyr} para la exploración y análisis de datos con R. Está dirigido a principiantes de R. En este tutorial veremos:
carga de datos de Excel revisar los datos seleccionar columnas ordenar tablas de datos contar frecuencias filtrar datos crear variables dicotómicas crear variables complejas Los datos usados en este tutorial corresponden al catastro de campamentos de Chile 2024, del Centro de Estudios del Ministerio de Vivienda y Urbanismo.. El código para obtener, procesar y visualizar los datos se encuentra en este repositorio de GitHub.">
  <meta itemprop="datePublished" content="2024-11-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-11-09T00:00:00+00:00">
  <meta itemprop="wordCount" content="7229">
  <meta itemprop="keywords" content="Dplyr">
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.55dbd02bca0ffe5b529947b6e820112767ccd613c06be72b72edf1514d53ed34.css" integrity="sha256-VdvQK8oP/ltSmUe26CARJ2fM1hPAa&#43;crcu3xUU1T7TQ=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.bebab142e3ad4c47834f81e426b8adcd5b747151cc6f7d8358a68b4a30c7ff48.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single-series">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="http://localhost:4321/" title="Home">
      <img src="/img/logo.png" class="dib db-l h2 w-auto" alt="Blog">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Bastián Olea: Blog de R">Blog R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/apps/" title="Bastián Olea: Apps">Apps</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/clases/" title="Bastián Olea: Clases">Clases</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/tags/" title="Bastián Olea: Blog">Temas</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/categories/tutoriales/" title="Bastián Olea: Tutoriales">Tutoriales</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/r_introduccion/" title="Bastián Olea: Tutoriales">Intro a R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="Bastián Olea: Sobre mi">Yo</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/contact/" title="Bastián Olea: Contacto">Contacto</a>
      
      
      <div class="dib v-mid">
        <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastimapache.bsky.social" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.threads.net/@raccunnie" title="threads" target="_blank" rel="me noopener">
      <i class="fab fa-threads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contact/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

      </div>
      
    </div>
  </nav>
</header>

                       
<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 pl3-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Tutorial: introducción a {dplyr} usando datos de campamentos</h1>
        
        <p class="f6 measure lh-copy mv1">Por Bastián Olea Herrera in <a href="http://localhost:4321/categories/tutoriales">Tutoriales</a> </p>
        <p class="f7 db mv0 ttu">9/11/2024</p>
      </header>
      <section class="post-body pt5 pb4">
        <p>Este post es una introducción al paquete <code>{dplyr}</code> para la exploración y análisis de datos con R. Está dirigido a principiantes de R. <!-- Si es primera vez que usas R, te recomiendo revisar primero [este breve tutorial inicial de R.](/blog/tutorial_r_1/). --></p>
<p><em>En este tutorial veremos:</em></p>
<ul>
<li>carga de datos de Excel</li>
<li>revisar los datos</li>
<li>seleccionar columnas</li>
<li>ordenar tablas de datos</li>
<li>contar frecuencias</li>
<li>filtrar datos</li>
<li>crear variables dicotómicas</li>
<li>crear variables complejas</li>
</ul>
<p>Los datos usados en este tutorial corresponden al catastro de campamentos de Chile 2024, del 
<a href="https://geoportal-open-data-minvu-2-minvu.hub.arcgis.com/datasets/MINVU::actualizacion-catastro-campamentos-2024-1/about" target="_blank" rel="noopener">Centro de Estudios del Ministerio de Vivienda y Urbanismo.</a>. El código para obtener, procesar y visualizar los datos 
<a href="https://github.com/bastianolea/campamentos_chile" target="_blank" rel="noopener">se encuentra en este repositorio de GitHub.</a></p>
<p>Para empezar, instalamos los paquetes que usaremos en este tutorial (solo se necesita hacer una vez, y sólo si es que no los tienes instalados).</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">install.packages</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;readxl&#34;</span><span style="color:#908caa">)</span> <span style="color:#6e6a86"># cargar datos desde Excel</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">install.packages</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;dplyr&#34;</span><span style="color:#908caa">)</span> <span style="color:#6e6a86"># manipulación de datos</span>
</span></span></code></pre></div>



<h1 id="cargar-datos">Cargar datos
  <a href="#cargar-datos"></a>
</h1>
<p>Puedes 
<a href="https://raw.githubusercontent.com/bastianolea/blog-r/refs/heads/master/content/blog/r_introduccion/tutorial_dplyr_campamentos/campamentos_chile_2024.xlsx" target="_blank" rel="noopener">descargar el archivo <code>campamentos_chile_2024.xlsx</code> que usaremos en este tutorial desde este enlace</a>. Los datos se obtuvieron desde 
<a href="https://github.com/bastianolea/campamentos_chile" target="_blank" rel="noopener">este repositorio.</a></p>
<p>Cargamos los datos desde Excel usando el nombre del archivo como argumento a la función <code>read_excel()</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">readxl</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">read_excel</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;campamentos_chile_2024.xlsx&#34;</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">datos</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Bellavista Valpa… Valparaí… Valpa… 05    051    5101      29     1.51  10617.
 2 Buena Vis… Valpa… Valparaí… Valpa… 05    051    5101      32     1.67  11707.
 3 Los Flete… Valpa… Valparaí… Valpa… 05    051    5101      56     2.49  17465.
 4 Pueblo Hu… Valpa… Valparaí… Valpa… 05    051    5101      65     4.60  32261.
 5 Villa Ita… Valpa… Valparaí… Valpa… 05    051    5101      33     0.867  6081.
 6 Nueva Esp… Valpa… Valparaí… Valpa… 05    051    5101      17     0.399  2802.
 7 Francisco… Valpa… Valparaí… Valpa… 05    051    5101      24     2.85  19955.
 8 Manuel Ro… Valpa… Valparaí… Valpa… 05    051    5101      21     0.443  3103.
 9 Sofia 35   Valpa… Valparaí… Valpa… 05    051    5101      69     2.68  18819.
10 Las Viñas… Valpa… Marga Ma… Villa… 05    058    5804      32     1.24   8704.
# ℹ 1,422 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>Este tipo de objetos tabulares se llaman <em>dataframes,</em> específicamente <em>tibble,</em> que es un tipo de tabla. Los dataframes son tablas de datos hechas a partir de vectores, donde cada columna es un vector del mismo largo (misma cantidad de elementos). Los dataframes se caracterizan por tener distintas columnas que pueden de distinto tipo: numéricas, caracter (texto), lógico (TRUE/FALSE), fechas, entre otras. Todas las columnas tienen el mismo largo, que es equivalente a la cantidad de filas de la tabla.</p>
<p>Para explorar los datos, usaremos el paquete <code>{dplyr}</code>, que nos permite manejar datos con mayor facilidad. <code>{dplyr}</code> sirve para manipular datos a partir de funciones que emulan instrucciones sencillas, como <em>seleccionar, filtrar,</em> etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">dplyr</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Una particularidad del uso de <code>{dplyr}</code> es el uso del operador <code>|&gt;</code>, que es operador que nos permite conectar un objeto con una o múltiples operaciones que deseamos realizarle al objeto.</p>
<p>Ejemplo de dos operaciones encadenadas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hectareas</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">60</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 352 × 3
   nombre                              hogares hectareas
   &lt;chr&gt;                                 &lt;dbl&gt;     &lt;dbl&gt;
 1 Pueblo Hundido                           65      4.60
 2 Sofia 35                                 69      2.68
 3 Ampliación Prat-Lomas De Peñablanca     146     15.1 
 4 Violeta Parra                           123     10.7 
 5 Mesana Alto                             128     14.5 
 6 Pampa Ilusión (Sector Las Torres)       195      7.04
 7 Parcela 11                              520     44.0 
 8 Parcela 15                              257     15.4 
 9 Campanillas                              98      6.19
10 La Isla                                 116      4.51
# ℹ 342 more rows
</code></pre>
<p>El conector significa que <em>a este objeto le hago esto otro;</em> es decir, se lee como si dijera &ldquo;luego&rdquo; o &ldquo;entonces&rdquo;. En este caso: <em>a <code>datos</code> le selecciono columnas y le aplico un filtro.</em></p>




<h2 id="revisar">Revisar
  <a href="#revisar"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Ejecutar el nombre del objeto nos permite que sus contenidos aparezcan en la consola de R.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Bellavista Valpa… Valparaí… Valpa… 05    051    5101      29     1.51  10617.
 2 Buena Vis… Valpa… Valparaí… Valpa… 05    051    5101      32     1.67  11707.
 3 Los Flete… Valpa… Valparaí… Valpa… 05    051    5101      56     2.49  17465.
 4 Pueblo Hu… Valpa… Valparaí… Valpa… 05    051    5101      65     4.60  32261.
 5 Villa Ita… Valpa… Valparaí… Valpa… 05    051    5101      33     0.867  6081.
 6 Nueva Esp… Valpa… Valparaí… Valpa… 05    051    5101      17     0.399  2802.
 7 Francisco… Valpa… Valparaí… Valpa… 05    051    5101      24     2.85  19955.
 8 Manuel Ro… Valpa… Valparaí… Valpa… 05    051    5101      21     0.443  3103.
 9 Sofia 35   Valpa… Valparaí… Valpa… 05    051    5101      69     2.68  18819.
10 Las Viñas… Valpa… Marga Ma… Villa… 05    058    5804      32     1.24   8704.
# ℹ 1,422 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>Por defecto, la consola nos muestra 10 filas de la tabla. Si queremos ver más filas podemos usar la función <code>print()</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">print</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">20</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Bellavista Valpa… Valparaí… Valpa… 05    051    5101      29     1.51  1.06e4
 2 Buena Vis… Valpa… Valparaí… Valpa… 05    051    5101      32     1.67  1.17e4
 3 Los Flete… Valpa… Valparaí… Valpa… 05    051    5101      56     2.49  1.75e4
 4 Pueblo Hu… Valpa… Valparaí… Valpa… 05    051    5101      65     4.60  3.23e4
 5 Villa Ita… Valpa… Valparaí… Valpa… 05    051    5101      33     0.867 6.08e3
 6 Nueva Esp… Valpa… Valparaí… Valpa… 05    051    5101      17     0.399 2.80e3
 7 Francisco… Valpa… Valparaí… Valpa… 05    051    5101      24     2.85  2.00e4
 8 Manuel Ro… Valpa… Valparaí… Valpa… 05    051    5101      21     0.443 3.10e3
 9 Sofia 35   Valpa… Valparaí… Valpa… 05    051    5101      69     2.68  1.88e4
10 Las Viñas… Valpa… Marga Ma… Villa… 05    058    5804      32     1.24  8.70e3
11 Lomas De … Valpa… Marga Ma… Villa… 05    058    5804      42     3.97  2.78e4
12 Manzana 33 Valpa… Marga Ma… Villa… 05    058    5804      37     2.19  1.53e4
13 Ampliació… Valpa… Marga Ma… Villa… 05    058    5804     146    15.1   1.06e5
14 Los Artes… Valpa… Valparaí… Viña … 05    051    5109      35     2.00  1.40e4
15 La Unión … Valpa… Valparaí… Viña … 05    051    5109      20     1.33  9.30e3
16 John Kenn… Valpa… Valparaí… Valpa… 05    051    5101      48     0.858 6.01e3
17 Pezoa Vel… Valpa… Valparaí… Valpa… 05    051    5101      22     0.194 1.36e3
18 Violeta P… Valpa… Valparaí… Valpa… 05    051    5101     123    10.7   7.50e4
19 Cristo Re… Valpa… Valparaí… Valpa… 05    051    5101      53     0.862 6.04e3
20 Loma Vist… Valpa… Valparaí… Viña … 05    051    5109      47     1.19  8.34e3
# ℹ 1,412 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>Las funciones <code>head()</code> y <code>tails()</code> te muestran las primeras o últimas filas de la tabla, respectivamente. Si la combinas con <code>print()</code>, puedes consultar la cantidad que quieras de filas al principio o final de tu tabla.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># ver últimas 20 filas</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">tail</span><span style="color:#908caa">(</span><span style="color:#f6c177">20</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">print</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">=</span><span style="color:#3e8fb0">Inf</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 20 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Longitudi… Valpa… Marga Ma… Villa… 05    058    5804      14     0.681 4.78e3
 2 Comunidad… Valpa… Marga Ma… Villa… 05    058    5804      36     1.28  8.97e3
 3 Nueva Tol… Valpa… Marga Ma… Villa… 05    058    5804      10     0.305 2.14e3
 4 Toma Nuev… Metro… Cordille… Puent… 13    132   13201       0     0     0     
 5 Villa Res… Valpa… San Anto… Carta… 05    056    5601      48     6.15  4.26e4
 6 Sector Lí… La Ar… Malleco   Traig… 09    092    9210      15     2.56  1.58e4
 7 Licantatay Antof… El Loa    Calama 02    022    2201      41     6.27  5.33e4
 8 Nuevo Ama… Antof… El Loa    Calama 02    022    2201      41    47.4   4.03e5
 9 Barrio Tr… Antof… El Loa    Calama 02    022    2201       0    55.3   4.69e5
10 Calameños… Antof… El Loa    Calama 02    022    2201      91     4.41  3.74e4
11 Tres Band… Antof… Antofaga… Taltal 02    021    2104       0     2.39  1.94e4
12 Sauce 3    Valpa… Valparaí… Viña … 05    051    5109       0     3.35  2.35e4
13 Campament… Antof… Antofaga… Antof… 02    021    2101       0     0.450 3.76e3
14 Campament… Antof… Tocopilla Tocop… 02    023    2301      27     5.52  4.72e4
15 Luz Divin… Antof… Antofaga… Antof… 02    021    2101       0     0.934 7.81e3
16 Villa Esp… Antof… Antofaga… Antof… 02    021    2101       0     0.623 5.20e3
17 Valle Her… Biobío Arauco    Los A… 08    082    8206      71     8.18  5.14e4
18 Rucamanque Biobío Concepci… Talca… 08    081    8110     119     5.24  3.37e4
19 Caleta Co… Antof… Tocopilla Tocop… 02    023    2301       0     5.38  4.56e4
20 Caleta Co… Antof… Tocopilla Tocop… 02    023    2301       0     1.00  8.52e3
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>Una función útil para poder revisar los datos rápidamente de una forma distinta es <code>glimpse()</code>, que nos muestra la tabla pero con las columnas hacia abajo y los valores hacia el lado. Es como ver la tabla girada, permitiéndonos ver todas sus columnas, sus formatos, y un ejemplo de las primeras observaciones de cada variable.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">glimpse</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code>Rows: 1,432
Columns: 12
$ nombre        &lt;chr&gt; &quot;Bellavista&quot;, &quot;Buena Vista&quot;, &quot;Los Fleteros&quot;, &quot;Pueblo Hun…
$ region        &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ provincia     &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ comuna        &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ cut_r         &lt;chr&gt; &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;0…
$ cut_p         &lt;chr&gt; &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, …
$ cut           &lt;dbl&gt; 5101, 5101, 5101, 5101, 5101, 5101, 5101, 5101, 5101, 58…
$ hogares       &lt;dbl&gt; 29, 32, 56, 65, 33, 17, 24, 21, 69, 32, 42, 37, 146, 35,…
$ hectareas     &lt;dbl&gt; 1.5138015, 1.6700459, 2.4914854, 4.6023230, 0.8673470, 0…
$ area          &lt;dbl&gt; 10617.233, 11707.446, 17465.450, 32261.178, 6080.654, 28…
$ observaciones &lt;chr&gt; &quot;CAMPAMENTO EN CATASTRO NACIONAL 2022. EXTENSIÓN DE LÍMI…
$ año           &lt;chr&gt; &quot;CATASTRO_2011&quot;, &quot;CATASTRO_2011&quot;, &quot;CATASTRO_2011&quot;, &quot;CATA…
</code></pre>
<p>La función <code>slice()</code> permite extraer filas específicas de la tabla, según su posición. Por ejemplo, aquí extraeremos las filas número 1000 al 1010:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">slice</span><span style="color:#908caa">(</span><span style="color:#f6c177">1000</span><span style="color:#908caa">:</span><span style="color:#f6c177">1010</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 11 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Batuco     Metro… Chacabuco Lampa  13    133   13302      84    11.5   7.99e4
 2 Jerusalén  Metro… Chacabuco Lampa  13    133   13302     565    32.1   2.24e5
 3 Borde Rio… Liber… Cachapoal Doñih… 06    061    6105       0    10.5   7.15e4
 4 Toma Vist… Metro… Chacabuco Lampa  13    133   13302     539    14.5   1.01e5
 5 Medialuna… Metro… Chacabuco Lampa  13    133   13302     104     2.23  1.56e4
 6 Puente Li… Liber… Cachapoal Malloa 06    061    6109       0     1.75  1.18e4
 7 Mirador    Metro… Chacabuco Lampa  13    133   13302     117     5.37  3.74e4
 8 Esperando… Liber… Cachapoal Rengo  06    061    6115       0     1.15  7.84e3
 9 Central L… Metro… Chacabuco Lampa  13    133   13302      14     1.79  1.25e4
10 Los Tronc… Liber… Cachapoal Rengo  06    061    6115       0     0.970 6.59e3
11 Los Tubos  Metro… Maipo     Buin   13    134   13402      27     0.864 5.95e3
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>




<h2 id="ordenar">Ordenar
  <a href="#ordenar"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Ordenar observaciones en base a una o varias columnas</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 05 De Abr… Ataca… Copiapó   Copia… 03    031    3101      27     1.11  8.71e3
 2 10 De Ago… Tarap… Iquique   Alto … 01    011    1107     104     1.63  1.43e4
 3 12 De Feb… Liber… Cachapoal Macha… 06    061    6108      47    12.7   8.64e4
 4 12 De May… Metro… Chacabuco Colina 13    133   13301     148     2.16  1.51e4
 5 12 De Oct… Ataca… Copiapó   Copia… 03    031    3101      12     0.791 6.22e3
 6 13 De Jun… Tarap… Tamarugal Pozo … 01    014    1401       0     0.224 1.96e3
 7 14 de feb… La Ar… Cautín    Temuco 09    091    9101       0     0.635 3.86e3
 8 15 De Feb… Ataca… Copiapó   Copia… 03    031    3101      16     0.499 3.92e3
 9 17 De Mayo Metro… Santiago  Cerro… 13    131   13103     158    15.7   1.09e5
10 18 De Oct… Valpa… Marga Ma… Villa… 05    058    5804      18     1.15  8.04e3
# ℹ 1,422 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Alto Molle Tarap… Iquique   Alto … 01    011    1107    3390     130.  1.14e6
 2 Manuel Bu… Valpa… Valparaí… Viña … 05    051    5109    1647      90.2 6.33e5
 3 América I… Metro… Santiago  Cerri… 13    131   13102    1550      29.8 2.07e5
 4 Dignidad   Metro… Chacabuco Colina 13    133   13301    1004      15.8 1.10e5
 5 Milla Ant… Metro… Cordille… Puent… 13    132   13201    1001      23.0 1.59e5
 6 Comité de… Antof… Antofaga… Antof… 02    021    2101    1000      14.8 1.24e5
 7 Centinela… Valpa… San Anto… San A… 05    056    5601     833     111.  7.69e5
 8 Vista Her… Valpa… San Anto… Carta… 05    056    5603     789      64.6 4.48e5
 9 Aguas Sal… Valpa… San Anto… San A… 05    056    5601     688      45.1 3.12e5
10 Felipe Ca… Valpa… Valparaí… Viña … 05    051    5109     669      37.0 2.59e5
# ℹ 1,422 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">comuna</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre             comuna        hogares
   &lt;chr&gt;              &lt;chr&gt;           &lt;dbl&gt;
 1 Las Quilas II      Aisén              83
 2 Las Avutardas      Aisén              16
 3 CAMINO CEMENTERIO  Aisén               8
 4 Almirante Simpson  Aisén               0
 5 Pueblo Hundido     Alto Biobío        30
 6 Pueblo Hundido     Alto Biobío        13
 7 Sector Pangue      Alto Biobío        10
 8 Alto Molle         Alto Hospicio    3390
 9 Ex Vertedero Norte Alto Hospicio     394
10 La Pampa 2         Alto Hospicio     347
# ℹ 1,422 more rows
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">glimpse</span><span style="color:#908caa">()</span>
</span></span></code></pre></div><pre><code>Rows: 1,432
Columns: 12
$ nombre        &lt;chr&gt; &quot;Bellavista&quot;, &quot;Buena Vista&quot;, &quot;Los Fleteros&quot;, &quot;Pueblo Hun…
$ region        &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ provincia     &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ comuna        &lt;chr&gt; &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, &quot;Valparaíso&quot;, …
$ cut_r         &lt;chr&gt; &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;05&quot;, &quot;0…
$ cut_p         &lt;chr&gt; &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, &quot;051&quot;, …
$ cut           &lt;dbl&gt; 5101, 5101, 5101, 5101, 5101, 5101, 5101, 5101, 5101, 58…
$ hogares       &lt;dbl&gt; 29, 32, 56, 65, 33, 17, 24, 21, 69, 32, 42, 37, 146, 35,…
$ hectareas     &lt;dbl&gt; 1.5138015, 1.6700459, 2.4914854, 4.6023230, 0.8673470, 0…
$ area          &lt;dbl&gt; 10617.233, 11707.446, 17465.450, 32261.178, 6080.654, 28…
$ observaciones &lt;chr&gt; &quot;CAMPAMENTO EN CATASTRO NACIONAL 2022. EXTENSIÓN DE LÍMI…
$ año           &lt;chr&gt; &quot;CATASTRO_2011&quot;, &quot;CATASTRO_2011&quot;, &quot;CATASTRO_2011&quot;, &quot;CATA…
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos2</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#f6c177">1</span><span style="color:#908caa">:</span><span style="color:#f6c177">4</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">slice_sample</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">10</span><span style="color:#908caa">)</span>
</span></span></code></pre></div>



<h2 id="seleccionar">Seleccionar
  <a href="#seleccionar"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Podemos reducir la cantidad de columnas de nuestra tabla usando <code>select()</code>. Esto puede servirnos para acotar la exploración de los datos, cuando no necesitamos ver todas las columnas al mismo tiempo.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hectareas</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 2
   nombre                  hectareas
   &lt;chr&gt;                       &lt;dbl&gt;
 1 Bellavista                  1.51 
 2 Buena Vista                 1.67 
 3 Los Fleteros                2.49 
 4 Pueblo Hundido              4.60 
 5 Villa Italia Turín          0.867
 6 Nueva Esperanza             0.399
 7 Francisco Vergara           2.85 
 8 Manuel Rodríguez            0.443
 9 Sofia 35                    2.68 
10 Las Viñas De Irene Frei     1.24 
# ℹ 1,422 more rows
</code></pre>
<p>Ante poniendo un signo menos antes del nombre de una columna podemos excluirla de nuestra tabla.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#908caa">-</span><span style="color:#ea9a97">cut</span><span style="color:#908caa">,</span> <span style="color:#908caa">-</span><span style="color:#ea9a97">cut_r</span><span style="color:#908caa">,</span> <span style="color:#908caa">-</span><span style="color:#ea9a97">cut_p</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 9
   nombre   region provincia comuna hogares hectareas   area observaciones año  
   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;
 1 Bellavi… Valpa… Valparaí… Valpa…      29     1.51  10617. CAMPAMENTO E… CATA…
 2 Buena V… Valpa… Valparaí… Valpa…      32     1.67  11707. CAMPAMENTO E… CATA…
 3 Los Fle… Valpa… Valparaí… Valpa…      56     2.49  17465. CAMPAMENTO E… CATA…
 4 Pueblo … Valpa… Valparaí… Valpa…      65     4.60  32261. CAMPAMENTO E… CATA…
 5 Villa I… Valpa… Valparaí… Valpa…      33     0.867  6081. CAMPAMENTO E… CATA…
 6 Nueva E… Valpa… Valparaí… Valpa…      17     0.399  2802. CAMPAMENTO E… CATA…
 7 Francis… Valpa… Valparaí… Valpa…      24     2.85  19955. CAMPAMENTO E… CATA…
 8 Manuel … Valpa… Valparaí… Valpa…      21     0.443  3103. CAMPAMENTO E… CATA…
 9 Sofia 35 Valpa… Valparaí… Valpa…      69     2.68  18819. CAMPAMENTO E… CATA…
10 Las Viñ… Valpa… Marga Ma… Villa…      32     1.24   8704. CAMPAMENTO E… CATA…
# ℹ 1,422 more rows
</code></pre>
<p>Recordemos que, hasta que no asignemos estas operaciones a un nuevo objeto, no estamos modificando nuestros datos realmente, sino que solamente estamos aplicando operaciones sobre los datos de una forma no destructiva, como exploración o a modo de prueba.</p>
<p>La función selecta acepta diversas formas de poder seleccionar o de seleccionar variables en base a sus nombres.</p>
<p>Excluir columnas que incluyan cierto texto dentro de sus nombres:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#908caa">-</span><span style="color:#ea9a97">contains</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;cut&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 9
   nombre   region provincia comuna hogares hectareas   area observaciones año  
   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;
 1 Bellavi… Valpa… Valparaí… Valpa…      29     1.51  10617. CAMPAMENTO E… CATA…
 2 Buena V… Valpa… Valparaí… Valpa…      32     1.67  11707. CAMPAMENTO E… CATA…
 3 Los Fle… Valpa… Valparaí… Valpa…      56     2.49  17465. CAMPAMENTO E… CATA…
 4 Pueblo … Valpa… Valparaí… Valpa…      65     4.60  32261. CAMPAMENTO E… CATA…
 5 Villa I… Valpa… Valparaí… Valpa…      33     0.867  6081. CAMPAMENTO E… CATA…
 6 Nueva E… Valpa… Valparaí… Valpa…      17     0.399  2802. CAMPAMENTO E… CATA…
 7 Francis… Valpa… Valparaí… Valpa…      24     2.85  19955. CAMPAMENTO E… CATA…
 8 Manuel … Valpa… Valparaí… Valpa…      21     0.443  3103. CAMPAMENTO E… CATA…
 9 Sofia 35 Valpa… Valparaí… Valpa…      69     2.68  18819. CAMPAMENTO E… CATA…
10 Las Viñ… Valpa… Marga Ma… Villa…      32     1.24   8704. CAMPAMENTO E… CATA…
# ℹ 1,422 more rows
</code></pre>
<p>Seleccionar columnas que empiecen con cierto texto:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">starts_with</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;com&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 1
   comuna       
   &lt;chr&gt;        
 1 Valparaíso   
 2 Valparaíso   
 3 Valparaíso   
 4 Valparaíso   
 5 Valparaíso   
 6 Valparaíso   
 7 Valparaíso   
 8 Valparaíso   
 9 Valparaíso   
10 Villa Alemana
# ℹ 1,422 more rows
</code></pre>
<p>Seleccionar comunas que terminen con un texto determinado:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">ends_with</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;a&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   provincia   comuna          area
   &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
 1 Valparaíso  Valparaíso    10617.
 2 Valparaíso  Valparaíso    11707.
 3 Valparaíso  Valparaíso    17465.
 4 Valparaíso  Valparaíso    32261.
 5 Valparaíso  Valparaíso     6081.
 6 Valparaíso  Valparaíso     2802.
 7 Valparaíso  Valparaíso    19955.
 8 Valparaíso  Valparaíso     3103.
 9 Valparaíso  Valparaíso    18819.
10 Marga Marga Villa Alemana  8704.
# ℹ 1,422 more rows
</code></pre>
<p>También podemos seleccionar columnas de un determinado tipo. En este caso, seleccionamos solamente las variables que sean numéricas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">where</span><span style="color:#908caa">(</span><span style="color:#ea9a97">is.numeric</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 4
     cut hogares hectareas   area
   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1  5101      29     1.51  10617.
 2  5101      32     1.67  11707.
 3  5101      56     2.49  17465.
 4  5101      65     4.60  32261.
 5  5101      33     0.867  6081.
 6  5101      17     0.399  2802.
 7  5101      24     2.85  19955.
 8  5101      21     0.443  3103.
 9  5101      69     2.68  18819.
10  5804      32     1.24   8704.
# ℹ 1,422 more rows
</code></pre>




<h2 id="conteos">Conteos
  <a href="#conteos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>La función Count se aplica a una de las variables de nuestros datos, y cuenta la cantidad de observaciones que se corresponden con cada uno de los valores o niveles posibles de la variable. En otras palabras, cuenta la frecuencia de cada categoría de respuesta de la variable.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 16 × 2
   region                                        n
   &lt;chr&gt;                                     &lt;int&gt;
 1 Antofagasta                                 116
 2 Arica y Parinacota                           14
 3 Atacama                                     121
 4 Aysén del General Carlos Ibáñez del Campo    10
 5 Biobío                                      225
 6 Coquimbo                                     52
 7 La Araucanía                                 70
 8 Libertador General Bernardo O'Higgins        59
 9 Los Lagos                                    67
10 Los Ríos                                     40
11 Magallanes y de la Antártica Chilena          3
12 Maule                                        25
13 Metropolitana                               168
14 Tarapacá                                     64
15 Valparaíso                                  374
16 Ñuble                                        24
</code></pre>
<p>Podemos combinar un conteo de una variable con el ordenamiento de las filas en base al conteo realizado, resultando una tabla ordenada de mayor a menor según las observaciones contadas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 16 × 2
   region                                        n
   &lt;chr&gt;                                     &lt;int&gt;
 1 Valparaíso                                  374
 2 Biobío                                      225
 3 Metropolitana                               168
 4 Atacama                                     121
 5 Antofagasta                                 116
 6 La Araucanía                                 70
 7 Los Lagos                                    67
 8 Tarapacá                                     64
 9 Libertador General Bernardo O'Higgins        59
10 Coquimbo                                     52
11 Los Ríos                                     40
12 Maule                                        25
13 Ñuble                                        24
14 Arica y Parinacota                           14
15 Aysén del General Carlos Ibáñez del Campo    10
16 Magallanes y de la Antártica Chilena          3
</code></pre>
<p>Naturalmente, es posible realizar conteos por más de una variable, mostrando las combinaciones entre ambas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">comuna</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 195 × 3
   region       comuna            n
   &lt;chr&gt;        &lt;chr&gt;         &lt;int&gt;
 1 Valparaíso   Viña del Mar    114
 2 Valparaíso   Valparaíso       99
 3 Antofagasta  Antofagasta      87
 4 Atacama      Copiapó          82
 5 Tarapacá     Alto Hospicio    45
 6 La Araucanía Temuco           41
 7 Biobío       Talcahuano       32
 8 Valparaíso   Quilpué          32
 9 Biobío       Lota             30
10 Valparaíso   San Antonio      27
# ℹ 185 more rows
</code></pre>




<h2 id="filtros">Filtros
  <a href="#filtros"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Podemos realizar una comparación sobre una columna del dataframe para filtrar las observaciones (filas), dejando solamente las filas que cumplen con la condición.</p>
<p>Por ejemplo, filtrar solamente los casos donde la cantidad de hogares sea mayor a 80:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">80</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 239 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Ampliació… Valpa… Marga Ma… Villa… 05    058    5804     146     15.1  1.06e5
 2 Violeta P… Valpa… Valparaí… Valpa… 05    051    5101     123     10.7  7.50e4
 3 Mesana Al… Valpa… Valparaí… Valpa… 05    051    5101     128     14.5  1.02e5
 4 Pampa Ilu… Valpa… Valparaí… Valpa… 05    051    5101     195      7.04 4.93e4
 5 Parcela 11 Valpa… Valparaí… Viña … 05    051    5109     520     44.0  3.08e5
 6 Parcela 15 Valpa… Valparaí… Viña … 05    051    5109     257     15.4  1.08e5
 7 Campanill… Valpa… Valparaí… Valpa… 05    051    5101      98      6.19 4.34e4
 8 La Isla    Valpa… Valparaí… Valpa… 05    051    5101     116      4.51 3.16e4
 9 Nueva Aur… Valpa… Valparaí… Viña … 05    051    5109      91      7.47 5.24e4
10 Valle El … Valpa… Valparaí… Viña … 05    051    5109     107      4.04 2.84e4
# ℹ 229 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span> <span style="color:#908caa">==</span> <span style="color:#f6c177">&#34;Ñuble&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 24 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Los Corre… Ñuble  Diguillín Chill… 16    161   16101      13     0.250 1.61e3
 2 Línea Fér… Ñuble  Diguillín Chill… 16    161   16101      35     3.21  2.07e4
 3 Litral Co… Ñuble  Diguillín Chill… 16    161   16101      26     5.33  3.43e4
 4 Los Monte… Ñuble  Diguillín Chill… 16    161   16101      47     5.57  3.59e4
 5 Orilla It… Ñuble  Itata     Porte… 16    162   16205      11     1.41  9.07e3
 6 Pablo Ner… Ñuble  Itata     Quiri… 16    162   16201      39    22.7   1.47e5
 7 Esmeralda… Ñuble  Punilla   San N… 16    163   16305      13     0.232 1.50e3
 8 Santa Lau… Ñuble  Punilla   San N… 16    163   16305      22     8.28  5.34e4
 9 El Esfuer… Ñuble  Diguillín Bulnes 16    161   16102      11     0.632 4.05e3
10 El Refugio Ñuble  Diguillín Bulnes 16    161   16102      16     1.11  7.10e3
# ℹ 14 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>Es posible realizar dos o más filtros de forma consecutiva:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">90</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>         <span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">30</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 18 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Parcela 11 Valpa… Valparaí… Viña … 05    051    5109     520      44.0 3.08e5
 2 Manuel Bu… Valpa… Valparaí… Viña … 05    051    5109    1647      90.2 6.33e5
 3 Reñaca Al… Valpa… Valparaí… Viña … 05    051    5109     663      39.1 2.75e5
 4 Felipe Ca… Valpa… Valparaí… Viña … 05    051    5109     669      37.0 2.59e5
 5 Aguas Sal… Valpa… San Anto… San A… 05    056    5601     688      45.1 3.12e5
 6 Alto Mira… Valpa… San Anto… San A… 05    056    5601     560      47.7 3.30e5
 7 Centinela… Valpa… San Anto… San A… 05    056    5601     833     111.  7.69e5
 8 Rol 9034-1 Valpa… San Anto… San A… 05    056    5601     227      32.1 2.22e5
 9 Vista Her… Valpa… San Anto… Carta… 05    056    5603     789      64.6 4.48e5
10 El Colora… Valpa… Marga Ma… Limac… 05    058    5802     235      59.1 4.15e5
11 Mirando l… Tarap… Iquique   Alto … 01    011    1107     164     114.  9.96e5
12 Alto Molle Tarap… Iquique   Alto … 01    011    1107    3390     130.  1.14e6
13 El Castaño Biobío Arauco    Curan… 08    082    8205      92      56.2 3.55e5
14 Ribera De… Metro… Talagante Talag… 13    136   13601     115      37.8 2.61e5
15 Jerusalén  Metro… Chacabuco Lampa  13    133   13302     565      32.1 2.24e5
16 Las Minas… Biobío Arauco    Curan… 08    082    8205     100      88.3 5.58e5
17 Villa El … Biobío Arauco    Curan… 08    082    8205     135     129.  8.16e5
18 Ex Inia    Coqui… Choapa    Los V… 04    042    4203     315      36.6 2.63e5
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>También es posible usar otros operadores dentro de las comparaciones, Tales como el operador <em>o</em> <code>|</code>, que en este caso nos va a permitir filtrar las observaciones que cumplan con una o con otra condición:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">300</span> <span style="color:#908caa">|</span> <span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">100</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 33 × 12
   nombre     region provincia comuna cut_r cut_p   cut hogares hectareas   area
   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
 1 Parcela 11 Valpa… Valparaí… Viña … 05    051    5109     520      44.0 3.08e5
 2 Manuel Bu… Valpa… Valparaí… Viña … 05    051    5109    1647      90.2 6.33e5
 3 Reñaca Al… Valpa… Valparaí… Viña … 05    051    5109     663      39.1 2.75e5
 4 Felipe Ca… Valpa… Valparaí… Viña … 05    051    5109     669      37.0 2.59e5
 5 Yevide     Valpa… San Feli… San F… 05    057    5701     306      13.4 9.45e4
 6 Aguas Sal… Valpa… San Anto… San A… 05    056    5601     688      45.1 3.12e5
 7 Alto Mira… Valpa… San Anto… San A… 05    056    5601     560      47.7 3.30e5
 8 Centinela… Valpa… San Anto… San A… 05    056    5601     833     111.  7.69e5
 9 Fuerza Gu… Valpa… San Anto… Carta… 05    056    5603     342      16.5 1.14e5
10 Vista Her… Valpa… San Anto… Carta… 05    056    5603     789      64.6 4.48e5
# ℹ 23 more rows
# ℹ 2 more variables: observaciones &lt;chr&gt;, año &lt;chr&gt;
</code></pre>
<p>El filtro anterior deja las filas donde los hogares sean mayores a 300, o bien, las hectáreas sean mayores a 100, pudiendo darse el caso de que hayan filas con hogares mayores 300 pero hectáreas menores de 100, o con menos de 300 hogares pero con más de 100 hectáreas.</p>
<p>Aplicando lo aprendido hasta el momento, podemos combinar un filtro con un conteo y un orden, así obtenemos un conteo de campamentos por comuna bajo un primer criterio de filtro, ordenados de mayor a menor:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">10</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">comuna</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">arrange</span><span style="color:#908caa">(</span><span style="color:#ea9a97">desc</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 177 × 2
   comuna            n
   &lt;chr&gt;         &lt;int&gt;
 1 Viña del Mar    101
 2 Valparaíso       89
 3 Antofagasta      80
 4 Copiapó          70
 5 Alto Hospicio    42
 6 Temuco           35
 7 Lota             30
 8 Talcahuano       26
 9 San Antonio      22
10 Lampa            21
# ℹ 167 more rows
</code></pre>




<h2 id="crear-variables">Crear variables
  <a href="#crear-variables"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hasta ahora, hemos explorado solamente con los datos que vienen directamente desde el archivo que cargamos. A continuación, crearemos nuevas variables a partir de los datos existentes, para potenciar nuestro análisis.</p>
<p>La función <code>mutate()</code> crea nuevas variables. Lo primero que se indica dentro de <code>mutate()</code> es el nombre de la nueva variable que vamos a crear, después de un signo igual (<code>=</code>), y después la operación que creará esta nueva variable.</p>
<p>En este primer ejemplo, crearemos la variable <code>prueba</code>, que contendrá un texto en todas las filas.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#f6c177">1</span><span style="color:#908caa">:</span><span style="color:#f6c177">4</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">prueba</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;hola&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 6
   nombre                  region     provincia   comuna        hogares prueba
   &lt;chr&gt;                   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt; 
 1 Bellavista              Valparaíso Valparaíso  Valparaíso         29 hola  
 2 Buena Vista             Valparaíso Valparaíso  Valparaíso         32 hola  
 3 Los Fleteros            Valparaíso Valparaíso  Valparaíso         56 hola  
 4 Pueblo Hundido          Valparaíso Valparaíso  Valparaíso         65 hola  
 5 Villa Italia Turín      Valparaíso Valparaíso  Valparaíso         33 hola  
 6 Nueva Esperanza         Valparaíso Valparaíso  Valparaíso         17 hola  
 7 Francisco Vergara       Valparaíso Valparaíso  Valparaíso         24 hola  
 8 Manuel Rodríguez        Valparaíso Valparaíso  Valparaíso         21 hola  
 9 Sofia 35                Valparaíso Valparaíso  Valparaíso         69 hola  
10 Las Viñas De Irene Frei Valparaíso Marga Marga Villa Alemana      32 hola  
# ℹ 1,422 more rows
</code></pre>
<p>Usamos la función <code>paste()</code> para crear una nueva variable que contenga un texto, al cual le agregamos la cifra de otra variable. La operación se realizará para cada una de las filas de nuestra tabla, utilizando las cifras que corresponda a la fila en cuestión:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">texto</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">paste</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;Numero de hogares:&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  hogares texto                
   &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;                
 1 Bellavista                   29 Numero de hogares: 29
 2 Buena Vista                  32 Numero de hogares: 32
 3 Los Fleteros                 56 Numero de hogares: 56
 4 Pueblo Hundido               65 Numero de hogares: 65
 5 Villa Italia Turín           33 Numero de hogares: 33
 6 Nueva Esperanza              17 Numero de hogares: 17
 7 Francisco Vergara            24 Numero de hogares: 24
 8 Manuel Rodríguez             21 Numero de hogares: 21
 9 Sofia 35                     69 Numero de hogares: 69
10 Las Viñas De Irene Frei      32 Numero de hogares: 32
# ℹ 1,422 more rows
</code></pre>
<p>Es posible usar cualquier función que opere sobre una variable del tipo que corresponda. Por ejemplo, podemos redondear los valores de una variable numérica, y si a esta nueva variable creada le asignamos al mismo nombre de la variable original, la variable original será reemplazada por la versión nueva, con sus datos redondeados.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">where</span><span style="color:#908caa">(</span><span style="color:#ea9a97">is.numeric</span><span style="color:#908caa">),</span> <span style="color:#908caa">-</span><span style="color:#ea9a97">cut</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">round</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hectareas</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">digits</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">1</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ea9a97">area</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">round</span><span style="color:#908caa">(</span><span style="color:#ea9a97">area</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">digits</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 4
   nombre                  hogares hectareas  area
   &lt;chr&gt;                     &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
 1 Bellavista                   29       1.5 10617
 2 Buena Vista                  32       1.7 11707
 3 Los Fleteros                 56       2.5 17465
 4 Pueblo Hundido               65       4.6 32261
 5 Villa Italia Turín           33       0.9  6081
 6 Nueva Esperanza              17       0.4  2802
 7 Francisco Vergara            24       2.8 19955
 8 Manuel Rodríguez             21       0.4  3103
 9 Sofia 35                     69       2.7 18819
10 Las Viñas De Irene Frei      32       1.2  8704
# ℹ 1,422 more rows
</code></pre>
<p>También podemos crear una nueva variable a partir de un cálculo matemático:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">where</span><span style="color:#908caa">(</span><span style="color:#ea9a97">is.numeric</span><span style="color:#908caa">),</span> <span style="color:#908caa">-</span><span style="color:#ea9a97">cut</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">hectareas</span><span style="color:#908caa">/</span><span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 5
   nombre                  hogares hectareas   area densidad
   &lt;chr&gt;                     &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
 1 Bellavista                   29     1.51  10617.   0.0522
 2 Buena Vista                  32     1.67  11707.   0.0522
 3 Los Fleteros                 56     2.49  17465.   0.0445
 4 Pueblo Hundido               65     4.60  32261.   0.0708
 5 Villa Italia Turín           33     0.867  6081.   0.0263
 6 Nueva Esperanza              17     0.399  2802.   0.0235
 7 Francisco Vergara            24     2.85  19955.   0.119 
 8 Manuel Rodríguez             21     0.443  3103.   0.0211
 9 Sofia 35                     69     2.68  18819.   0.0389
10 Las Viñas De Irene Frei      32     1.24   8704.   0.0388
# ℹ 1,422 more rows
</code></pre>
<p>Si creamos una nueva variable en base a una comparación (en este caso, que las hectáreas sean mayores a 2), entonces la nueva variable será de tipo lógico, indicando las observaciones que cumplen con la comparación con <code>TRUE</code>, y las que no con <code>FALSE</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hectareas</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">prioridad</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">2</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  hectareas prioridad
   &lt;chr&gt;                       &lt;dbl&gt; &lt;lgl&gt;    
 1 Bellavista                  1.51  FALSE    
 2 Buena Vista                 1.67  FALSE    
 3 Los Fleteros                2.49  TRUE     
 4 Pueblo Hundido              4.60  TRUE     
 5 Villa Italia Turín          0.867 FALSE    
 6 Nueva Esperanza             0.399 FALSE    
 7 Francisco Vergara           2.85  TRUE     
 8 Manuel Rodríguez            0.443 FALSE    
 9 Sofia 35                    2.68  TRUE     
10 Las Viñas De Irene Frei     1.24  FALSE    
# ℹ 1,422 more rows
</code></pre>
<p>Si lo pensamos, ésta es la misma forma mediante la cual funciona la función <code>filter()</code>: se establece una comparación, se evalúa si cada una de las filas cumple con la comparación, y finalmente se eliminan las que no cumplen (<code>FALSE</code>).</p>




<h3 id="variables-dicotómicas-con-if_else">Variables dicotómicas con <code>if_else()</code>
  <a href="#variables-dicot%c3%b3micas-con-if_else"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Siguiendo la lógica del ejemplo anterior, podemos usar una función que nos ayude a crear variables en base a si las filas cumplen o no con una o varias condiciones que definamos. A esta operación se llama <em>if else,</em> que en español sería <em>si se cumple, entonces esto, y si no, esto otro.</em></p>
<p>Entonces, podemos usar <code>if_else()</code> para crear nuevas variables en base a una comparación, pero en vez de retornar verdadero o falso, puede retornar los valores que nosotros le pidamos.</p>
<p><em>Ejemplo:</em></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">plata</span> <span style="color:#908caa">&lt;-</span> <span style="color:#f6c177">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">plata</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">300000</span>
</span></span></code></pre></div><pre><code>[1] FALSE
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># una comparación normal retorna TRUE o FALSE</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># pero en el ifelse, le especificamos primero la comparación,</span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># luego lo que queremos que retorne si la comparación es TRUE,</span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># y finalmente lo que queremos que retorne si es false</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">if_else</span><span style="color:#908caa">(</span><span style="color:#ea9a97">plata</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">300000</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">true</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;poca&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">false</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;mucha&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code>[1] &quot;mucha&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#6e6a86"># también se puede escribir obviando el &#34;yes&#34; y &#34;no&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">if_else</span><span style="color:#908caa">(</span><span style="color:#ea9a97">plata</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">300000</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;poca&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;mucha&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code>[1] &quot;mucha&quot;
</code></pre>
<p>Siguiendo el ejemplo, podemos usar la función dentro de mutate para crear nuestra nueva variable dicotómica:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tipo</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">if_else</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">40</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                        <span style="color:#ea9a97">true</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;grande&#34;</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                        <span style="color:#ea9a97">false</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;chico&#34;</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  hogares tipo  
   &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt; 
 1 Bellavista                   29 chico 
 2 Buena Vista                  32 chico 
 3 Los Fleteros                 56 grande
 4 Pueblo Hundido               65 grande
 5 Villa Italia Turín           33 chico 
 6 Nueva Esperanza              17 chico 
 7 Francisco Vergara            24 chico 
 8 Manuel Rodríguez             21 chico 
 9 Sofia 35                     69 grande
10 Las Viñas De Irene Frei      32 chico 
# ℹ 1,422 more rows
</code></pre>
<p><em>Otro ejemplo:</em></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">region</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hectareas</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">prioridad</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">if_else</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">2</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;alta&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;normal&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">prioridad</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 31 × 3
   region                                    prioridad     n
   &lt;chr&gt;                                     &lt;chr&gt;     &lt;int&gt;
 1 Antofagasta                               alta         45
 2 Antofagasta                               normal       71
 3 Arica y Parinacota                        alta          8
 4 Arica y Parinacota                        normal        6
 5 Atacama                                   alta         45
 6 Atacama                                   normal       76
 7 Aysén del General Carlos Ibáñez del Campo alta          3
 8 Aysén del General Carlos Ibáñez del Campo normal        7
 9 Biobío                                    alta        128
10 Biobío                                    normal       97
# ℹ 21 more rows
</code></pre>
<p>Para los siguientes ejemplos, crearemos un nuevo dataframe en base al anterior, pero que contenga nuevas variables creadas mediante operaciones matemáticas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">datos</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad_ha</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">hectareas</span> <span style="color:#908caa">/</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ea9a97">area_km</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">area</span><span style="color:#908caa">/</span><span style="color:#f6c177">1000</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>         <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">area_km</span> <span style="color:#908caa">/</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span>
</span></span></code></pre></div>



<h3 id="variables-más-complejas-con-case_when">Variables más complejas con <code>case_when()</code>
  <a href="#variables-m%c3%a1s-complejas-con-case_when"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>La función <code>case_when()</code> es equivalente a usar varios <code>if_else()</code> seguidos, y por lo tanto nos permite crear variables más complejas, que tengan más de dos categorías. Se utiliza poniendo todas las evaluaciones junto al valor que queremos que adopten si es que estas comparaciones son <code>TRUE</code>.</p>
<p>Como prueba, vamos a incluir una sola comparación, para ver que le otorga el valor solo a las observaciones correspondientes, y las demás las deja vacías:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">densidad_km</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">categoria</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;baja&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  densidad_km categoria
   &lt;chr&gt;                         &lt;dbl&gt; &lt;chr&gt;    
 1 Bellavista                    0.366 &lt;NA&gt;     
 2 Buena Vista                   0.366 &lt;NA&gt;     
 3 Los Fleteros                  0.312 &lt;NA&gt;     
 4 Pueblo Hundido                0.496 &lt;NA&gt;     
 5 Villa Italia Turín            0.184 baja     
 6 Nueva Esperanza               0.165 baja     
 7 Francisco Vergara             0.831 &lt;NA&gt;     
 8 Manuel Rodríguez              0.148 baja     
 9 Sofia 35                      0.273 baja     
10 Las Viñas De Irene Frei       0.272 baja     
# ℹ 1,422 more rows
</code></pre>
<p>El orden en que ponemos las comparaciones será importante, porque se ejecutan en el orden que las escribas, así que una vez que una fila adquiere un valor, la fila deja de ser evaluada en las siguientes comparaciones.</p>
<p>El siguiente ejemplo usa tres comparaciones para abarcar todo el rango de números de la variable <code>hogares</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">hogares</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tamaño</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">60</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;grande&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">30</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;mediano&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&lt;=</span> <span style="color:#f6c177">30</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;chico&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  hogares tamaño 
   &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;  
 1 Bellavista                   29 chico  
 2 Buena Vista                  32 mediano
 3 Los Fleteros                 56 mediano
 4 Pueblo Hundido               65 grande 
 5 Villa Italia Turín           33 mediano
 6 Nueva Esperanza              17 chico  
 7 Francisco Vergara            24 chico  
 8 Manuel Rodríguez             21 chico  
 9 Sofia 35                     69 grande 
10 Las Viñas De Irene Frei      32 mediano
# ℹ 1,422 more rows
</code></pre>
<p><em>Otro ejemplo:</em></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">densidad_km</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">categoria</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;baja&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.6</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;media&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.9</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;alta&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">0.9</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;muy alta&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 3
   nombre                  densidad_km categoria
   &lt;chr&gt;                         &lt;dbl&gt; &lt;chr&gt;    
 1 Bellavista                    0.366 media    
 2 Buena Vista                   0.366 media    
 3 Los Fleteros                  0.312 media    
 4 Pueblo Hundido                0.496 media    
 5 Villa Italia Turín            0.184 baja     
 6 Nueva Esperanza               0.165 baja     
 7 Francisco Vergara             0.831 alta     
 8 Manuel Rodríguez              0.148 baja     
 9 Sofia 35                      0.273 baja     
10 Las Viñas De Irene Frei       0.272 baja     
# ℹ 1,422 more rows
</code></pre>
<p>En el ejemplo anterior, usamos comparaciones que proponen un valor numérico, y coinciden con los valores inferiores al valor que pusimos. Entonces, el orden de asignación de los valores para la nueva variable va de menor a mayor: de 0.3 para abajo, de 0.6 para abajo, de 0.9 para abajo. Lo importante es entender que, una vez que una observación adquiere su etiqueta, las demás comparaciones no la van a sobreescribir. Por ejemplo, si tenemos el valor 0.2, va a ser etiquetado por la comparación <em>&ldquo;valores menores a 0.3&rdquo;,</em> porque es menor a 0.3. Pero cuando se aplique la siguiente comparación, que es <em>&ldquo;valores menores a 0.6&rdquo;,</em> a pesar de que 0.2 también es menor a 0.6, no va a recibir una nueva etiqueta, porque ya obtuvo una en la comparación anterior (menores a 0.3).</p>
<p>Las comparaciones también pueden combinarse para volverse más específicas. En el siguiente ejemplo definiremos no solamente si son menores a un valor, sino que definimos un rango de valores:</p>
<ul>
<li>mayores a 0 y menores a 3</li>
<li>mayores o iguales a 0.3 y menores a 0.6</li>
<li>etc</li>
</ul>
<p>Podemos especificar el argumento <code>.default</code> para que le otorgue a un valor a &ldquo;todos los demás&rdquo;; es decir, a los valores que no coincidieron con ninguna de las condiciones dadas.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">categoria</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">0</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;baja&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.6</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;media&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">0.6</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.9</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;alta&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">.default</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;desconocido&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">densidad_km</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">categoria</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">categoria</span> <span style="color:#908caa">!=</span> <span style="color:#f6c177">&#34;desconocido&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">print</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">15</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,066 × 3
   nombre                              densidad_km categoria
   &lt;chr&gt;                                     &lt;dbl&gt; &lt;chr&gt;    
 1 Bellavista                                0.366 media    
 2 Buena Vista                               0.366 media    
 3 Los Fleteros                              0.312 media    
 4 Pueblo Hundido                            0.496 media    
 5 Villa Italia Turín                        0.184 baja     
 6 Nueva Esperanza                           0.165 baja     
 7 Francisco Vergara                         0.831 alta     
 8 Manuel Rodríguez                          0.148 baja     
 9 Sofia 35                                  0.273 baja     
10 Las Viñas De Irene Frei                   0.272 baja     
11 Lomas De Bellavista                       0.662 alta     
12 Manzana 33                                0.414 media    
13 Ampliación Prat-Lomas De Peñablanca       0.723 alta     
14 Los Artesanos                             0.401 media    
15 La Unión - Elías Lafferte                 0.465 media    
# ℹ 1,051 more rows
</code></pre>
<p>Finalmente, <code>case_when()</code> nos permite crear cualquier tipo de comparación arbitraria, usando cualquier columna de nuestro dataframe; por ejemplo, en este caso vamos a etiquetar una variable sobre densidad, pero podemos condicionar cierta densidad con una región. En este ejemplo (solo con fines ilustrativos), las observaciones que son de Valparaíso <em>no</em> pueden ser categorizadas como altas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">categoria</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">0</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;baja&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">0.3</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.6</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;media&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                               <span style="color:#ea9a97">region</span> <span style="color:#908caa">!=</span> <span style="color:#f6c177">&#34;Valparaíso&#34;</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">0.6</span> <span style="color:#908caa">&amp;</span> <span style="color:#ea9a97">densidad_km</span> <span style="color:#908caa">&lt;</span> <span style="color:#f6c177">0.9</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;alta&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nombre</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">region</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">densidad_km</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">categoria</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,432 × 4
   nombre                  region     densidad_km categoria
   &lt;chr&gt;                   &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;    
 1 Bellavista              Valparaíso       0.366 media    
 2 Buena Vista             Valparaíso       0.366 media    
 3 Los Fleteros            Valparaíso       0.312 media    
 4 Pueblo Hundido          Valparaíso       0.496 media    
 5 Villa Italia Turín      Valparaíso       0.184 baja     
 6 Nueva Esperanza         Valparaíso       0.165 baja     
 7 Francisco Vergara       Valparaíso       0.831 &lt;NA&gt;     
 8 Manuel Rodríguez        Valparaíso       0.148 baja     
 9 Sofia 35                Valparaíso       0.273 baja     
10 Las Viñas De Irene Frei Valparaíso       0.272 baja     
# ℹ 1,422 more rows
</code></pre>




<h2 id="pivotar">Pivotar
  <a href="#pivotar"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Creamos una pequeña tabla de conteo de casos a partir de dos variables de agrupación: la región y el tamaño.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">tabla</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">datos_2</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tamaño</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">case_when</span><span style="color:#908caa">(</span><span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">60</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;grande&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#ea9a97">hogares</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">30</span> <span style="color:#908caa">~</span> <span style="color:#f6c177">&#34;mediano&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#ea9a97">.default</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;chico&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">tamaño</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">tabla</span>
</span></span></code></pre></div><pre><code># A tibble: 47 × 3
   region                                    tamaño      n
   &lt;chr&gt;                                     &lt;chr&gt;   &lt;int&gt;
 1 Antofagasta                               chico      42
 2 Antofagasta                               grande     52
 3 Antofagasta                               mediano    22
 4 Arica y Parinacota                        chico       4
 5 Arica y Parinacota                        grande      6
 6 Arica y Parinacota                        mediano     4
 7 Atacama                                   chico      62
 8 Atacama                                   grande     29
 9 Atacama                                   mediano    30
10 Aysén del General Carlos Ibáñez del Campo chico       7
# ℹ 37 more rows
</code></pre>
<p>En esta tabla, cada fila corresponde a una observación distinta; es decir, cada fila adquiere exactamente sólo un valor posible de cada una de las variables. Al mismo tiempo, cada columna solamente corresponde a una variable específica, y cada celda de la tabla solamente aloja un valor. Por ejemplo, en la primera fila, la <em>región</em> es &ldquo;Antofagasta&rdquo;, el <em>tamaño</em> es &ldquo;chico&rdquo;, y <code>n</code> es <em>42.</em> A esto se le denomina <em>formato largo</em> o <em>Tidy,</em> y 
<a href="https://tidyr.tidyverse.org/articles/tidy-data.html#tidy-data" target="_blank" rel="noopener">es un principio básico de mantener para el análisis de datos.</a></p>
<p>Sin embargo, al momento de compartir o publicar los datos, estas convenciones sobre ordenamiento de los datos dejan de ser prioridad. Usualmente, en las tablas destinadas para revisar o entregar resultados,
las variables numéricas que están agrupadas por otras variables (<em>región</em> y <em>tamaño,</em> en nuestro ejemplo) suelen presentarse con cada una de las categorías de agrupación en una columna distinta. Entonces, Antofagasta ya no usaría tres filas, sino una sola fila, pero habrían tres columnas que correspondían al tamaño, chico mediano y grande, cada una de esas celdas es conteniendo el valor numérico correspondiente. Entonces, terminaríamos con un DataFramed donde cada región corresponda a una fila, y en cada fila habrán tres valores, cada uno correspondiendo a la categoría de la variable tamaño correspondiente.</p>
<p>Para realizar esta 
<a href="https://rstudio.github.io/cheatsheets/html/tidyr.html#reshape-data" target="_blank" rel="noopener">transformación de la estructura de los datos,</a> cargaremos el paquete <code>{tidyr}</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tidyr</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>La operación que necesitamos realizar es pivotar la tabla a un formato ancho. Para esto, definimos que <em>variable</em> nos entregará los nombres de las nuevas columnas (en este ejemplo, el <em>tamaño</em>), y desde qué variable se sacarán los valores que se ubicarán en cada una de las columnas nuevas:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">tabla_ancha</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">tabla</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">pivot_wider</span><span style="color:#908caa">(</span><span style="color:#ea9a97">names_from</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">tamaño</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#ea9a97">values_from</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">n</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#ea9a97">values_fill</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">relocate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">mediano</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">.after</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">chico</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">tabla_ancha</span>
</span></span></code></pre></div><pre><code># A tibble: 16 × 4
   region                                    chico mediano grande
   &lt;chr&gt;                                     &lt;int&gt;   &lt;int&gt;  &lt;int&gt;
 1 Antofagasta                                  42      22     52
 2 Arica y Parinacota                            4       4      6
 3 Atacama                                      62      30     29
 4 Aysén del General Carlos Ibáñez del Campo     7       2      1
 5 Biobío                                      116      61     48
 6 Coquimbo                                     30      12     10
 7 La Araucanía                                 48      19      3
 8 Libertador General Bernardo O'Higgins        49       6      4
 9 Los Lagos                                    35      17     15
10 Los Ríos                                     27       6      7
11 Magallanes y de la Antártica Chilena          0       2      1
12 Maule                                        22       2      1
13 Metropolitana                                89      28     51
14 Tarapacá                                     13      14     37
15 Valparaíso                                  209      79     86
16 Ñuble                                        20       3      1
</code></pre>
<p>De esta forma, obtenemos una tabla más compacta, que nos permite visualizar los datos de una forma más sencilla.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">gt</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">gt</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tabla_ancha</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">gt</span><span style="color:#908caa">::</span><span style="color:#ea9a97">tab_header</span><span style="color:#908caa">(</span><span style="color:#ea9a97">title</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;Campamentos según tamaño&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">cols_label</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;Región&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">tab_style</span><span style="color:#908caa">(</span><span style="color:#ea9a97">locations</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">cells_body</span><span style="color:#908caa">(</span><span style="color:#ea9a97">region</span><span style="color:#908caa">),</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#ea9a97">style</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">cell_text</span><span style="color:#908caa">(</span><span style="color:#ea9a97">style</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;italic&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><div id="zzfffbkhks" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zzfffbkhks table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
<p>#zzfffbkhks thead, #zzfffbkhks tbody, #zzfffbkhks tfoot, #zzfffbkhks tr, #zzfffbkhks td, #zzfffbkhks th {
border-style: none;
}</p>
<p>#zzfffbkhks p {
margin: 0;
padding: 0;
}</p>
<p>#zzfffbkhks .gt_table {
display: table;
border-collapse: collapse;
line-height: normal;
margin-left: auto;
margin-right: auto;
color: #333333;
font-size: 16px;
font-weight: normal;
font-style: normal;
background-color: #FFFFFF;
width: auto;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #A8A8A8;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #A8A8A8;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_caption {
padding-top: 4px;
padding-bottom: 4px;
}</p>
<p>#zzfffbkhks .gt_title {
color: #333333;
font-size: 125%;
font-weight: initial;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
border-bottom-color: #FFFFFF;
border-bottom-width: 0;
}</p>
<p>#zzfffbkhks .gt_subtitle {
color: #333333;
font-size: 85%;
font-weight: initial;
padding-top: 3px;
padding-bottom: 5px;
padding-left: 5px;
padding-right: 5px;
border-top-color: #FFFFFF;
border-top-width: 0;
}</p>
<p>#zzfffbkhks .gt_heading {
background-color: #FFFFFF;
text-align: center;
border-bottom-color: #FFFFFF;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_bottom_border {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_col_headings {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_col_heading {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 6px;
padding-left: 5px;
padding-right: 5px;
overflow-x: hidden;
}</p>
<p>#zzfffbkhks .gt_column_spanner_outer {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
padding-top: 0;
padding-bottom: 0;
padding-left: 4px;
padding-right: 4px;
}</p>
<p>#zzfffbkhks .gt_column_spanner_outer:first-child {
padding-left: 0;
}</p>
<p>#zzfffbkhks .gt_column_spanner_outer:last-child {
padding-right: 0;
}</p>
<p>#zzfffbkhks .gt_column_spanner {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 5px;
overflow-x: hidden;
display: inline-block;
width: 100%;
}</p>
<p>#zzfffbkhks .gt_spanner_row {
border-bottom-style: hidden;
}</p>
<p>#zzfffbkhks .gt_group_heading {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
text-align: left;
}</p>
<p>#zzfffbkhks .gt_empty_group_heading {
padding: 0.5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: middle;
}</p>
<p>#zzfffbkhks .gt_from_md &gt; :first-child {
margin-top: 0;
}</p>
<p>#zzfffbkhks .gt_from_md &gt; :last-child {
margin-bottom: 0;
}</p>
<p>#zzfffbkhks .gt_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
margin: 10px;
border-top-style: solid;
border-top-width: 1px;
border-top-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
overflow-x: hidden;
}</p>
<p>#zzfffbkhks .gt_stub {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
}</p>
<p>#zzfffbkhks .gt_stub_row_group {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
vertical-align: top;
}</p>
<p>#zzfffbkhks .gt_row_group_first td {
border-top-width: 2px;
}</p>
<p>#zzfffbkhks .gt_row_group_first th {
border-top-width: 2px;
}</p>
<p>#zzfffbkhks .gt_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}</p>
<p>#zzfffbkhks .gt_first_summary_row {
border-top-style: solid;
border-top-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_first_summary_row.thick {
border-top-width: 2px;
}</p>
<p>#zzfffbkhks .gt_last_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_grand_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}</p>
<p>#zzfffbkhks .gt_first_grand_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-top-style: double;
border-top-width: 6px;
border-top-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_last_grand_summary_row_top {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: double;
border-bottom-width: 6px;
border-bottom-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_striped {
background-color: rgba(128, 128, 128, 0.05);
}</p>
<p>#zzfffbkhks .gt_table_body {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_footnotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_footnote {
margin: 0px;
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}</p>
<p>#zzfffbkhks .gt_sourcenotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}</p>
<p>#zzfffbkhks .gt_sourcenote {
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}</p>
<p>#zzfffbkhks .gt_left {
text-align: left;
}</p>
<p>#zzfffbkhks .gt_center {
text-align: center;
}</p>
<p>#zzfffbkhks .gt_right {
text-align: right;
font-variant-numeric: tabular-nums;
}</p>
<p>#zzfffbkhks .gt_font_normal {
font-weight: normal;
}</p>
<p>#zzfffbkhks .gt_font_bold {
font-weight: bold;
}</p>
<p>#zzfffbkhks .gt_font_italic {
font-style: italic;
}</p>
<p>#zzfffbkhks .gt_super {
font-size: 65%;
}</p>
<p>#zzfffbkhks .gt_footnote_marks {
font-size: 75%;
vertical-align: 0.4em;
position: initial;
}</p>
<p>#zzfffbkhks .gt_asterisk {
font-size: 100%;
vertical-align: 0;
}</p>
<p>#zzfffbkhks .gt_indent_1 {
text-indent: 5px;
}</p>
<p>#zzfffbkhks .gt_indent_2 {
text-indent: 10px;
}</p>
<p>#zzfffbkhks .gt_indent_3 {
text-indent: 15px;
}</p>
<p>#zzfffbkhks .gt_indent_4 {
text-indent: 20px;
}</p>
<p>#zzfffbkhks .gt_indent_5 {
text-indent: 25px;
}</p>
<p>#zzfffbkhks .katex-display {
display: inline-flex !important;
margin-bottom: 0.75em !important;
}</p>
<p>#zzfffbkhks div.Reactable &gt; div.rt-table &gt; div.rt-thead &gt; div.rt-tr.rt-tr-group-header &gt; div.rt-th-group:after {
height: 0px !important;
}
</style></p>
<table>
  <thead>
      <tr>
          <th>Campamentos según tamaño</th>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Región</td>
          <td>chico</td>
          <td>mediano</td>
          <td>grande</td>
      </tr>
      <tr>
          <td>Antofagasta</td>
          <td>42</td>
          <td>22</td>
          <td>52</td>
      </tr>
      <tr>
          <td>Arica y Parinacota</td>
          <td>4</td>
          <td>4</td>
          <td>6</td>
      </tr>
      <tr>
          <td>Atacama</td>
          <td>62</td>
          <td>30</td>
          <td>29</td>
      </tr>
      <tr>
          <td>Aysén del General Carlos Ibáñez del Campo</td>
          <td>7</td>
          <td>2</td>
          <td>1</td>
      </tr>
      <tr>
          <td>Biobío</td>
          <td>116</td>
          <td>61</td>
          <td>48</td>
      </tr>
      <tr>
          <td>Coquimbo</td>
          <td>30</td>
          <td>12</td>
          <td>10</td>
      </tr>
      <tr>
          <td>La Araucanía</td>
          <td>48</td>
          <td>19</td>
          <td>3</td>
      </tr>
      <tr>
          <td>Libertador General Bernardo O'Higgins</td>
          <td>49</td>
          <td>6</td>
          <td>4</td>
      </tr>
      <tr>
          <td>Los Lagos</td>
          <td>35</td>
          <td>17</td>
          <td>15</td>
      </tr>
      <tr>
          <td>Los Ríos</td>
          <td>27</td>
          <td>6</td>
          <td>7</td>
      </tr>
      <tr>
          <td>Magallanes y de la Antártica Chilena</td>
          <td>0</td>
          <td>2</td>
          <td>1</td>
      </tr>
      <tr>
          <td>Maule</td>
          <td>22</td>
          <td>2</td>
          <td>1</td>
      </tr>
      <tr>
          <td>Metropolitana</td>
          <td>89</td>
          <td>28</td>
          <td>51</td>
      </tr>
      <tr>
          <td>Tarapacá</td>
          <td>13</td>
          <td>14</td>
          <td>37</td>
      </tr>
      <tr>
          <td>Valparaíso</td>
          <td>209</td>
          <td>79</td>
          <td>86</td>
      </tr>
      <tr>
          <td>Ñuble</td>
          <td>20</td>
          <td>3</td>
          <td>1</td>
      </tr>
  </tbody>
</table>
</div>




<h2 id="guardar-en-excel">Guardar en Excel
  <a href="#guardar-en-excel"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Guardar una tabla o dataframe de R en formato Excel es tan sencillo como utilizar la función <code>write_xlsx()</code> y entregarle el objeto y el nombre del archivo que queremos crear.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">writexl</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">write_xlsx</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tabla_ancha</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;tabla_campamentos.xlsx&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Con esto concluye este tutorial inicial para manipular datos con el paquete <code>{dplyr}</code>. En siguientes tutoriales iremos usando funciones más complejas y avanzadas! 🫣</p>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="http://localhost:4321/blog/r_introduccion/tutorial_dplyr_censo/">&larr; Tutorial: introducción a {dplyr} con datos de población</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="http://localhost:4321/blog/r_introduccion/tutorial_shiny_1/">Tutorial: crea una aplicación Shiny básica &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
    
      <script src="https://utteranc.es/client.js"
              repo="bastianolea/blog-r"
              issue-term="pathname"
              theme="github-light"
              label="comments"
              crossorigin="anonymous"
              async
              type="text/javascript">
      </script>
    
  
</div>

    
  </section>
</main>

<aside class="page-sidebar" role="complementary">
                         
 


                       
 











  <img src="/blog/r_introduccion/sidebar-featured.png" class="db ma0">


<div class="blog-info ph4 pt4 pb4 pb0-l">
  

  <h1 class="f3">Introducción a R</h1>
  <p class="f6 lh-copy measure"><p>Contenido para principiantes en R. Serie de posts y tutoriales del nivel más básico, para quienes quieran adentrarse por primera vez en el análisis de datos con R.</p>
<p>Si tienes alguna duda con R, no entiendes alguno de los contenidos, o necesitas apoyo personalizado, puedes 
<a href="/contact/">contactarme.</a></p>
</p>
  <p class="f7 measure lh-copy i mh0-l">Escrito por Bastián Olea Herrera</p>


  

</div>


                         
 



<div class="flex items-start sticky ph4 pb4">
  <div class="w-two-thirds w-50-l ph0">
    
    <h2 class="mt3 mb3 f5 fw7 ttu tracked"><a class="no-underline dim" href="/blog/r_introduccion/">Publicaciones de la serie</a></h2>
    <nav id="SeriesTableOfContents">
        <ul>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/instalar_r/"><a href="http://localhost:4321/blog/r_introduccion/instalar_r/">Primer paso: instalar R</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/por_que_r/"><a href="http://localhost:4321/blog/r_introduccion/por_que_r/">¿Por qué usar R?</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_dplyr_censo/"><a href="http://localhost:4321/blog/r_introduccion/tutorial_dplyr_censo/">Tutorial: introducción a {dplyr} con datos de población</a></li>
        
          
          <li class="active" hugo-nav="/blog/r_introduccion/tutorial_dplyr_campamentos/"><a href="http://localhost:4321/blog/r_introduccion/tutorial_dplyr_campamentos/">Tutorial: introducción a {dplyr} usando datos de campamentos</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_shiny_1/"><a href="http://localhost:4321/blog/r_introduccion/tutorial_shiny_1/">Tutorial: crea una aplicación Shiny básica</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/tutorial_shinyapps/"><a href="http://localhost:4321/blog/r_introduccion/tutorial_shinyapps/">Tutorial: publicar una app Shiny en shinyapps.io</a></li>
        
          
          <li class="" hugo-nav="/blog/r_introduccion/recursos_r/"><a href="http://localhost:4321/blog/r_introduccion/recursos_r/">Recursos sobre R</a></li>
        
        </ul>
      </nav>
  </div>
  <details open id="PageTableOfContents">
    <summary><h2 class="mv0 f5 fw7 ttu tracked dib">Índice</h2></summary>
    <div class="pl2 pr0 mh0">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#revisar">Revisar</a></li>
    <li><a href="#ordenar">Ordenar</a></li>
    <li><a href="#seleccionar">Seleccionar</a></li>
    <li><a href="#conteos">Conteos</a></li>
    <li><a href="#filtros">Filtros</a></li>
    <li><a href="#crear-variables">Crear variables</a></li>
    <li><a href="#pivotar">Pivotar</a></li>
    <li><a href="#guardar-en-excel">Guardar en Excel</a></li>
  </ul>
</nav>
    </div>
  </details>
  
</div>
</aside>

<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2024 Bastián Olea Herrera, Chile
      <span class="middot-divider"></span>
      Hecho con <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Basado en <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span>, de <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastimapache.bsky.social" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.threads.net/@raccunnie" title="threads" target="_blank" rel="me noopener">
      <i class="fab fa-threads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contact/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/about/" title="Bastián Olea: Sobre mi">Sobre mi</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Bastián Olea: Contacto">Contacto</a>
      
      <a class="dib pv1 ph2 link" href="/license/" title="Bastián Olea: Licencia">Licencia</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>

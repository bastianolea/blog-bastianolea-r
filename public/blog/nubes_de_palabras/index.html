<!DOCTYPE html>
<html lang="es-ES" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.136.5">
<title>Visualizando texto como nubes de palabras en R | Blog</title>


<meta property="twitter:site" content="@bastimapache">
<meta property="twitter:creator" content="@bastimapache">







  
    
  
<meta name="description" content="Blog y portafolio de proyectos de Bastián Olea, sociólogx y analista de datos">


<meta property="og:site_name" content="Blog">
<meta property="og:title" content="Visualizando texto como nubes de palabras en R | Blog">
<meta property="og:description" content="Blog y portafolio de proyectos de Bastián Olea, sociólogx y analista de datos" />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://bastianoleah.netlify.app/blog/nubes_de_palabras/" />
<meta property="og:locale" content="es-ES">




    
        <meta property="og:image" content="https://bastianoleah.netlify.app/blog/nubes_de_palabras/featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://bastianoleah.netlify.app/blog/nubes_de_palabras/featured.png" >
    
    
  
  <meta itemprop="name" content="Visualizando texto como nubes de palabras en R">
  <meta itemprop="description" content="Una de las formas más intuitivas de visualizar datos de texto son las nubes de palabras. En las nubes de palabras seleccionamos un subconjunto de las palabras del texto que queremos analizar y las distribuimos en un gráfico, donde las palabras que aparecen más frecuentemente aparecen más grandes, y usualmente al centro. Sirven para ver rápidamente los conceptos clave de un documento o un corpus de documentos.
En este post veremos dos formas de crear nubes de palabras con R: con {wordcloud2} y con {ggplot2}. Para empezar, necesitamos una base de datos que tenga información de texto; por ejemplo, una base donde cada fila contenga una respuesta abierta de una encuesta, una reseña de un producto, un párrafo de un texto, un capítulo de un libro, o un libro completo.">
  <meta itemprop="datePublished" content="2025-07-05T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-07-05T00:00:00+00:00">
  <meta itemprop="wordCount" content="1746">
  <meta itemprop="image" content="https://bastianoleah.netlify.app/blog/nubes_de_palabras/featured.png">
  <meta itemprop="keywords" content="Visualización de datos,Gráficos,Ggplot2,Análisis de texto">
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="false" type="image/x-icon">
  <link rel="icon" href="false" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.9d5c87e81c085758ed752869711b0ed2bf329f49c2cfe70421c6045bd3ec0aee.css" integrity="sha256-nVyH6BwIV1jtdShpcRsO0r8yn0nCz&#43;cEIcYEW9PsCu4=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.26a7606c1bee1310cdae7196cfade9ba0a2a95bff0c4f9cc2156609ec0d0326a.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://bastianoleah.netlify.app/" title="Home">
      <img src="/img/logo.png" class="dib db-l h2 w-auto" alt="Blog">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Bastián Olea: Blog de R">Blog R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/shiny_apps/" title="Bastián Olea: Apps">Apps</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="https://bastianolea.github.io/datos_sociales/" title="Bastián Olea: Datos">Datos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/clases/" title="Bastián Olea: Clases">Clases</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/tags/" title="Bastián Olea: Blog">Temas</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/categories/tutoriales/" title="Bastián Olea: Tutoriales">Tutoriales</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/r_introduccion/" title="Bastián Olea: Tutoriales">Intro a R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/r_introduccion/recursos_r/" title="Bastián Olea: Recursos">Recursos R</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="Bastián Olea: Sobre mi">Yo</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/contact/" title="Bastián Olea: Contacto">Contacto</a>
      
      
      
      <div class="dib v-mid", style = "padding: 4px; margin-top: 4px;">
        <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener">
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener">
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contact/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

      </div>
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Visualizando texto como nubes de palabras en R</h1>
        
        
        <p class="f7 db mv0 ttu">5/7/2025</p>
        
        
        
  <dl class="f6 lh-copy">
    <em><dd class="fw5 ml0">Temas:  <a href="https://bastianoleah.netlify.app/tags/visualizaci%C3%B3n-de-datos">visualización de datos</a>,  <a href="https://bastianoleah.netlify.app/tags/gr%C3%A1ficos">gráficos</a>,  <a href="https://bastianoleah.netlify.app/tags/ggplot2">ggplot2</a>,  <a href="https://bastianoleah.netlify.app/tags/an%C3%A1lisis-de-texto">análisis de texto</a>, </dd></em>
  </dl>
 




        
      

      </header>
      <section class="post-body pt5 pb4">
        <p>Una de las formas más intuitivas de visualizar datos de texto son las nubes de palabras. En las nubes de palabras seleccionamos un subconjunto de las palabras del texto que queremos analizar y las distribuimos en un gráfico, donde las palabras que aparecen más frecuentemente aparecen más grandes, y usualmente al centro. Sirven para ver rápidamente los conceptos clave de un documento o un corpus de documentos.</p>
<p>En este post veremos dos formas de crear nubes de palabras con R: con <code>{wordcloud2}</code> y con <code>{ggplot2}</code>. Para empezar, necesitamos una base de datos que tenga información de texto; por ejemplo, una base donde cada fila contenga una respuesta abierta de una encuesta, una reseña de un producto, un párrafo de un texto, un capítulo de un libro, o un libro completo.</p>
<p>Con el siguiente código descargaremos una base de datos con 10.000 documentos de texto, en este caso se trata de noticias de la prensa chilena. Los datos son obtenidos de 
<a href="https://github.com/bastianolea/prensa_chile" target="_blank" rel="noopener">este repositorio de obtención automatizada de textos de noticias de prensa escrita chilena.</a></p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">dplyr</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># dirección web donde se encuentran los datos</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">url_datos</span> <span style="color:#908caa">&lt;-</span> <span style="color:#f6c177">&#34;https://raw.githubusercontent.com/bastianolea/prensa_chile/refs/heads/main/datos/prensa_datos_muestra.csv&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># lectura de los datos ubicados en internet</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">noticias</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">readr</span><span style="color:#908caa">::</span><span style="color:#ea9a97">read_csv2</span><span style="color:#908caa">(</span><span style="color:#ea9a97">url_datos</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">noticias</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">titulo</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">cuerpo</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">fecha</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 10,000 × 3
   titulo                                                      cuerpo fecha     
   &lt;chr&gt;                                                       &lt;chr&gt;  &lt;date&gt;    
 1 &quot;Hombre de 66 años fue asesinado en plena vía pública en M… &quot;El h… 2024-07-21
 2 &quot;Revive el cuarto capítulo de Indecisos: Candidatos a alca… &quot;Este… 2024-09-03
 3 &quot;Menos personas circulando y miedo de los residentes: Así … &quot;Poca… 2024-04-08
 4 &quot;CEO de Walmart Chile sostiene que si la empresa no da “se… &quot;Hace… 2024-12-22
 5 &quot;Pdte. Boric entregó mensaje por la muerte de Piñera y rec… &quot;El p… 2024-02-06
 6 &quot;Encuentran dos cadáveres en un canal de regadío en Pirque&quot; &quot;Pers… 2024-07-13
 7 &quot;Magisterio denuncia \&quot;abandono de la educación pública\&quot; … &quot;Carl… 2024-02-21
 8 &quot;“El día que la democracia triunfó sobre la dictadura”: Mi… &quot;Los … 2024-10-05
 9 &quot;Accidente de tránsito deja un fallecido y tres heridos en… &quot;En h… 2024-12-22
10 &quot;Dos personas resultan baleadas tras intentar evitar asalt… &quot;Aton… 2024-11-02
# ℹ 9,990 more rows
</code></pre>
<p>En este conjunto de datos, los textos completos de los documentos vienen en la columna <code>cuerpo</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">noticias</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">cuerpo</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 10,000 × 1
   cuerpo                                                                       
   &lt;chr&gt;                                                                        
 1 &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue abordada p…
 2 &quot;Este martes 3 de septiembre fue el cuarto capítulo de la nueva temporada de…
 3 &quot;Pocas personas circulan en la toma \&quot;Nuevo Amanecer\&quot; de Cerrillos, luego d…
 4 &quot;Hace unos días, Walmart Chile anunció un plan de inversión en Chile de US$1…
 5 &quot;El presidente Gabriel Boric lamentó el fallecimiento del expresidente Sebas…
 6 &quot;Personal del Grupo de Operaciones Policiales Especiales (GOPE) de Carabiner…
 7 &quot;Carlos Rodríguez, presidente regional de los Profesores, aseguró que el Min…
 8 &quot;Los ministros de Educación, Nicolás Cataldo, y del Interior, Carolina Tohá,…
 9 &quot;En horas de la mañana de este domingo, ocurrió un lamentable accidente en l…
10 &quot;Aton / Imagen Referencial Dos personas resultaron heridas a bala en un inte…
# ℹ 9,990 more rows
</code></pre>
<p>Usualmente los datos de texto van a venir de esta forma, con <strong>todo el texto de cada documento dentro de una celda.</strong> Para poder analizar los datos en este formato tenemos que <em>tokenizar</em> los textos: transformar la estructura de los datos para pasar desde filas que contienen documentos, párrafos u oraciones, a <strong>filas que contienen palabras individuales</strong>, una palabra por observación.</p>
<p>Usaremos la función <code>unnest_tokens</code> de 
<a href="https://www.tidytextmining.com/tidytext" target="_blank" rel="noopener"><code>{tidytext}</code></a> para tokenizar y limpiar<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> el texto:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">tidytext</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">palabras</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">noticias</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># tokenizar columna que contiene los documentos</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">unnest_tokens</span><span style="color:#908caa">(</span><span style="color:#ea9a97">input</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">cuerpo</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">drop</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">FALSE</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9a97">output</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                <span style="color:#ea9a97">token</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;words&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#6e6a86"># limpieza mínima de texto</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9a97">to_lower</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9a97">strip_punct</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ea9a97">strip_numeric</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># eliminar stopwords o palabras vacías</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#908caa">!</span><span style="color:#ea9a97">palabra</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">stopwords</span><span style="color:#908caa">::</span><span style="color:#ea9a97">stopwords</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;spanish&#34;</span><span style="color:#908caa">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">palabras</span> <span style="color:#908caa">|&gt;</span> <span style="color:#ea9a97">select</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">cuerpo</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><pre><code># A tibble: 1,817,901 × 2
   palabra   cuerpo                                                             
   &lt;chr&gt;     &lt;chr&gt;                                                              
 1 hecho     &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 2 ocurrió   &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 3 horas     &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 4 madrugada &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 5 víctima   &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 6 abordada  &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 7 grupo     &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 8 sujetos   &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
 9 atacó     &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
10 arma      &quot;El hecho ocurrió en horas de la madrugada, cuando la víctima fue …
# ℹ 1,817,891 more rows
</code></pre>
<p>Luego de tokenización, vemos que la columna que contiene el texto completo de los documentos está acompañada de una nueva variable que contiene <strong>cada palabra por separado.</strong> De esta forma puedes continuar analizando el documento con palabras individuales, pero teniendo como referencia al texto completo donde aparece cada palabra si es que lo necesitas.</p>
<p>A partir de la variable de palabras individuales, vamos a hacer un <strong>conteo de las palabras más frecuentes</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">palabras</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">count</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">sort</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span>
</span></span></code></pre></div><pre><code># A tibble: 74,911 × 2
   palabra      n
   &lt;chr&gt;    &lt;int&gt;
 1 chile     7208
 2 años      5457
 3 según     5071
 4 parte     4952
 5 personas  4921
 6 si        4912
 7 región    4830
 8 ser       4656
 9 país      4628
10 gobierno  4599
# ℹ 74,901 more rows
</code></pre>
<p>Rápidamente podemos ver dos problemas: tenemos demasiadas palabras individuales (más de 80 mil), y tenemos palabras muy cortas, como la palabra <code>si</code>, así que haremos una pequeña limpieza:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">&lt;-</span> <span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># largo mínimo de palabras</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">nchar</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span><span style="color:#908caa">)</span> <span style="color:#908caa">&gt;=</span> <span style="color:#f6c177">3</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># sólo las palabras más frecuentes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">slice_max</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">n</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">2000</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>También podemos realizar una <strong>búsqueda</strong> dentro de las palabras y contar cuántas veces aparece cada una:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;guerra&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;paz&#34;</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code># A tibble: 2 × 2
  palabra     n
  &lt;chr&gt;   &lt;int&gt;
1 guerra    398
2 paz       267
</code></pre>
<hr>




<h2 id="nube-de-palabras-con-wordcloud2">Nube de palabras con <code>{wordcloud2}</code>
  <a href="#nube-de-palabras-con-wordcloud2"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>
<a href="https://github.com/Lchiffon/wordcloud2" target="_blank" rel="noopener"><code>{wordcloud2}</code></a> es un paquete muy sencillo de usar que permite visualizar datos de nubes de palabras con muy poca configuración.</p>
<p>Si no tienes el paquete instalado, puedes instalarlo con el siguiente código:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">devtools</span><span style="color:#908caa">::</span><span style="color:#ea9a97">install_github</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;lchiffon/wordcloud2&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Para crear una nube de palabras con <code>{wordcloud2}</code> solo necesitas que la primera columna del dataframe contenga las palabras, y la segunda contenga el conteo de frecuencia de las palabras:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">wordcloud2</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># sólo palabras que aparezcan n veces</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">1000</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">wordcloud2</span><span style="color:#908caa">(</span><span style="color:#ea9a97">backgroundColor</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#EAD1FA&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#543A74&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><iframe src="/nube_1.html" width="100%" height="500px" style="border:none;"></iframe>
<p>Usamos algunas de las opciones de personalización de <code>wordcloud2()</code> para obtener el resultado que necesitamos. Personalmente no me gusta mucho que las palabras aparezcan tan en ángulo, y prefiero que las palabras sean menos grandes para que se vea una mayor cantidad.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">1000</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">wordcloud2</span><span style="color:#908caa">(</span><span style="color:#ea9a97">backgroundColor</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#EAD1FA&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#543A74&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#6e6a86"># personalización</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">rotateRatio</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.1</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># rotación máxima</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">gridSize</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">8</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># espaciado entre cada palabra</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">size</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.5</span><span style="color:#908caa">,</span> <span style="color:#6e6a86"># tamaño del texto en general</span>
</span></span><span style="display:flex;"><span>             <span style="color:#ea9a97">minSize</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">11</span><span style="color:#908caa">)</span> <span style="color:#6e6a86"># tamaño mínimo de las letras</span>
</span></span></code></pre></div><iframe src="/nube_2.html" width="100%" height="500px" style="border:none;"></iframe>
</iframe>
<hr>




<h2 id="nube-de-palabras-con-ggplot2-y-ggwordcloud">Nube de palabras con <code>{ggplot2}</code> y <code>{ggwordcloud}</code>
  <a href="#nube-de-palabras-con-ggplot2-y-ggwordcloud"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Otra forma de hacer nubes de palabras es agregando una geometría personalizada a <code>{ggplot2}</code>: <code>geom_text_wordcloud()</code> del paquete 
<a href="https://lepennec.github.io/ggwordcloud/" target="_blank" rel="noopener"><code>{ggwordcloud}</code></a></p>
<p>Instalar el paquete:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">devtools</span><span style="color:#908caa">::</span><span style="color:#ea9a97">install_github</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;lepennec/ggwordcloud&#34;</span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Configuramos un tema general para los gráficos, para que se vean bonitos aquí 🥰</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">ggplot2</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">library</span><span style="color:#908caa">(</span><span style="color:#ea9a97">ggwordcloud</span><span style="color:#908caa">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6e6a86"># definir el tema para todos los gráficos</span>
</span></span><span style="display:flex;"><span><span style="color:#ea9a97">theme_set</span><span style="color:#908caa">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme_void</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">theme</span><span style="color:#908caa">(</span><span style="color:#ea9a97">plot.background</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">element_rect</span><span style="color:#908caa">(</span><span style="color:#ea9a97">fill</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#EAD1FA&#34;</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">linewidth</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0</span><span style="color:#908caa">))</span>
</span></span><span style="display:flex;"><span><span style="color:#908caa">)</span>
</span></span></code></pre></div><p>Para crear la nube de palabras con <code>{ggplot2}</code>, solamente tenemos que especificar en la estética <code>aes()</code> la variable que contiene las palabras (<code>palabra</code>) y la variable que controla el tamaño de las mismas (<code>n</code>). Luego simplemente indicar que los datos van a visualizarse por medio de la geometría <code>geom_text_wordcloud()</code>, que se encargará de distribuir los textos en el área del gráfico.</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">2000</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ggplot</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">label</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">size</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">n</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_text_wordcloud</span><span style="color:#908caa">(</span><span style="color:#ea9a97">shape</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;circle&#34;</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                      <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#543A74&#34;</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># definir rango de tamaños de las palabras</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_size_continuous</span><span style="color:#908caa">(</span><span style="color:#ea9a97">range</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">3</span><span style="color:#908caa">,</span> <span style="color:#f6c177">20</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-12-1.png" width="768" />
<p>El beneficio de usar esta estrategia es que te entrega toda la flexibilidad de visualizar datos con <code>{ggplot2}</code>. Por ejemplo, podemos agregar un mapeo de la transparencia y el color para crear una nube donde las palabras menos frecuentes sean más transparentes y donde ciertas palabras claves tengan un color distinto:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">2000</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">clave</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">ifelse</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;gobierno&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;presidente&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;boric&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;ministerio&#34;</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;clave&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;otras&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ggplot</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">label</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">size</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">n</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#ea9a97">alpha</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">n</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">clave</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_text_wordcloud</span><span style="color:#908caa">(</span><span style="color:#ea9a97">shape</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;circle&#34;</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                      <span style="color:#ea9a97">grid_size</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">6</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># definir rango de tamaño de palabras</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_size_continuous</span><span style="color:#908caa">(</span><span style="color:#ea9a97">range</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">3</span><span style="color:#908caa">,</span> <span style="color:#f6c177">15</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># especificar colores de las palabras clave</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_color_manual</span><span style="color:#908caa">(</span><span style="color:#ea9a97">values</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;clave&#34;</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#D93E98&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;otras&#34;</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#543A74&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># definir el rango de la transparencia de palabras</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_alpha_continuous</span><span style="color:#908caa">(</span><span style="color:#ea9a97">range</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">0.4</span><span style="color:#908caa">,</span> <span style="color:#f6c177">1</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-13-1.png" width="768" />
<p>También podemos crear una variable que destaques ciertas palabras específicas dentro de la nube:</p>
<div class="highlight"><pre tabindex="0" style="color:#e0def4;background-color:#232136;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#ea9a97">palabras_conteo</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">filter</span><span style="color:#908caa">(</span><span style="color:#ea9a97">n</span> <span style="color:#908caa">&gt;</span> <span style="color:#f6c177">1500</span><span style="color:#908caa">)</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># crear variable que destaque palabras específicas</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">mutate</span><span style="color:#908caa">(</span><span style="color:#ea9a97">clave</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">ifelse</span><span style="color:#908caa">(</span><span style="color:#ea9a97">palabra</span> <span style="color:#908caa">%in%</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;gobierno&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;chile&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                                       <span style="color:#f6c177">&#34;presidente&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;boric&#34;</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>                                       <span style="color:#f6c177">&#34;ministerio&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;ministra&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;interior&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                                       <span style="color:#f6c177">&#34;partido&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                                       <span style="color:#f6c177">&#34;público&#34;</span><span style="color:#908caa">),</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#f6c177">&#34;clave&#34;</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;otras&#34;</span><span style="color:#908caa">))</span> <span style="color:#908caa">|&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">ggplot</span><span style="color:#908caa">()</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">aes</span><span style="color:#908caa">(</span><span style="color:#ea9a97">label</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">palabra</span><span style="color:#908caa">,</span> <span style="color:#ea9a97">size</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">n</span><span style="color:#908caa">,</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#6e6a86"># mapear transparencia a la variable con palabras clave</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ea9a97">alpha</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">clave</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">geom_text_wordcloud</span><span style="color:#908caa">(</span><span style="color:#ea9a97">shape</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;circle&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#ea9a97">color</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">&#34;#543A74&#34;</span><span style="color:#908caa">,</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#ea9a97">rm_outside</span> <span style="color:#908caa">=</span> <span style="color:#3e8fb0">TRUE</span><span style="color:#908caa">)</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># especificar rango de tamaños</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_size_continuous</span><span style="color:#908caa">(</span><span style="color:#ea9a97">range</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">3</span><span style="color:#908caa">,</span> <span style="color:#f6c177">15</span><span style="color:#908caa">))</span> <span style="color:#908caa">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6e6a86"># especificar nivel de transparencia de las palabras clave y de las demás</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ea9a97">scale_alpha_manual</span><span style="color:#908caa">(</span><span style="color:#ea9a97">values</span> <span style="color:#908caa">=</span> <span style="color:#ea9a97">c</span><span style="color:#908caa">(</span><span style="color:#f6c177">&#34;clave&#34;</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">1</span><span style="color:#908caa">,</span> <span style="color:#f6c177">&#34;otras&#34;</span> <span style="color:#908caa">=</span> <span style="color:#f6c177">0.3</span><span style="color:#908caa">))</span>
</span></span></code></pre></div><pre><code>Warning in wordcloud_boxes(data_points = points_valid_first, boxes = boxes, :
Some words could not fit on page. They have been removed.
</code></pre>
<img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-14-1.png" width="768" />
<p>Con esta aproximación podemos crear visualizaciones más personalizadas y complejas a partir de datos de texto, sobre todo si tenemos variables adicionales que nos digan más información sobre las palabras que queremos graficar, cómo puede ser alguna otro criterio de prevalencia de palabras en los documentos, alguna clasificación de las palabras en tópicos o temas, una agrupación de los documentos de donde provienen las palabras, etc.</p>
<hr>
<p><div style="margin-top:24px;">
  
<a href="/clases/spatiallab_introduccion_r_2/">
<img src="/clases/spatiallab_introduccion_r_2/banner_curso_r.jpeg" style="border-radius: 7px; max-height: 240px; display: block; margin: auto; margin-bottom: 8px; margin-top: 8px;" alt="¿Necesitas aprender R para análisis de datos desde cero? Inscríbete a mi curso!">
</a>

<div style="max-width: 320px; margin:auto; font-size:85%;opacity:60%;">
  <p>¿Necesitas aprender R para análisis de datos desde cero? <a href="https://spatiallab.cl/2da-version-curso-introduccion-al-analisis-de-datos-con-r-para-principiantes?variant_id=109682226">Inscríbete a mi curso!</a></p>
  </div>

</div>
<div style = "height: 18px;">
</div>
<div>
  <div style="display: flex;
  justify-content: center;
  align-items: center;">
    <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="bastimapache" data-color="#FFDD00" data-emoji="☕"  data-font="Cookie" data-text="Regálame un cafecito" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#ffffff" ></script>
  </div></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>La limpieza del texto es un paso clave en este tipo de análisis, que para simplificar esta guía, omitiremos. Es muy importante procesar los textos para poder eliminar palabras vacías, palabras mal escritas, remover símbolos, remover palabras irrelevantes, e incluso lematizar palabras para agrupar diferentes conjugaciones de una misma palabra en una sola.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Fecha de publicación:</dt>
    <dd class="fw5 ml0">July 5, 2025</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Extensión:</dt>
    <dd class="fw5 ml0">9 minute read, 1746 words</dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="https://bastianoleah.netlify.app/tags/visualizaci%C3%B3n-de-datos">visualización de datos</a>  <a href="https://bastianoleah.netlify.app/tags/gr%C3%A1ficos">gráficos</a>  <a href="https://bastianoleah.netlify.app/tags/ggplot2">ggplot2</a>  <a href="https://bastianoleah.netlify.app/tags/an%C3%A1lisis-de-texto">análisis de texto</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Ver también:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/ggplot_purrr/">Generar múltiples gráficos automáticamente con R</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/2025-07-11/">Gráfico de densidad tipo Joy Division en {ggplot2}</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/ggrepel/">Etiquetas de texto que se repelen entre sí con {ggrepel}</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://bastianoleah.netlify.app/blog/2025-07-08/">&larr; Reduce el tamaño de tus reportes Quarto con este truco</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://bastianoleah.netlify.app/blog/ordenar_comunas/">Ordenar las comunas de Chile de norte a sur en R &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
    
      <script src="https://utteranc.es/client.js"
              repo="bastianolea/blog-bastianolea-r"
              issue-term="pathname"
              theme="github-light"
              label="comments"
              crossorigin="anonymous"
              async
              type="text/javascript">
      </script>
    
  
</div>

    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2025 Bastián Olea Herrera, Chile
      <span class="middot-divider"></span>
      Hecho con <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Basado en <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span>, de <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastianolea.rbind.io" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.tiktok.com/@bastimapache" title="tiktok" target="_blank" rel="me noopener">
      <i class="fab fa-tiktok fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/raccunnie" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.goodreads.com/user/show/53224910-basti-n-olea-herrera" title="goodreads" target="_blank" rel="me noopener">
      <i class="fab fa-goodreads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/contact/" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/about/" title="Bastián Olea: Sobre mi">Sobre mi</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Bastián Olea: Contacto">Contacto</a>
      
      <a class="dib pv1 ph2 link" href="/license/" title="Bastián Olea: Licencia">Licencia</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>

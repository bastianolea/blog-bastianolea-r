<!DOCTYPE html>
<html lang="es" dir="ltr"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=4321&amp;path=livereload" data-no-instant defer></script>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.136.5">
<title>Tutorial: Mapa en `{ggplot2}` con calles desde Open Street Map | Blog</title>


<meta property="twitter:site" content="@bastimapache">
<meta property="twitter:creator" content="@bastimapache">







  
    
  
<meta name="description" content="Blog y portafolio de proyectos de Bastián Olea, sociólogx y analista de datos">


<meta property="og:site_name" content="Blog">
<meta property="og:title" content="Tutorial: Mapa en `{ggplot2}` con calles desde Open Street Map | Blog">
<meta property="og:description" content="Blog y portafolio de proyectos de Bastián Olea, sociólogx y analista de datos" />
<meta property="og:type" content="page" />
<meta property="og:url" content="http://localhost:4321/blog/tutorial_mapas_osm/" />
<meta property="og:locale" content="es">




    
        <meta property="og:image" content="http://localhost:4321/blog/tutorial_mapas_osm/mapa-featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="http://localhost:4321/blog/tutorial_mapas_osm/mapa-featured.png" >
    
    
  
  <meta itemprop="name" content="Tutorial: Mapa en `{ggplot2}` con calles desde Open Street Map">
  <meta itemprop="description" content="En este tutorial crearemos un mapa de una región de Chile, y sobre el polígono geográfico aplicaremos otros elementos geográficos como calles, avenidas y carreteras, obtenidos desde Open Street Map (proveedor de mapas online abierto y comunitario).
Esto puede servir para crear visualizaciones de datos espaciales minimalistas que de todos modos entreguen elementos urbanos de referencia para que les usuaries puedan ubicarse mejor espacialmente.
Usaremos {dplyr} para manipular los datos, el paquete {ggplot2} para visualización de datos, {sf} para tratamiento de elementos espaciales, {rnaturalearth} para obtener mapas de cualquier país o región del mundo, y {osmdata} para obtener datos estaciales desde Open Street Map (OSM) por medio de su API pública.">
  <meta itemprop="datePublished" content="2024-09-03T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-09-03T00:00:00+00:00">
  <meta itemprop="wordCount" content="1136">
  <meta itemprop="image" content="http://localhost:4321/blog/tutorial_mapas_osm/mapa-featured.png">
  <meta itemprop="keywords" content="Mapas,Chile,Gráficos">
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.c84b23339af0ae81be1e818a9a137a9059ead7b0e62f9b19c8ae5dc01488ffc7.css" integrity="sha256-yEsjM5rwroG&#43;HoGKmhN6kFnq17DmL5sZyK5dwBSI/8c=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.c6ccd5985ddbbb688dca2cfdf8d0cd05b24bff603572fa2fd0c04695655af01b.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="http://localhost:4321/" title="Home">
      <img src="/img/logo3b.png" class="dib db-l h2 w-auto" alt="Blog">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Proyectos">Proyectos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="Sobre mi">Sobre mi</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/tags/" title="Temas">Temas</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/categories/tutoriales/" title="Tutoriales">Tutoriales</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/contact/" title="Contacto">Contacto</a>
      
      
      <div class="dib v-mid">
        <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/bastimapache" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastimapache.bsky.social" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.threads.net/@raccunnie" title="threads" target="_blank" rel="me noopener">
      <i class="fab fa-threads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="mailto:bastianolea@gmail.com" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

      </div>
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Tutorial: Mapa en `{ggplot2}` con calles desde Open Street Map</h1>
        
        <p class="f6 measure lh-copy mv1">By Bastián Olea Herrera in <a href="http://localhost:4321/categories/tutoriales">Tutoriales</a> </p>
        <p class="f7 db mv0 ttu">September 3, 2024</p>

      

      </header>
      <section class="post-body pt5 pb4">
        <p>En este tutorial crearemos un mapa de una región de Chile, y sobre el polígono geográfico aplicaremos otros elementos geográficos como calles, avenidas y carreteras, obtenidos desde Open Street Map (proveedor de mapas online abierto y comunitario).</p>
<p>Esto puede servir para crear visualizaciones de datos espaciales minimalistas que de todos modos entreguen elementos urbanos de referencia para que les usuaries puedan ubicarse mejor espacialmente.</p>
<p>Usaremos <code>{dplyr}</code> para manipular los datos, el paquete <code>{ggplot2}</code> para visualización de datos, <code>{sf}</code> para tratamiento de elementos espaciales, <code>{rnaturalearth}</code> para obtener mapas de cualquier país o región del mundo, y <code>{osmdata}</code> para obtener datos estaciales desde Open Street Map (OSM) por medio de su API pública.</p>




<h3 id="cargar-paquetes">Cargar paquetes
  <a href="#cargar-paquetes"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(dplyr) <span style="color:#998;font-style:italic">#manipulación de datos</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(ggplot2) <span style="color:#998;font-style:italic">#gráficos</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(sf) <span style="color:#998;font-style:italic">#elementos espaciales</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(rnaturalearth) <span style="color:#998;font-style:italic">#mapas del mundo</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(osmdata) <span style="color:#998;font-style:italic">#datos open street map</span>
</span></span></code></pre></div>



<h2 id="obtener-mapa-de-país-y-de-región">Obtener mapa de país y de región
  <a href="#obtener-mapa-de-pa%c3%ads-y-de-regi%c3%b3n"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>El primer paso es obtener un mapa de Chile, a nivel de regiones, usando la función <code>ne_states()</code> del paquete <code>{rnaturalearth}</code>. Luego filtramos el dataframe resultante para enfocarnos en una sola región del país.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># obtener mapa pero a nivel de regiones</span>
</span></span><span style="display:flex;"><span>mapa_1 <span style="color:#000;font-weight:bold">&lt;-</span> rnaturalearth<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">ne_states</span>(country <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Chile&#34;</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">select</span>(name, name_es, iso_3166_2, code_hasc, geometry)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mapa_2 <span style="color:#000;font-weight:bold">&lt;-</span> mapa_1 <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">filter</span>(name <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;Los Lagos&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mapa_2
</span></span></code></pre></div><pre><code>Simple feature collection with 1 feature and 4 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -74.40722 ymin: -44.045 xmax: -71.65926 ymax: -40.27304
Geodetic CRS:  WGS 84
       name   name_es iso_3166_2 code_hasc                       geometry
1 Los Lagos Los Lagos      CL-LL     CL.LG MULTIPOLYGON (((-71.76926 -...
</code></pre>
<p>Previsualizamos la región obtenida usando <code>{ggplot2}</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mapa_2 <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">ggplot</span>() <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.4</span>,
</span></span><span style="display:flex;"><span>            color <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey80&#34;</span>, fill <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey95&#34;</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">theme_classic</span>()
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-3-1.png" width="768" />
<p>Luego realizamos el primer paso para obtener los datos desde Open Street Map, que es definir las coordenadas de la caja delimitadora o <em>bounding box</em> del lugar del que vamos a solicitar datos. Por ejemplo, una ciudad específica. Si bien esto se puede hacer con la función <code>osmdata::getbb()</code>, los resultados no siempre coinciden con lo que esperamos (la región o ciudad puede salir más recortada de lo esperado), por lo que preferimos usar directamente la caja del mapa que queremos visualizar, usando <code>sf::st_bbox()</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># obtener perímetro o área abarcada por el mapa</span>
</span></span><span style="display:flex;"><span>caja <span style="color:#000;font-weight:bold">&lt;-</span> mapa_2 <span style="color:#000;font-weight:bold">|&gt;</span> <span style="color:#900;font-weight:bold">st_bbox</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># opcionalmente, se podría hacer con el nombre del lugar</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># area &lt;- getbb(&#34;Región de Los Lagos, Chile&#34;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>caja
</span></span></code></pre></div><pre><code>     xmin      ymin      xmax      ymax 
-74.40722 -44.04500 -71.65926 -40.27304 
</code></pre>




<h2 id="obtener-datos-geográficos-desde-open-street-map">Obtener datos geográficos desde Open Street Map
  <a href="#obtener-datos-geogr%c3%a1ficos-desde-open-street-map"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Teniendo estas coordenadas, se solicitan los datos haciendo un <em>query</em> a la API <em>Overpass</em> de OSM. En esta solicitud se especifica la característica del mapa que se va a obtener, y sus valores; en este caso, queremos obtener las calles de una región, por lo que la <em>feature</em> corresponde a <em>highway.</em> Dividimos la query en varias partes, para tener en objetos separados las calles de distintos tamaños (a grandes rasgos: autopistas y avenidas, calles secundarias, y calles interiores).</p>
<p>Considerar que cada query puede tomar un tiempo, dependiendo de la cantidad de datos, y que OSM es un proyecto soportado por voluntarios, por lo que se recomienda no abusar de la API (hacer la mínima cantidad de solicitudes, no hacer muchas solicitudes seguidas, etc.)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># obtener calles dentro de la caja</span>
</span></span><span style="display:flex;"><span>calles_grandes <span style="color:#000;font-weight:bold">&lt;-</span> caja <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">opq</span>(timeout <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">500</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">add_osm_feature</span>(key <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;highway&#34;</span>, 
</span></span><span style="display:flex;"><span>                    value <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;motorway&#34;</span>, <span style="color:#d14">&#34;primary&#34;</span>, <span style="color:#d14">&#34;motorway_link&#34;</span>, <span style="color:#d14">&#34;primary_link&#34;</span>)) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">osmdata_sf</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>calles_medianas <span style="color:#000;font-weight:bold">&lt;-</span> caja <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">opq</span>(timeout <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">500</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">add_osm_feature</span>(key <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;highway&#34;</span>, 
</span></span><span style="display:flex;"><span>                    value <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;secondary&#34;</span>, <span style="color:#d14">&#34;tertiary&#34;</span>, <span style="color:#d14">&#34;secondary_link&#34;</span>, <span style="color:#d14">&#34;tertiary_link&#34;</span>)) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">osmdata_sf</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>calles_chicas <span style="color:#000;font-weight:bold">&lt;-</span> caja <span style="color:#000;font-weight:bold">|&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">opq</span>(timeout <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">500</span>) <span style="color:#000;font-weight:bold">|&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">add_osm_feature</span>(key <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;highway&#34;</span>,
</span></span><span style="display:flex;"><span>                    value <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;residential&#34;</span>, <span style="color:#d14">&#34;living_street&#34;</span>,
</span></span><span style="display:flex;"><span>                              <span style="color:#d14">&#34;unclassified&#34;</span>, <span style="color:#d14">&#34;service&#34;</span>, <span style="color:#d14">&#34;footway&#34;</span>)) <span style="color:#000;font-weight:bold">|&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">osmdata_sf</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>calles_grandes
</span></span></code></pre></div><pre><code>Object of class 'osmdata' with:
                 $bbox : -44.0449981164699,-74.4072159499999,-40.2730445289999,-71.6592646899999
        $overpass_call : The call submitted to the overpass API
                 $meta : metadata including timestamp and version numbers
           $osm_points : 'sf' Simple Features Collection with 34928 points
            $osm_lines : 'sf' Simple Features Collection with 3580 linestrings
         $osm_polygons : 'sf' Simple Features Collection with 0 polygons
       $osm_multilines : NULL
    $osm_multipolygons : NULL
</code></pre>
<p>Habiendo obtenido los datos geográficos desde OSM, recibimos objetos que contienen los elementos espaciales. Extraemos las líneas de cada uno de los objetos, para quedarnos sólo con las calles. Opcionalmente, podemos recortar los elementos espaciales obtenidos con la figura del mapa, usando el mapa como figura de recorte para que las líneas de las calles no se salgan de los márgenes del mapa.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># extraer toda la geometría</span>
</span></span><span style="display:flex;"><span>calles_grandes_a <span style="color:#000;font-weight:bold">&lt;-</span> calles_grandes<span style="color:#000;font-weight:bold">$</span>osm_lines
</span></span><span style="display:flex;"><span>calles_medianas_a <span style="color:#000;font-weight:bold">&lt;-</span> calles_medianas<span style="color:#000;font-weight:bold">$</span>osm_lines
</span></span><span style="display:flex;"><span>calles_chicas_a <span style="color:#000;font-weight:bold">&lt;-</span> calles_chicas<span style="color:#000;font-weight:bold">$</span>osm_lines
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># recortar geometría para que calce dentro del polígono del mapa</span>
</span></span><span style="display:flex;"><span>calles_grandes_b <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">st_intersection</span>(calles_grandes<span style="color:#000;font-weight:bold">$</span>osm_lines, mapa_2)
</span></span><span style="display:flex;"><span>calles_medianas_b <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">st_intersection</span>(calles_medianas<span style="color:#000;font-weight:bold">$</span>osm_lines, mapa_2)
</span></span><span style="display:flex;"><span>calles_chicas_b <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">st_intersection</span>(calles_chicas<span style="color:#000;font-weight:bold">$</span>osm_lines, mapa_2)
</span></span></code></pre></div>



<h2 id="visualizar-mapa-con-calles">Visualizar mapa con calles
  <a href="#visualizar-mapa-con-calles"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Finalmente, podemos aplicar las capas obtenidas a nuestro gráfico de <code>{ggplot2}</code>. Podemos ajustar la apariencia de cada tipo de calle por separado dado que las ubicamos en capas distintas.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">ggplot</span>() <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># capa del país entero (como fondo)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> mapa_1, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.4</span>,
</span></span><span style="display:flex;"><span>            color <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey95&#34;</span>, fill <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey98&#34;</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># capa del mapa de la región</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> mapa_2,
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.4</span>, 
</span></span><span style="display:flex;"><span>            color <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey80&#34;</span>, fill <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey95&#34;</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># capas osm</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> calles_medianas_b, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> calles_grandes_b, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.4</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># recortar vista</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">coord_sf</span>(xlim <span style="color:#000;font-weight:bold">=</span> caja<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span>, <span style="color:#099">3</span>)],
</span></span><span style="display:flex;"><span>             ylim <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">-42.4</span>, <span style="color:#099">-40.3</span>)) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">theme_classic</span>()
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-7-1.png" width="768" />
<p>Otro ejemplo del mapa visto desde más cerca, incluyendo la capa de calles interiores:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">ggplot</span>() <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># capa del mapa</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> mapa_2,
</span></span><span style="display:flex;"><span>            fill <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;grey95&#34;</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># capas osm</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> calles_grandes_b, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> calles_medianas_b, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.4</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> calles_chicas_b, 
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.2</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.2</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># recortar vista</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">coord_sf</span>(xlim <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">-73.18</span>, <span style="color:#099">-73.09</span>),
</span></span><span style="display:flex;"><span>             ylim <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">-40.6</span>, <span style="color:#099">-40.55</span>)) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">theme_classic</span>()
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-8-1.png" width="768" />




<h2 id="ejemplo">Ejemplo
  <a href="#ejemplo"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Realizamos el mismo proceso en un solo paso, para otra región del país, mostrando la diferencia entre visualizar un dato al azar con y sin calles.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># obtener mapa</span>
</span></span><span style="display:flex;"><span>mapa_rm <span style="color:#000;font-weight:bold">&lt;-</span> rnaturalearth<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">ne_states</span>(country <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Chile&#34;</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">select</span>(name, geometry) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># filter(name == &#34;Región Metropolitana de Santiago&#34;)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">filter</span>(name <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;Maule&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># obtener calles</span>
</span></span><span style="display:flex;"><span>calles_grandes_rm <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">st_bbox</span>(mapa_rm) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">opq</span>(timeout <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">500</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">add_osm_feature</span>(key <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;highway&#34;</span>, 
</span></span><span style="display:flex;"><span>                    value <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;motorway&#34;</span>, <span style="color:#d14">&#34;primary&#34;</span>, <span style="color:#d14">&#34;motorway_link&#34;</span>, <span style="color:#d14">&#34;primary_link&#34;</span>)) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">osmdata_sf</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>calles_medianas_rm <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">st_bbox</span>(mapa_rm) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">opq</span>(timeout <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">500</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">add_osm_feature</span>(key <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;highway&#34;</span>, 
</span></span><span style="display:flex;"><span>                    value <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;secondary&#34;</span>, <span style="color:#d14">&#34;tertiary&#34;</span>, <span style="color:#d14">&#34;secondary_link&#34;</span>, <span style="color:#d14">&#34;tertiary_link&#34;</span>)) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">osmdata_sf</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># puntos para graficar</span>
</span></span><span style="display:flex;"><span>puntos <span style="color:#000;font-weight:bold">&lt;-</span> calles_grandes_rm<span style="color:#000;font-weight:bold">$</span>osm_points <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">filter</span>(highway <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;stop&#34;</span>) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">st_intersection</span>(mapa_rm) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">rowwise</span>() <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">mutate</span>(azar <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">sample</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>, <span style="color:#099">1</span>),
</span></span><span style="display:flex;"><span>           azar <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">ifelse</span>(azar <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">7</span>, <span style="color:#099">1</span>, azar)) <span style="color:#000;font-weight:bold">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">ungroup</span>()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># visualizar sin calles</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">ggplot</span>() <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> mapa_rm) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> puntos, 
</span></span><span style="display:flex;"><span>            <span style="color:#900;font-weight:bold">aes</span>(size <span style="color:#000;font-weight:bold">=</span> azar),
</span></span><span style="display:flex;"><span>            color <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;purple3&#34;</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.2</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">scale_size</span>(range <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">3</span>, <span style="color:#099">10</span>)) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">theme_classic</span>()
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-10-1.png" width="768" />
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># visualizar con calles</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">ggplot</span>() <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> mapa_rm) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">st_intersection</span>(calles_grandes_rm<span style="color:#000;font-weight:bold">$</span>osm_lines, mapa_rm),
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.2</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.7</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">st_intersection</span>(calles_medianas_rm<span style="color:#000;font-weight:bold">$</span>osm_lines, mapa_rm),
</span></span><span style="display:flex;"><span>            linewidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.1</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.3</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">geom_sf</span>(data <span style="color:#000;font-weight:bold">=</span> puntos, 
</span></span><span style="display:flex;"><span>            <span style="color:#900;font-weight:bold">aes</span>(size <span style="color:#000;font-weight:bold">=</span> azar),
</span></span><span style="display:flex;"><span>            color <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;purple3&#34;</span>, alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">.2</span>) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">scale_size</span>(range <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">3</span>, <span style="color:#099">10</span>)) <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">theme_classic</span>()
</span></span></code></pre></div><img src="index.markdown_strict_files/figure-markdown_strict/unnamed-chunk-11-1.png" width="768" />
<hr>
<p><strong>Bastián Olea Herrera</strong></p>
<p>Analista de datos, magíster en Sociología (PUC)</p>
<p>
<a href="https://bastianolea.github.io/shiny_apps/" target="_blank" rel="noopener">https://bastianolea.github.io/shiny_apps/</a></p>
<p>
<a href="https://bastian.olea.biz" target="_blank" rel="noopener">https://bastian.olea.biz</a></p>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">September 3, 2024</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">6 minute read, 1136 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="http://localhost:4321/categories/tutoriales">Tutoriales</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="http://localhost:4321/tags/mapas">mapas</a>  <a href="http://localhost:4321/tags/chile">chile</a>  <a href="http://localhost:4321/tags/gr%C3%A1ficos">gráficos</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/tutorial_mapa_urbano/">Tutorial: Mapa de la zona urbana de la Región Metropolitana de Santiago en R</a></dd>
    
    <dd class="fw5 ml0"><a href="/blog/tutorial_delitos_cead/">Tutorial: Scraping de estadísticas delictuales del Centro de Estudios y Análisis del Delito con R</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="http://localhost:4321/blog/tutorial_mapa_urbano/">Tutorial: Mapa de la zona urbana de la Región Metropolitana de Santiago en R &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
    
      <script src="https://utteranc.es/client.js"
              repo="apreshill/apero"
              issue-term="pathname"
              theme="boxy-light"
              label="comments :crystal_ball:"
              crossorigin="anonymous"
              async
              type="text/javascript">
      </script>
    
  
</div>

    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2024 Bastián Olea Herrera, Chile
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/bastianolea" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/bastimapache" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://x.com/bastimapache" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/bastimapache.bsky.social" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.threads.net/@raccunnie" title="threads" target="_blank" rel="me noopener">
      <i class="fab fa-threads fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/bastianolea/" title="linkedin" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="mailto:bastianolea@gmail.com" title="envelope" >
      <i class="fas fa-envelope fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/about/" title="Sobre mi">Sobre mi</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contacto">Contacto</a>
      
      <a class="dib pv1 ph2 link" href="/license/" title="Licencia">Licencia</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
